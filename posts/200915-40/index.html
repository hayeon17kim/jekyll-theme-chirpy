<!DOCTYPE html><html lang="kr-KR" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="pv-cache-enabled" content="false"><meta name="generator" content="Jekyll v4.2.0" /><meta property="og:title" content="학원 #40일차: 파일 입출력" /><meta name="author" content="hayeon_kim" /><meta property="og:locale" content="kr_KR" /><meta name="description" content="mini pms 프로젝트 v.30: 파일 입출력 API를 활용하여 데이터를 읽고 쓰기" /><meta property="og:description" content="mini pms 프로젝트 v.30: 파일 입출력 API를 활용하여 데이터를 읽고 쓰기" /><link rel="canonical" href="https://hayeon17kim.github.io//posts/200915-40/" /><meta property="og:url" content="https://hayeon17kim.github.io//posts/200915-40/" /><meta property="og:site_name" content="하연" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2020-09-15T00:00:00+08:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="학원 #40일차: 파일 입출력" /><meta name="twitter:site" content="@MONI56219559" /><meta name="twitter:creator" content="@hayeon_kim" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"author":{"@type":"Person","name":"hayeon_kim"},"headline":"학원 #40일차: 파일 입출력","dateModified":"2020-09-15T00:00:00+08:00","datePublished":"2020-09-15T00:00:00+08:00","description":"mini pms 프로젝트 v.30: 파일 입출력 API를 활용하여 데이터를 읽고 쓰기","url":"https://hayeon17kim.github.io//posts/200915-40/","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://hayeon17kim.github.io//posts/200915-40/"},"@context":"https://schema.org"}</script><title>학원 #40일차: 파일 입출력 | 하연</title><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon.png"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon-precomposed.png"><link rel="apple-touch-icon" sizes="57x57" href="/assets/img/favicons/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/assets/img/favicons/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicons/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/assets/img/favicons/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicons/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/assets/img/favicons/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicons/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/assets/img/favicons/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/assets/img/favicons/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/assets/img/favicons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/manifest.json"><meta name='msapplication-config' content='/assets/img/favicons/browserconfig.xml'><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/assets/img/favicons/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="cdn.jsdelivr.net"><link rel="dns-prefetch" href="cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=UA-173202420-1"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-173202420-1'); }); </script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/img/bio-photo.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">하연</a></div><div class="site-subtitle font-italic">어제보다 나은 코드를 위해</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/projects/" class="nav-link"> <i class="fa-fw fas fa-laptop-code ml-xl-3 mr-xl-3 unloaded"></i> <span>PROJECTS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/hayeon17kim" aria-label="github" class="order-3" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/MONI56219559" aria-label="twitter" class="order-4" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['hayeon17kim','gmail.com'].join('@')" aria-label="email" class="order-5" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" class="order-6" > <i class="fas fa-rss"></i> </a> <span class="icon-border order-2"></span> <span id="mode-toggle-wrapper" class="order-1"> <i class="mode-toggle fas fa-adjust"></i> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } var self = this; /* always follow the system prefers */ this.sysDarkPrefers.addListener(function() { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.updateMermaid(); }); } /* constructor() */ setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode == ModeToggle.DARK_MODE; } get isLightMode() { return this.mode == ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer) ) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } updateMermaid() { if (typeof mermaid !== "undefined") { let expectedTheme = (this.modeStatus === ModeToggle.DARK_MODE? "dark" : "default"); let config = { theme: expectedTheme }; /* re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function() { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.updateMermaid(); } /* flipMode() */ } /* ModeToggle */ let toggle = new ModeToggle(); $(".mode-toggle").click(function() { toggle.flipMode(); }); </script> </span></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Posts </a> </span> <span>학원 #40일차: 파일 입출력</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>학원 #40일차: 파일 입출력</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Tue, Sep 15, 2020, 12:00 AM +0800" > Sep 15, 2020 <i class="unloaded">2020-09-15T00:00:00+08:00</i> </span> by <span class="author"> hayeon_kim </span></div><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="6186 words">34 min</span></div></div><div class="post-content"><h1 id="mini-pms-프로젝트-v30-파일-입출력-api를-활용하여-데이터를-읽고-쓰기">mini pms 프로젝트 v.30: 파일 입출력 API를 활용하여 데이터를 읽고 쓰기</h1><h2 id="v30-a-csv-파일-포맷">v.30-a: CSV 파일 포맷</h2><p>이전 버전까지 사용자가 입력한 데이터를 컬렉션 객체에 저장했다. 즉 <strong>RAM에 데이터가 저장</strong>되어 있어서 프로그램을 종료하거나 컴퓨터를 끄면 데이터가 지워지는 문제가 있었다. 프로그램을 종료하더라도 데이터가 지워지지 않게 하려면, <strong>외부 저장장치</strong>(ex: 하드 디스크, SSD 등)에 저장해야 한다. 즉 데이터를 파일로 출력해야 한다.</p><p>파일 입출력 API는 데이터를 파일로 입출력하는 다양한 도구(클래스, 인터페이스)를 제공한다.</p><h3 id="csvcomma-seperated-values-파일-포맷">CSV(Comma-Seperated Values) 파일 포맷</h3><ul><li>확장자는 <code class="language-plaintext highlighter-rouge">.csv</code>를 사용한다.<li>MIME 형식은 <code class="language-plaintext highlighter-rouge">text/csv</code>로 표현한다.<li>각 레코드(한 단위의 값)는 한 줄의 문자열로 표현한다.<li>한 줄은 줄바꿈 기호(CRLF)로 구분한다.<li>레코드를 구성하는 필드는 콤마(,)로 구분한다.<li>각 필드는 큰 따옴표를 쳐도 되고 안 쳐도 된다.<li>파일을 저장할 때 마지막 레코드는 줄바꿈 기호가 있을 수도 있고 없을 수도 있다.</ul><pre><code class="language-csv">aaa, bbb, ccc (CRLF)
aaa, "bbb", ccc (CRLF)
aaa, bbb, ccc
</code></pre><h3 id="레코드record">레코드(record)</h3><ul><li>컴퓨터 과학에서 한 단위의 정보를 가리키는 용어<ul><li>ex) 학생정보, 성적정보, 도서정보, 주문정보, 결제정보</ul><li>한 개 이상의 필드(field)로 구성된다.<ul><li>ex) 학생정보: 이름, 전화번호, 나이, 우편번호, 주소, 이메일, 암호 등</ul><li>객체지향 프로그래밍에서 레코드는 보통 클래스로 정의한다.<li>필드는 클래스의 인스턴스 필드로 정의한다.</ul><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre><span class="kd">class</span> <span class="nc">Movie</span> <span class="o">{</span> <span class="c1">// 레코드 =&gt; 클래스</span>
  <span class="nc">String</span> <span class="n">title</span><span class="o">;</span> <span class="c1">// 필드 =&gt; 인스턴스 필드</span>
  <span class="nc">String</span> <span class="n">director</span><span class="o">;</span>
  <span class="kt">int</span> <span class="n">year</span><span class="o">;</span>
  <span class="kt">int</span> <span class="n">runningTime</span><span class="o">;</span>
<span class="o">}</span>
</pre></table></code></div></div><h3 id="decorator-디자인-패턴">Decorator 디자인 패턴</h3><p>주어진 상황 및 용도에 따라 어떤 객체에 책임을 덧붙이는 패턴으로, 객체에 추가적인 요건을 동적으로 첨가하며, 기능 확장이 필요할 때 서브클래싱 대신 쓸 수 있는 유연한 대안이 될 수 있다.</p><h3 id="filereaderfilewriter와-scanner">FileReader/FileWriter와 Scanner</h3><p><code class="language-plaintext highlighter-rouge">FileReader</code> 객체에는 <code class="language-plaintext highlighter-rouge">read()</code>나 <code class="language-plaintext highlighter-rouge">read(byte[] arr)</code> 메서드밖에 없다. 이 메서드만으로 한 줄씩 값을 꺼내기 위해서는 다음과 같이 코딩해야 할 것이다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre><span class="n">out</span><span class="o">=</span> <span class="k">new</span> <span class="nc">FileReader</span><span class="o">(</span><span class="n">file</span><span class="o">);</span>

<span class="nc">StringBuffer</span> <span class="n">buf</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">StringBuffer</span><span class="o">();</span>
<span class="kt">int</span> <span class="n">ch</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="o">;</span>
<span class="k">while</span> <span class="o">(</span><span class="n">ch</span> <span class="o">=</span> <span class="n">out</span><span class="o">.</span><span class="na">read</span><span class="o">()</span> <span class="o">!=</span> <span class="sc">'\n'</span><span class="o">)</span> <span class="o">{</span>
  <span class="n">buf</span><span class="o">.</span><span class="na">append</span><span class="o">((</span><span class="kt">char</span><span class="o">)</span><span class="n">ch</span><span class="o">);</span>
<span class="o">}</span>
<span class="nc">String</span> <span class="n">str</span> <span class="o">=</span> <span class="n">buf</span><span class="o">.</span><span class="na">toString</span><span class="o">();</span>
</pre></table></code></div></div><p>이 코드는 이미 Scanner의 nextLine() 메서드에 들어 있다. Filereader의 read() 메서드만으로는 번거롭기 때문에 FileReader라는 수도꼭지에 Scanner라는 플러그인(필터)을 장착해야 한다. 즉 필터인 Scanner는 수도꼭지에 연결되어 있어야 한다. 필터 자체가 File에서 읽을 수는 없으니까 수도꼭지를 넘겨준다. 그러면 이제 Scanner의 nextLine(), nextInt() 메서드를 통해 한 줄의 문자열 또는 4바이트의 int 값을 리턴받을 수 있게 된다. Scanner의 메서드 내부적으로는 read()를 대신 호출할 것이다. 다시 말해, 이 과정은 원래 객체가 있는데 객체에 원하는 기능이 없으니까, 플러그인을 통해 그 기능을 강화시킨다. 이처럼 동작을 수행하는 코드를 쓰기 좋게끔 메서드에 포장하고 그걸 더 쓰기 좋게끔 class에 포장하는 것이 캡슐화이다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="n">out</span> <span class="o">=</span>  <span class="k">new</span> <span class="nc">FileReader</span><span class="o">(</span><span class="n">file</span><span class="o">);</span>
<span class="n">scanner</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Scanner</span><span class="o">(</span><span class="n">out</span><span class="o">);</span> <span class="c1">// FileReader 객체에 플러그인을 꼽는다.</span>
</pre></table></code></div></div><h3 id="실습">실습</h3><h4 id="1단계-애플리케이션을-실행했을-때-파일에서-데이터를-읽어오는-loadxxx를-정의한다">1단계: 애플리케이션을 실행했을 때 파일에서 데이터를 읽어오는 <code class="language-plaintext highlighter-rouge">loadXxx()</code>를 정의한다.</h4><p>.csv 파일에서 한 줄 단위로 문자열을 읽는 기능이 필요한데, FileReader에는 그런 기능이 없다. 그래서 FileReader를 그대로 사용할 수 없고, FileReader 객체에 다른 도구인 Scanner를 연결하여 사용해야 한다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
</pre><td class="rouge-code"><pre><span class="kd">private</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">loadBoards</span><span class="o">()</span> <span class="o">{</span>
  <span class="nc">FileReader</span> <span class="n">in</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
  <span class="nc">Scanner</span> <span class="n">dataScan</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
  
  <span class="k">try</span> <span class="o">{</span>
    <span class="c1">// 파일을 읽을 때 사용할 도구를 준비한다.</span>
    <span class="n">in</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">FileReader</span><span class="o">(</span><span class="n">boardFile</span><span class="o">);</span>
    <span class="n">dataScan</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Scanner</span><span class="o">(</span><span class="n">in</span><span class="o">);</span>
    <span class="kt">int</span> <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
    
    <span class="k">while</span> <span class="o">(</span><span class="kc">true</span><span class="o">)</span> <span class="o">{</span>
      <span class="k">try</span> <span class="o">{</span>
        <span class="c1">// 파일에서 한 줄을 읽는다. </span>
        <span class="nc">String</span> <span class="n">line</span> <span class="o">=</span> <span class="n">dataScan</span><span class="o">.</span><span class="na">nextLine</span><span class="o">();</span>
        <span class="c1">// 한 줄을 콤마(,)로 나눈다.</span>
        <span class="nc">String</span><span class="o">[]</span> <span class="n">data</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="na">split</span><span class="o">(</span><span class="s">","</span><span class="o">);</span>
        
        <span class="c1">// 한 줄에 들어 있던 데이터를 추출하여 Board 객체에 담는다.</span>
        <span class="nc">Board</span> <span class="n">board</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Board</span><span class="o">();</span>
        <span class="n">board</span><span class="o">.</span><span class="na">setNo</span><span class="o">(</span><span class="nc">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">data</span><span class="o">[</span><span class="mi">0</span><span class="o">]));</span>
        <span class="n">baord</span><span class="o">.</span><span class="na">setTitle</span><span class="o">(</span><span class="n">data</span><span class="o">[</span><span class="mi">1</span><span class="o">]);</span>
        <span class="n">board</span><span class="o">.</span><span class="na">setContent</span><span class="o">(</span><span class="n">data</span><span class="o">[</span><span class="mi">2</span><span class="o">]);</span>
        <span class="n">board</span><span class="o">.</span><span class="na">setWriter</span><span class="o">(</span><span class="n">data</span><span class="o">[</span><span class="mi">3</span><span class="o">]);</span>
        <span class="n">board</span><span class="o">.</span><span class="na">setRegisteredDate</span><span class="o">(</span><span class="nc">Date</span><span class="o">.</span><span class="na">valueOf</span><span class="o">(</span><span class="n">data</span><span class="o">[</span><span class="mi">4</span><span class="o">]));</span>
        <span class="n">board</span><span class="o">.</span><span class="na">setViewCount</span><span class="o">(</span><span class="nc">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">data</span><span class="o">[</span><span class="mi">5</span><span class="o">]));</span>
        
        <span class="c1">// 게시글 객체를 Command가 사용하는 목록에 저장한다.</span>
        <span class="n">boardList</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">board</span><span class="o">);</span>
        <span class="n">count</span><span class="o">++;</span>
      <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">break</span><span class="o">;</span>
      <span class="o">}</span>
    <span class="o">}</span>
    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"총 %d개의 게시글 데이터를 로딩했습니다."</span><span class="o">);</span>
  <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">FileNotFoundException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"게시글 파일 읽기 중 오류 발생! - "</span> <span class="o">+</span> <span class="n">e</span><span class="o">.</span><span class="na">getMessage</span><span class="o">());</span>
    <span class="c1">// 파일에서 데이터를 읽다가 오류가 발생하더라도</span>
    <span class="c1">// 시스템을 멈추지 않고 계속 실행하게 하는 것이 예외 처리를 하는 목적이다.</span>
  <span class="o">}</span> <span class="k">finally</span> <span class="o">{</span>
    <span class="c1">// 자원이 서로 연결된 경우에는 다른 자원을 이용하는 객체부터 닫는다.</span>
    <span class="c1">// 객체를 닫다가 (close()) 오류가 발생하더라도 무시한다.</span>
    <span class="c1">// 닫다가 발생한 오류는 특별히 처리할 게 없기 때문이다.</span>
    <span class="k">try</span> <span class="o">{</span> <span class="n">dataScan</span><span class="o">.</span><span class="na">close</span><span class="o">();</span> <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{}</span>
    <span class="k">try</span> <span class="o">{</span> <span class="n">in</span><span class="o">.</span><span class="na">close</span><span class="o">();</span> <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{}</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><blockquote><p>보통 Scanner 객체를 닫으면 out 객체도 닫힌다. 그러나 scanner.close()에서 닫다가 실패하면 out.close()에서 닫을 수 있게 하기 위해 둘다 닫도록 한다.</p></blockquote><p>데이터를 저장할 List 객체는 위에서 만든 메서드에서 접근할 수 있도록 static field로 선언한다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">App</span> <span class="o">{</span>
  <span class="kd">static</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Board</span><span class="o">&gt;</span> <span class="n">boardList</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">();</span>
<span class="o">}</span>
</pre></table></code></div></div><h4 id="2단계-애플리케이션을-종료할-때-데이터를-파일에-저장하는-savexxx를-정의한다">2단계: 애플리케이션을 종료할 때 데이터를 파일에 저장하는 <code class="language-plaintext highlighter-rouge">saveXxx()</code>를 정의한다.</h4><p>데이터를 저장할 파일 정보를 제공하는 File 객체는 saveBoards() 메서드에서 접근할 수 있돌고 static field로 선언한다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">App</span> <span class="o">{</span>
  <span class="kd">static</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Board</span><span class="o">&gt;</span> <span class="n">boardList</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;();</span>
  <span class="kd">static</span> <span class="nc">File</span> <span class="n">boardFile</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">File</span><span class="o">(</span><span class="s">"./board.csv"</span><span class="o">);</span>
<span class="o">}</span>
</pre></table></code></div></div><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
</pre><td class="rouge-code"><pre><span class="kd">private</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">saveBoards</span><span class="o">()</span> <span class="o">{</span>
  <span class="nc">FileWriter</span> <span class="n">out</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
  
  <span class="k">try</span> <span class="o">{</span>
    <span class="c1">// 파일로 데이터를 출력할 때 사용할 도구를 준비한다.</span>
    <span class="n">out</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">FileWriter</span><span class="o">(</span><span class="n">boardFile</span><span class="o">);</span>
    <span class="kt">int</span> <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
    
    <span class="k">for</span> <span class="o">(</span><span class="nc">Board</span> <span class="n">board</span> <span class="o">:</span> <span class="n">boardList</span><span class="o">)</span> <span class="o">{</span>
      <span class="nc">String</span> <span class="n">line</span> <span class="o">=</span> <span class="nc">String</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="s">"%d,%s,%s,%s,%s,%d\n"</span><span class="o">,</span> 
            <span class="n">board</span><span class="o">.</span><span class="na">getNo</span><span class="o">(),</span>
            <span class="n">board</span><span class="o">.</span><span class="na">getTitle</span><span class="o">(),</span>
            <span class="n">board</span><span class="o">.</span><span class="na">getContent</span><span class="o">(),</span>
            <span class="n">board</span><span class="o">.</span><span class="na">getWriter</span><span class="o">(),</span>
            <span class="n">board</span><span class="o">.</span><span class="na">getRegisteredDate</span><span class="o">(),</span>
            <span class="n">board</span><span class="o">.</span><span class="na">getViewCount</span><span class="o">());</span>
      <span class="n">out</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="n">line</span><span class="o">);</span>
      <span class="n">count</span><span class="o">++;</span>
    <span class="o">}</span>
    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"총 %개의 게시글 데이터를 저장했습니다."</span><span class="o">);</span>
  <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">IOException</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"게시글 데이터의 파일 쓰기 중 오류 발생!"</span><span class="o">);</span>
  <span class="o">}</span> <span class="k">finally</span> <span class="o">{</span>
    <span class="k">try</span> <span class="o">{</span>
      <span class="n">out</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
    <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">IOException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
      <span class="c1">// FileWriter를 닫을 때 발생하는 예외는 무시한다.</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><blockquote><p>File 인스턴스를 생성했다고 해서 파일이나 디렉토리가 생성되는 것은 아니다. 파일명이나 디렉토리명으로 지정된 문자열이 유효하지 않더라도 컴파일 에러나 예외를 발생시키지 않는다. 새로운 파일을 생성하기 위해서는 File 인스턴스를 생성한 다음, 출력 스트림을 생성하거나 createNewFile()을 호출해야 한다.</p></blockquote><h4 id="3단계-main의-시작과-끝에서-load와-save를-호출한다">3단계: main()의 시작과 끝에서 <code class="language-plaintext highlighter-rouge">load()</code>와 <code class="language-plaintext highlighter-rouge">save()</code>를 호출한다.</h4><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre><td class="rouge-code"><pre>  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>

    <span class="c1">// 파일에서 데이터 로딩</span>
    <span class="n">loadBoards</span><span class="o">();</span>
    <span class="n">loadMembers</span><span class="o">();</span>
    <span class="n">loadProjects</span><span class="o">();</span>
    <span class="n">loadTasks</span><span class="o">();</span>
	
    <span class="c1">//...</span>
    
    <span class="c1">// 데이터를 파일에 저장</span>
    <span class="n">saveBoards</span><span class="o">();</span>
    <span class="n">saveMembers</span><span class="o">();</span>
    <span class="n">saveProjects</span><span class="o">();</span>
    <span class="n">saveTasks</span><span class="o">();</span>
  <span class="o">}</span>
</pre></table></code></div></div><p>Member, Project, Task에 대해서도 같은 작업을 수행한다.</p><h2 id="v-30-b-리팩토링-객체-생성에-팩토리-메서드-패턴-적용">v. 30-b 리팩토링: 객체 생성에 팩토리 메서드 패턴 적용</h2><h3 id="리팩토링">리팩토링</h3><p>소프트웨어를 보다 쉽게 이해할 수 있고, 적은 비용으로 수정할 수 있도록 <strong>겉으로 보이는 동작의 변화 없이 내부 구조를 변경</strong>하는 것을 말한다. <strong>중복된 코드를 제거</strong>하여 설계(design)를 개선시키고, 코드를 더 이해하기 쉽게 만든다. 따라서 버그를 찾기 쉽게 해주고 프로그램을 빨리 작성하도록 도와준다.</p><p>비슷한 코드를 중복해서 작성할 때, 기능을 추가할 때, 버그를 수정할 때, 코드 리뷰(code review)를 수행할 때 리팩터링을 한다.</p><h3 id="팩토리-메서드factory-method-패턴">팩토리 메서드(factory method) 패턴</h3><ul><li>new 명령을 사용하여 객체를 생성하기보다는, 메서드를 통해 객체를 리턴받는다.<li>인터페이스로 객체 생성 규칙을 정의하여 프로그래밍의 일관성을 제공한다.<li>또한 객체 생성의 책임을 인터페이스 구현체에게 떠넘긴다.</ul><h3 id="grasp-패턴">GRASP 패턴</h3><ul><li>General Responsibility Assignment Software Patterns<li>객체지향 디자인의 핵심은 각 객체에 책임을 부여하는 것이다.<li>GRASP 패턴은 책임을 부여하는 원칙을 말하고 있는 패턴이다.<li>구체적인 구조는 없고, 총 9가지의 원칙을 가지고 있다.</ul><h3 id="information-expert">Information Expert</h3><ul><li>GRASP 패턴의 원칙 중 하나이다.<li>책임을 수행할 수 있는 데이터를 가지고 있는 객체에 책임을 부여하는 것이다.<li>객체는 데이터와 처리로직이 함께 묶여 있는 것이다.<li>정보 은닉을 통해 <strong>자신의 데이터를 감추고 오직 메서드로만 데이터를 처리</strong>하고, <strong>외부에는 그 기능(책임)만을 제공</strong>한다.<li>어떤 객체가 그 일을 한다는 것은 그 일을 하는 메서드가 그 객체에 있다는 것이다.<li>어떤 클래스에 메서드를 부여하는 것은 책임을 부여하는 것이다.</ul><h3 id="실습-1">실습</h3><h4 id="1단계-csv-문자열을-가지고-도메인-객체를-생성하는-valueofcsv-메서드-추출">1단계: CSV 문자열을 가지고 도메인 객체를 생성하는 <code class="language-plaintext highlighter-rouge">valueOfCsv()</code> 메서드 추출</h4><p><code class="language-plaintext highlighter-rouge">loadBoards()</code>에서 CSV 문자열을 가지고 Board 객체를 생성하는 코드를 뽑아 App클래스의 <code class="language-plaintext highlighter-rouge">valueOfCsv()</code>라는 static 메서드로 정의한다.</p><blockquote><p>parsing: 분석하다, 해석하다 (ex: <code class="language-plaintext highlighter-rouge">Date.valueOf()</code>)</p></blockquote><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre><td class="rouge-code"><pre>  <span class="kd">static</span> <span class="nc">Board</span> <span class="nf">valueOfCsv</span><span class="o">(</span><span class="nc">String</span> <span class="n">csv</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">String</span><span class="o">[]</span> <span class="n">values</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="na">split</span><span class="o">(</span><span class="s">","</span><span class="o">);</span>
    <span class="nc">Board</span> <span class="n">board</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Board</span><span class="o">();</span>
    <span class="n">board</span><span class="o">.</span><span class="na">setNo</span><span class="o">(</span><span class="nc">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">values</span><span class="o">[</span><span class="mi">0</span><span class="o">]));</span>
    <span class="n">board</span><span class="o">.</span><span class="na">setTitle</span><span class="o">(</span><span class="n">values</span><span class="o">[</span><span class="mi">1</span><span class="o">]);</span>
    <span class="n">board</span><span class="o">.</span><span class="na">setContent</span><span class="o">(</span><span class="n">values</span><span class="o">[</span><span class="mi">2</span><span class="o">]);</span>
    <span class="n">board</span><span class="o">.</span><span class="na">setWriter</span><span class="o">(</span><span class="n">values</span><span class="o">[</span><span class="mi">3</span><span class="o">]);</span>
    <span class="n">board</span><span class="o">.</span><span class="na">setRegisteredDate</span><span class="o">(</span><span class="nc">Date</span><span class="o">.</span><span class="na">valueOf</span><span class="o">(</span><span class="n">values</span><span class="o">[</span><span class="mi">4</span><span class="o">]));</span>
    <span class="n">board</span><span class="o">.</span><span class="na">setViewCount</span><span class="o">(</span><span class="nc">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">values</span><span class="o">[</span><span class="mi">5</span><span class="o">]));</span>
    <span class="k">return</span> <span class="n">board</span><span class="o">;</span>
  <span class="o">}</span>
</pre></table></code></div></div><p>원래 코드가 놓여져 있던 <code class="language-plaintext highlighter-rouge">loadBoards()</code>의 자리에서 <code class="language-plaintext highlighter-rouge">valueOfCsv()</code> 를 호출하도록 한다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">loadBoards</span><span class="o">()</span> <span class="o">{</span>
  <span class="nc">FileReader</span> <span class="n">in</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
  <span class="nc">Scanner</span> <span class="n">scanner</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
  
  <span class="k">try</span> <span class="o">{</span>
    <span class="n">in</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">FileReader</span><span class="o">(</span><span class="n">boardfile</span><span class="o">);</span>
    <span class="n">scanner</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Scanner</span><span class="o">(</span><span class="n">in</span><span class="o">);</span>
    
    <span class="k">while</span><span class="o">(</span><span class="kc">true</span><span class="o">)</span> <span class="o">{</span>
      <span class="k">try</span> <span class="o">{</span>
        <span class="c1">// valueOfCsv() 호출</span>
        <span class="n">boardList</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">valueOfCsv</span><span class="o">(</span><span class="n">scanner</span><span class="o">.</span><span class="na">nextLine</span><span class="o">()));</span>
      <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">NoSuchElementException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">break</span><span class="o">;</span>
      <span class="o">}</span>
    <span class="o">}</span>
  <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">IOException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"파일 읽기 작업 중에 오류 발생!"</span><span class="o">);</span>
    <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
  <span class="o">}</span> <span class="k">finally</span> <span class="o">{</span>
    <span class="k">try</span> <span class="o">{</span><span class="n">scanner</span><span class="o">.</span><span class="na">close</span><span class="o">();}</span> <span class="k">catch</span><span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">){}</span>
    <span class="k">try</span> <span class="o">{</span><span class="n">in</span><span class="o">.</span><span class="na">close</span><span class="o">();}</span> <span class="k">catch</span><span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{}</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><h4 id="2단계-도메인-객체의-필드-값을-csv-문자열로-리턴하는-tocsvstring-메서드-추출">2단계: 도메인 객체의 필드 값을 CSV 문자열로 리턴하는 <code class="language-plaintext highlighter-rouge">toCsvString()</code> 메서드 추출</h4><p><code class="language-plaintext highlighter-rouge">saveBoards()</code>에서 Board 객체의 필드 값을 CSV 문자열로 바꿔주는 코드를 뽑아 App클래스의 <code class="language-plaintext highlighter-rouge">valueOfCsv()</code>라는 static 메서드로 정의한다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre><span class="kd">static</span> <span class="nc">String</span> <span class="nf">toCsvString</span><span class="o">(</span><span class="nc">Board</span> <span class="n">board</span><span class="o">)</span> <span class="o">{</span>
  <span class="k">return</span> <span class="nc">String</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="s">"%d,%s,%s,%s,%s,%d"</span><span class="o">,</span> 
                       <span class="n">board</span><span class="o">.</span><span class="na">getNo</span><span class="o">(),</span> 
                       <span class="n">board</span><span class="o">.</span><span class="na">getTitle</span><span class="o">(),</span> 
                       <span class="n">board</span><span class="o">.</span><span class="na">getContent</span><span class="o">(),</span>
                       <span class="n">board</span><span class="o">.</span><span class="na">getWriter</span><span class="o">(),</span> 
                       <span class="n">board</span><span class="o">.</span><span class="na">getRegisteredDate</span><span class="o">(),</span> 
                       <span class="n">board</span><span class="o">.</span><span class="na">getViewCount</span><span class="o">());</span>
<span class="o">}</span>
</pre></table></code></div></div><p>원래 코드가 놓여져 있던 <code class="language-plaintext highlighter-rouge">saveBoards()</code>의 자리에서 <code class="language-plaintext highlighter-rouge">toCsvString()</code> 를 호출하도록 한다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
</pre><td class="rouge-code"><pre><span class="kd">private</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">saveBoards</span><span class="o">()</span> <span class="o">{</span>
  <span class="nc">FileWriter</span> <span class="n">out</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
  
  <span class="k">try</span> <span class="o">{</span>
    <span class="c1">// 파일로 데이터를 출력할 때 사용할 도구를 준비한다.</span>
    <span class="n">out</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">FileWriter</span><span class="o">(</span><span class="n">boardFile</span><span class="o">);</span>
    <span class="kt">int</span> <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
    
    <span class="k">for</span> <span class="o">(</span><span class="nc">Board</span> <span class="n">board</span> <span class="o">:</span> <span class="n">boardList</span><span class="o">)</span> <span class="o">{</span>
      <span class="n">out</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="n">toCsvString</span><span class="o">(</span><span class="n">board</span><span class="o">));</span>
      <span class="n">count</span><span class="o">++;</span>
    <span class="o">}</span>
    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"총 %개의 게시글 데이터를 저장했습니다."</span><span class="o">);</span>
  <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">IOException</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"게시글 데이터의 파일 쓰기 중 오류 발생!"</span><span class="o">);</span>
  <span class="o">}</span> <span class="k">finally</span> <span class="o">{</span>
    <span class="k">try</span> <span class="o">{</span>
      <span class="n">out</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
    <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">IOException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
      <span class="c1">// FileWriter를 닫을 때 발생하는 예외는 무시한다.</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><h3 id="3단계-데이터를-csv-형식의-문자열로-다루는-메서드를-도메인-클래스로-이동한다">3단계: 데이터를 CSV 형식의 문자열로 다루는 메서드를 도메인 클래스로 이동한다.</h3><p>GRASP 패턴의 Information Expert 원칙에 따라, CSV 형식의 문자열을 다루는 코드 <code class="language-plaintext highlighter-rouge">valueOfCsv()</code>, <code class="language-plaintext highlighter-rouge">toCsvString()</code> 메서드로 추출하여 그 값을 다루는 도메인 클래스에 둔다.</p><p><code class="language-plaintext highlighter-rouge">valueOfCsv()</code>의 경우 특정 게시글이 필요 없다. 즉 인스턴스 객체가 필요 없다. 특정 Board 객체를 가지고 작업하는 메서드가 아니기 때문에 static 메서드로 냅둔다.</p><p>반면 <code class="language-plaintext highlighter-rouge">toCsvString()</code>은 특정 Board 객체가 필요한 메서드이다. 원래 메서드에서는 특정 Board 객체를 파라미터로 받았다. 그러나 인스턴스 메서드로 둘 경우 특정 Board 객체를 통해 호출하게 되면 this에 특정 Board 인스턴스의 주소가 담기기 때문에 이에 접근할 수 있다. 따라서 인스턴스 메서드로 선언한다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Board</span> <span class="o">{</span>
  <span class="c1">//...</span>
  
  <span class="c1">// 스태틱 메서드</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="nc">Board</span> <span class="nf">valueOfCsv</span><span class="o">(</span><span class="nc">String</span> <span class="n">csv</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">String</span><span class="o">[]</span> <span class="n">values</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="na">split</span><span class="o">(</span><span class="s">","</span><span class="o">);</span>
    <span class="nc">Board</span> <span class="n">board</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Board</span><span class="o">();</span>
    <span class="n">board</span><span class="o">.</span><span class="na">setNo</span><span class="o">(</span><span class="nc">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">values</span><span class="o">[</span><span class="mi">0</span><span class="o">]));</span>
    <span class="n">board</span><span class="o">.</span><span class="na">setTitle</span><span class="o">(</span><span class="n">values</span><span class="o">[</span><span class="mi">1</span><span class="o">]);</span>
    <span class="n">board</span><span class="o">.</span><span class="na">setContent</span><span class="o">(</span><span class="n">values</span><span class="o">[</span><span class="mi">2</span><span class="o">]);</span>
    <span class="n">board</span><span class="o">.</span><span class="na">setWriter</span><span class="o">(</span><span class="n">values</span><span class="o">[</span><span class="mi">3</span><span class="o">]);</span>
    <span class="n">board</span><span class="o">.</span><span class="na">setRegisteredDate</span><span class="o">(</span><span class="nc">Date</span><span class="o">.</span><span class="na">valueOf</span><span class="o">(</span><span class="n">values</span><span class="o">[</span><span class="mi">4</span><span class="o">]));</span>
    <span class="n">board</span><span class="o">.</span><span class="na">setViewCount</span><span class="o">(</span><span class="nc">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">values</span><span class="o">[</span><span class="mi">5</span><span class="o">]));</span>
    <span class="k">return</span> <span class="n">board</span><span class="o">;</span>
  <span class="o">}</span>
  
  <span class="c1">// 인스턴스 메서드</span>
  <span class="c1">//public static String toCsvString(Board board) {</span>
  <span class="kd">public</span> <span class="nc">String</span> <span class="nf">toCsvString</span><span class="o">()</span> <span class="o">{</span>
  	<span class="k">return</span> <span class="nc">String</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="s">"%d,%s,%s,%s,%s,%d"</span><span class="o">,</span> 
                       <span class="n">board</span><span class="o">.</span><span class="na">getNo</span><span class="o">(),</span> 
                       <span class="n">board</span><span class="o">.</span><span class="na">getTitle</span><span class="o">(),</span> 
                       <span class="n">board</span><span class="o">.</span><span class="na">getContent</span><span class="o">(),</span>
                       <span class="n">board</span><span class="o">.</span><span class="na">getWriter</span><span class="o">(),</span> 
                       <span class="n">board</span><span class="o">.</span><span class="na">getRegisteredDate</span><span class="o">(),</span> 
                       <span class="n">board</span><span class="o">.</span><span class="na">getViewCount</span><span class="o">());</span>
	<span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><blockquote><p>이해하기 전에 익숙해지는 단계가 필요하다.</p></blockquote><h1 id="파일-입출력">파일 입출력</h1><h2 id="javaiofile-클래스">java.io.File 클래스</h2><ul><li><p>파일이나 디렉토리 정보를 관리</p><li><p>파일이나 디렉토리를 생성, 삭제, 변경</p></ul><blockquote><p>프로그램 세계에서는 파일, 디렉토리 모두 파일로 퉁친다.</p></blockquote><p>File 인스턴스를 생성하였다고 해서 파일이나 디렉토리가 생성되는 것은 아니다. 파일명이나 디렉토리명으로 지정된 문자열이 융효하지 않다 하더라도 컴파일 에러나 예외를 발생시키지 않는다. 새로운 파일을 생성하기 위해서는 File인스턴스를 생성한 다음 출력스트림을 생성하거나 <code class="language-plaintext highlighter-rouge">createNewFile()</code>을 호출해야 한다.</p><ul><li>이미 존재하는 파일을 참조할 때<ul><li><code class="language-plaintext highlighter-rouge">File f = new File("C:\\jdk1.8\\work\\ch15", "FileEx1.java")</code></ul><li>기존에 없는 파일을 새로 생성할 때<ul><li><code class="language-plaintext highlighter-rouge">File f = new File("C:\\jdk1.8\\work\\ch15", "NewFile.java")</code><li><code class="language-plaintext highlighter-rouge">f.createNewFile();</code> -&gt; 새로운 파일이 생성된다.</ul></ul><h2 id="폴더-정보-조회">폴더 정보 조회</h2><ul><li><code class="language-plaintext highlighter-rouge">.</code>으로 경로를 표시한다.<ul><li>이클립스에서 프로그램을 실행한다면 프로젝트 폴더를 가리킨다.<li>콘솔에서 프로그램을 실행한다면 현재 명령어를 실행하는 위치를 가리킨다.</ul></ul><p>다음과 같이 File 인스턴스를 생성하였다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nc">File</span> <span class="n">currentDir</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">File</span><span class="o">(</span><span class="s">"./src/main/java"</span><span class="o">);</span>
</pre></table></code></div></div><p>다음 결과는 모두 이클립스에서 실행한 결과이다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre><td class="rouge-code"><pre><span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">printf</span><span class="o">(</span><span class="s">"폴더명: %s\n"</span><span class="o">,</span> <span class="n">currentDir</span><span class="o">.</span><span class="na">getName</span><span class="o">());</span>
<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">printf</span><span class="o">(</span><span class="s">"경로: %s\n"</span><span class="o">,</span> <span class="n">currentDir</span><span class="o">.</span><span class="na">getPath</span><span class="o">());</span>
<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">printf</span><span class="o">(</span><span class="s">"절대경로: %s\n"</span><span class="o">,</span> <span class="n">currentDir</span><span class="o">.</span><span class="na">getAbsolutePath</span><span class="o">());</span>
<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">printf</span><span class="o">(</span><span class="s">"계산된 절대경로: %s\n"</span><span class="o">,</span> <span class="n">currentDir</span><span class="o">.</span><span class="na">getCanonicalPath</span><span class="o">());</span>

<span class="c1">// 존재하지 않는 폴더인 경우 크기를 알아낼 수 없다.</span>
<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">printf</span><span class="o">(</span><span class="s">"총크기: %d\n"</span><span class="o">,</span> <span class="n">currentDir</span><span class="o">.</span><span class="na">getTotalSpace</span><span class="o">());</span>
<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">printf</span><span class="o">(</span><span class="s">"남은크기: %d\n"</span><span class="o">,</span> <span class="n">currentDir</span><span class="o">.</span><span class="na">getFreeSpace</span><span class="o">());</span>
<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">printf</span><span class="o">(</span><span class="s">"가용크기: %d\n"</span><span class="o">,</span> <span class="n">currentDir</span><span class="o">.</span><span class="na">getUsableSpace</span><span class="o">());</span>

<span class="c1">// 존재하지 않는 폴더인 경우 정보를 알아낼 수 없다. 모두 false</span>
<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">printf</span><span class="o">(</span><span class="s">"디렉토리여부: %b\n"</span><span class="o">,</span> <span class="n">currentDir</span><span class="o">.</span><span class="na">isDirectory</span><span class="o">());</span>
<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">printf</span><span class="o">(</span><span class="s">"파일여부: %b\n"</span><span class="o">,</span> <span class="n">currentDir</span><span class="o">.</span><span class="na">isFile</span><span class="o">());</span>
<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">printf</span><span class="o">(</span><span class="s">"감춤폴더: %b\n"</span><span class="o">,</span> <span class="n">currentDir</span><span class="o">.</span><span class="na">isHidden</span><span class="o">());</span>
<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">printf</span><span class="o">(</span><span class="s">"존재여부: %b\n"</span><span class="o">,</span> <span class="n">currentDir</span><span class="o">.</span><span class="na">exists</span><span class="o">());</span>
<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">printf</span><span class="o">(</span><span class="s">"실행가능여부: %b\n"</span><span class="o">,</span> <span class="n">currentDir</span><span class="o">.</span><span class="na">canExecute</span><span class="o">());</span>
</pre></table></code></div></div><p>결과는 다음과 같다.</p><div class="language-console highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre><td class="rouge-code"><pre><span class="go">폴더명: java
경로: .\src\main\java
절대경로: C:\Users\Monica Kim\git\eomcs-java-basic\.\src\main\java
계산된 절대경로: C:\Users\Monica Kim\git\eomcs-java-basic\src\main\java
총크기: 232334409728
남은크기: 77701234688
가용크기: 77701234688
디렉토리여부: true
파일여부: false
감춤폴더: false
존재여부: true
실행가능여부: true
</span></pre></table></code></div></div><p>상위 경로는 <code class="language-plaintext highlighter-rouge">..</code>으로 표시한다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nc">File</span> <span class="n">currentDir</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">File</span><span class="o">(</span><span class="s">"./src/main/java/../../test/java"</span><span class="o">);</span>
</pre></table></code></div></div><p>결과</p><div class="language-console highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre><td class="rouge-code"><pre><span class="go">폴더명: java
경로: .\src\main\java
절대경로: C:\Users\Monica Kim\git\bitcamp-workspace\bitcamp-java-basic\.\src\main\java
계산된 절대경로: C:\Users\Monica Kim\git\bitcamp-workspace\bitcamp-java-basic\src\main\java
총크기: 232334409728
남은크기: 74741284864
가용크기: 74741284864
디렉토리여부: true
파일여부: false
감춤폴더: false
존재여부: true
실행가능여부: true
</span></pre></table></code></div></div><h2 id="디렉토리-생성-mkdir">디렉토리 생성: <code class="language-plaintext highlighter-rouge">mkdir()</code></h2><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="nc">File</span> <span class="n">dir</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">File</span><span class="o">(</span><span class="s">"temp/a"</span><span class="o">);</span> <span class="c1">// 생성할 디렉토리 경로 지정</span>
<span class="k">if</span> <span class="o">(</span><span class="n">dir</span><span class="o">.</span><span class="na">mkdir</span><span class="o">())</span> <span class="c1">// 디렉토리 생성</span>
  <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"temp 디렉토리를 생성하였습니다."</span><span class="o">);</span>
<span class="k">else</span>
  <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"temp 디렉토리를 생성할 수 없습니다."</span><span class="o">);</span>
</pre></table></code></div></div><p>만약 해당 경로 <code class="language-plaintext highlighter-rouge">(.temp2)</code>의 디렉토리가 존재하지 않을 때는 디렉토리(a)를 새로 만들 수 없다.</p><h2 id="디렉토리-삭제-delete">디렉토리 삭제: <code class="language-plaintext highlighter-rouge">delete()</code></h2><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="nc">File</span> <span class="n">dir</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">File</span><span class="o">(</span><span class="s">"temp"</span><span class="o">);</span>
<span class="k">if</span> <span class="o">(</span><span class="n">dir</span><span class="o">.</span><span class="na">delete</span><span class="o">())</span>
  <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"temp 디렉토리를 만들었습니다 ."</span><span class="o">);</span>
<span class="k">else</span>
  <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"temp 디렉토리를 생성할 수 없습니다."</span><span class="o">);</span>
</pre></table></code></div></div><p>디렉토리 안에 파일이나 다른 하위 디렉토리가 있다면 삭제할 수 없다. 또한 존재하지 않는 디렉토리도 삭제할 수 없다.</p><h2 id="파일-생성-createnewfile">파일 생성: <code class="language-plaintext highlighter-rouge">createNewFile()</code></h2><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre><span class="nc">File</span> <span class="n">file</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">File</span><span class="o">(</span><span class="s">"temp2/a/test.txt"</span><span class="o">);</span>

<span class="k">if</span> <span class="o">(</span><span class="n">file</span><span class="o">.</span><span class="na">createNewFile</span><span class="o">())</span>
  <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"test.txt 파일을 생성하였습니다."</span><span class="o">);</span>
<span class="k">else</span>
  <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"test.txt 파일을 생성할 수 없습니다."</span><span class="o">);</span>
</pre></table></code></div></div><p>이미 파일이 있거나, 경로에 디렉토리가 없다면 파일을 생성할 수 없다. 예외가 발생한다.</p><h2 id="파일-삭제">파일 삭제</h2><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="nc">File</span> <span class="n">file</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">File</span><span class="o">(</span><span class="s">"temp2/a/test.txt"</span><span class="o">);</span>
<span class="k">if</span> <span class="o">(</span><span class="n">file</span><span class="o">.</span><span class="na">delete</span><span class="o">())</span>
  <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"test.txt 파일을 삭제하였습니다."</span><span class="o">);</span>
<span class="k">else</span>
  <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"test.txt 파일을 삭제할 수 없습니다."</span><span class="o">);</span>
</pre></table></code></div></div><p>파일이나 존재하지 않으면 삭제할 수 없다. 경로가 존재하지 않으면 당연히 그 경로에 파일이 없으니까 삭제할 수 없다.</p><h2 id="특정-폴더를-생성하여-그-폴더에-파일을-만든다">특정 폴더를 생성하여 그 폴더에 파일을 만든다.</h2><p>파일을 생성하기 전에 존재하지 않는 폴더를 만들고 싶다면 다음과 같이 부모 경로의 파일 객체를 만들어 주고 <code class="language-plaintext highlighter-rouge">mkdir()</code> 로 먼저 생성해 주고 그 다음에 <code class="language-plaintext highlighter-rouge">createNewFile()</code>로 파일을 만들어준다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre><td class="rouge-code"><pre><span class="nc">File</span> <span class="n">file</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">File</span><span class="o">(</span><span class="s">"temp/b/test.txt"</span><span class="o">);</span>

<span class="nc">File</span> <span class="n">dir</span> <span class="o">=</span> <span class="n">file</span><span class="o">.</span><span class="na">getParentFile</span><span class="o">();</span>
<span class="cm">/*
위의 코드는 다음과 같다.
String path = file.getParent(); // =&gt; "temp/b"
File dir = new File(path);
*/</span>

<span class="n">dir</span><span class="o">.</span><span class="na">mkdir</span><span class="o">();</span>
<span class="n">file</span><span class="o">.</span><span class="na">createNewFile</span><span class="o">();</span>
</pre></table></code></div></div><h2 id="디렉토리에-들어-있는-파일이나-하위-디렉토리-정보-알아내기">디렉토리에 들어 있는 파일이나 하위 디렉토리 정보 알아내기</h2><p><code class="language-plaintext highlighter-rouge">list()</code> 메서드는 해당 파일에 있는 <strong>파일 이름</strong>을 담아 String 배열로 리턴한다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre><span class="c1">// 현재 폴더의 정보를 알아낸다.</span>
<span class="nc">File</span> <span class="n">dir</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">File</span><span class="o">(</span><span class="s">"."</span><span class="o">);</span>

<span class="c1">// 현재 폴더에 있는 파일이나 하위 디렉토리 이름을 알아내기</span>
<span class="nc">String</span><span class="o">[]</span> <span class="n">names</span> <span class="o">=</span> <span class="n">dir</span><span class="o">.</span><span class="na">list</span><span class="o">();</span>

<span class="k">for</span> <span class="o">(</span><span class="nc">String</span> <span class="n">name</span> <span class="o">:</span> <span class="n">names</span><span class="o">)</span> <span class="o">{</span>
  <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">name</span><span class="o">);</span>
<span class="o">}</span>
</pre></table></code></div></div><p><code class="language-plaintext highlighter-rouge">listFiles()</code> 메서드는 파일이나 디렉토리 <strong>정보</strong>를 <strong>File 객체</strong>로 받는다. 파일의 이름만을 담아 리턴하는 <code class="language-plaintext highlighter-rouge">list()</code> 메서드와는 달리 정보를 리턴한다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre><span class="nc">File</span> <span class="n">dir</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">File</span><span class="o">(</span><span class="s">"."</span><span class="o">);</span>

<span class="nc">File</span><span class="o">[]</span> <span class="n">files</span> <span class="o">=</span> <span class="n">dir</span><span class="o">.</span><span class="na">listFiles</span><span class="o">();</span>
<span class="k">for</span> <span class="o">(</span><span class="nc">File</span> <span class="n">file</span> <span class="o">:</span> <span class="n">files</span><span class="o">)</span> <span class="o">{</span>
  <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">printf</span><span class="o">(</span><span class="s">"%s 12d %s\n"</span><span class="o">,</span>
                   <span class="n">file</span><span class="o">.</span><span class="na">isDirectory</span><span class="o">()</span> <span class="o">?</span> <span class="s">"d"</span> <span class="o">:</span> <span class="s">"-"</span><span class="o">,</span>
                   <span class="n">file</span><span class="o">.</span><span class="na">length</span><span class="o">(),</span>
                   <span class="n">file</span><span class="o">.</span><span class="na">getName</span><span class="o">());</span>
<span class="o">}</span>
</pre></table></code></div></div><h2 id="디렉토리에-들어-있는-파일-목록-필터">디렉토리에 들어 있는 파일 목록 필터</h2><ul><li><p>FilenameFilter의 accept() 역할</p><p>JavaFilter 클래스의 accept 메서드는 list()에서 호출한다. 해당 폴더에 들어 있는 파일이나 디렉토리를 찾을 때마다 호출한다. 단 하위 폴더 아래는 뒤지지 않는다. 이 메서드에서 해야 할 일은 찾은 파일이나 디렉토리를 리턴할 배열에 포함시킬지 여부이다. true를 리턴하면 배열에 포함되고, false를 리턴하면 배열에 포함되지 않는다.</p></ul><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">Exception</span> <span class="o">{</span>
  
  <span class="kd">class</span> <span class="nc">JavaFilter</span> <span class="kd">implements</span> <span class="nc">FilenameFilter</span> <span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">accept</span><span class="o">(</span><span class="nc">File</span> <span class="n">dir</span><span class="cm">/*부모 경로*/</span><span class="o">,</span> <span class="nc">String</span> <span class="n">name</span><span class="cm">/*파일 이름*/</span><span class="o">)</span> <span class="o">{</span>
      <span class="c1">// 파일, 디렉토리 이름이 .java로 끝나는 경우만 리턴 배열에 포함시킨다.</span>
      <span class="k">if</span> <span class="o">(</span><span class="n">name</span><span class="o">.</span><span class="na">endsWith</span><span class="o">(</span><span class="s">".java"</span><span class="o">))</span>
        <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
      <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
    <span class="o">}</span>
  <span class="o">}</span>
  <span class="c1">// 확장자가 .java인 파일의 이름만 추출하기</span>
  <span class="nc">File</span> <span class="n">dir</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">File</span><span class="o">(</span><span class="s">"."</span><span class="o">);</span>
  <span class="c1">// 1) 필터 준비</span>
  <span class="nc">JavaFilter</span> <span class="n">javaFilter</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JavaFilter</span><span class="o">();</span>
  
  <span class="c1">// 2) 필터를 사용하여 디렉토리의 목록을 가져오기</span>
  <span class="nc">String</span><span class="o">[]</span> <span class="n">names</span> <span class="o">=</span> <span class="n">dir</span><span class="o">.</span><span class="na">list</span><span class="o">(</span><span class="n">javaFilter</span><span class="o">);</span>
  
  <span class="k">for</span> <span class="o">(</span><span class="nc">String</span> <span class="n">name</span> <span class="o">:</span> <span class="n">names</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">name</span><span class="o">);</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><p>확장자가 .java인 파일의 이름만 추출해야 한다고 하자. 다음과 같이 FilenameFilter 구현체를 사용할 수 있다. 단, 위의 코드는 <strong>파일 이름으로만</strong> 검사한다는 문제점이 있다. 만약 <code class="language-plaintext highlighter-rouge">temp.java</code>라는 이름의 디렉토리가 있다고 해보자. 그러면 위의 코드는 해당 디렉토리까지 출력할 것이다. 해당 이름이 디렉토리 이름인지 파일 이름인지 알아내려면 File 객체를 생성해야 한다. 파라미터로 받은 디렉토리 정보와 파일 이름을 합쳐 파일 객체를 생성할 수 있다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">Exception</span> <span class="o">{</span>
  
  <span class="kd">class</span> <span class="nc">JavaFilter</span> <span class="kd">implements</span> <span class="nc">FilenameFilter</span> <span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">accept</span><span class="o">(</span><span class="nc">File</span> <span class="n">dir</span><span class="o">,</span> <span class="nc">String</span> <span class="n">name</span><span class="o">)</span> <span class="o">{</span>
      <span class="c1">// 해당 이름이 디렉토리 이름인지 파일 이름인지 알아내려면</span>
	    <span class="c1">// File 객체를 생성해야 한다.</span>
      <span class="nc">File</span> <span class="n">file</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">File</span><span class="o">(</span><span class="n">dir</span><span class="o">,</span> <span class="n">name</span><span class="o">);</span>
      <span class="c1">// 디렉토리 정보와 이름을 합쳐 파일 객체를 생성할 수 있다.</span>
      <span class="k">if</span> <span class="o">(</span><span class="n">file</span><span class="o">.</span><span class="na">isFile</span><span class="o">()</span> <span class="o">&amp;&amp;</span> <span class="n">name</span><span class="o">.</span><span class="na">endsWith</span><span class="o">(</span><span class="s">".java"</span><span class="o">))</span>
        <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
      <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
    <span class="o">}</span>
  <span class="o">}</span>
  <span class="nc">File</span> <span class="n">dir</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">File</span><span class="o">(</span><span class="s">"."</span><span class="o">);</span>
  <span class="nc">JavaFilter</span> <span class="n">javaFilter</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JavaFilter</span><span class="o">();</span>
  <span class="nc">String</span><span class="o">[]</span> <span class="n">names</span> <span class="o">=</span> <span class="n">dir</span><span class="o">.</span><span class="na">list</span><span class="o">(</span><span class="n">javaFilter</span><span class="o">);</span>
  
  <span class="k">for</span> <span class="o">(</span><span class="nc">String</span> <span class="n">name</span> <span class="o">:</span> <span class="n">names</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">name</span><span class="o">);</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><p>그러나 만약 파일 이름뿐만 아니라 디렉토리인지, 크기는 어떤지 등 파일에 대한 정보를 출력하고 싶다면 어떻게 해야 할까? <code class="language-plaintext highlighter-rouge">list()</code>를 <code class="language-plaintext highlighter-rouge">listFiles()</code>로 대체하면 된다. <code class="language-plaintext highlighter-rouge">list()</code>의 경우 파일 이름 문자열 배열을 리턴하지만, <code class="language-plaintext highlighter-rouge">listFiles()</code>는 File객체를 담은 배열을 리턴하기 때문에, 이 객체의 메서드를 이용하여 해당 파일의 정보를 출력할 수 있다.</p><p>단, <code class="language-plaintext highlighter-rouge">listFiles()</code>의 파라미터로 올 수 있는 값은 <code class="language-plaintext highlighter-rouge">FilenameFilter</code> 구현체가 아니라 <code class="language-plaintext highlighter-rouge">FileFilter</code> 구현체여야 한다. FilenameFilter는 파일 이름으로, FileFilter는 파일 정보로 필터링한다. (물론 FilenameFilter의 accept에서 디렉토리 정보와 파일 이름을 통해 파일 객체를 생성하여 파일 정보로 필터링할 수도 있다. 그러나 FileFilter의 accept처럼 바로 파라미터로 받은 파일 객체를 사용하는 것보다는 수고로움이 요구된다.)</p><p>FileFilter의 accept(File file) 메서드는 지정한 폴더에 들어 있는 파일이나 디렉토리를 찾을 때마다 listFiles() 메서드에서 호출한다. 리턴 값 File[] 에 찾은 파일 정보를 포함 시킬지 여부를 결정한다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Exam0610</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="kd">class</span> <span class="nc">JavaFilter</span> <span class="kd">implements</span> <span class="nc">FileFilter</span> <span class="o">{</span>
      <span class="nd">@Override</span>
      <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">accept</span><span class="o">(</span><span class="nc">File</span> <span class="n">file</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">file</span><span class="o">.</span><span class="na">isFile</span><span class="o">()</span> <span class="o">&amp;&amp;</span> <span class="n">name</span><span class="o">.</span><span class="na">endsWith</span><span class="o">(</span><span class="s">".java"</span><span class="o">))</span>
          <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
        <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
      <span class="o">}</span>
    <span class="o">}</span>
    <span class="nc">File</span> <span class="n">dir</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">File</span><span class="o">(</span><span class="s">"."</span><span class="o">);</span>
    <span class="nc">File</span><span class="o">[]</span> <span class="n">files</span> <span class="o">=</span> <span class="n">dir</span><span class="o">.</span><span class="na">listFiles</span><span class="o">(</span><span class="k">new</span> <span class="nc">JavaFilter</span><span class="o">());</span>
    
    <span class="k">for</span> <span class="o">(</span><span class="nc">File</span> <span class="n">file</span> <span class="o">:</span> <span class="n">files</span><span class="o">)</span> <span class="o">{</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">printf</span><span class="o">(</span><span class="s">"%s %12d %s\n"</span><span class="o">,</span>
                       <span class="n">file</span><span class="o">.</span><span class="na">isDirectory</span><span class="o">()</span> <span class="o">?</span> <span class="s">"d"</span> <span class="o">:</span> <span class="s">"-"</span><span class="o">,</span>
                       <span class="n">file</span><span class="o">.</span><span class="na">length</span><span class="o">(),</span>
                       <span class="n">file</span><span class="o">.</span><span class="na">getName</span><span class="o">());</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><p>FileFilter 구현체를 리팩토링 해보자.</p><p>필터 객체를 한 개만 만들 것이라면 익명 클래스로 만드는 것이 낫다. 또한 객체를 사용할 위치인 <code class="language-plaintext highlighter-rouge">listFiles()</code> 파라미터 자리에 익명 클래스를 정의하는 것이 코드를 더 읽기 쉽게 만든다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre>    <span class="nc">File</span> <span class="n">dir</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">File</span><span class="o">(</span><span class="s">"."</span><span class="o">);</span>
    <span class="nc">File</span><span class="o">[]</span> <span class="n">files</span> <span class="o">=</span> <span class="n">dir</span><span class="o">.</span><span class="na">listFiles</span><span class="o">(</span><span class="k">new</span> <span class="nc">FileFilter</span><span class="o">()</span> <span class="o">{</span>
      <span class="nd">@Override</span>
      <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">accept</span><span class="o">(</span><span class="nc">File</span> <span class="n">file</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">file</span><span class="o">.</span><span class="na">isFile</span><span class="o">()</span> <span class="o">&amp;&amp;</span> <span class="n">name</span><span class="o">.</span><span class="na">endsWith</span><span class="o">(</span><span class="s">".java"</span><span class="o">)</span>
      <span class="o">}</span>
    <span class="o">});</span>
</pre></table></code></div></div><p>메서드 한 개짜리 인터페이스의 경우 람다(Lambda) 문법을 사용하면 더 간결하게 코드를 작성할 수 있다. 표현식(expression)은 return 문장을 생략할 수 있다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="nc">File</span> <span class="n">dir</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">File</span><span class="o">(</span><span class="s">"."</span><span class="o">);</span>
<span class="nc">File</span><span class="o">[]</span> <span class="n">files</span> <span class="o">=</span> <span class="n">dir</span><span class="o">.</span><span class="na">listFiles</span><span class="o">(</span><span class="n">file</span> <span class="o">-&gt;</span> <span class="n">file</span><span class="o">.</span><span class="na">isFile</span><span class="o">()</span> <span class="o">&amp;&amp;</span> <span class="n">name</span><span class="o">.</span><span class="na">endsWith</span><span class="o">(</span><span class="s">".java"</span><span class="o">);</span>
</pre></table></code></div></div></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/bitcamp/'>bitcamp</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/bitcamp/" class="post-tag no-text-decoration" >bitcamp</a> <a href="/tags/java/" class="post-tag no-text-decoration" >java</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=학원 #40일차: 파일 입출력 - 하연&url=https://hayeon17kim.github.io//posts/200915-40/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=학원 #40일차: 파일 입출력 - 하연&u=https://hayeon17kim.github.io//posts/200915-40/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=학원 #40일차: 파일 입출력 - 하연&url=https://hayeon17kim.github.io//posts/200915-40/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/system-deisign-capacity-estimation/">System Design: Capacity Estimate</a><li><a href="/posts/today-i-learned-2021-04-27/">주니어 성장일기: 2021.04.27</a><li><a href="/posts/today-i-learned-2021-04-26/">주니어 성장일기: 2021.04.26</a><li><a href="/posts/fastcampus-01/">자료구조와 알고리즘이란</a><li><a href="/posts/today-i-learned-2021-04-25/">주니어 성장일기: 2021.04.25</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/java/">java</a> <a class="post-tag" href="/tags/javascript/">JavaScript</a> <a class="post-tag" href="/tags/bitcamp/">bitcamp</a> <a class="post-tag" href="/tags/modernjs/">modernJS</a> <a class="post-tag" href="/tags/project/">project</a> <a class="post-tag" href="/tags/algorithm/">algorithm</a> <a class="post-tag" href="/tags/trouble-shooting/">trouble-shooting</a> <a class="post-tag" href="/tags/devil/">devil</a> <a class="post-tag" href="/tags/corejs/">corejs</a> <a class="post-tag" href="/tags/network/">network</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/201123-85/"><div class="card-body"> <span class="timeago small" > Nov 23, 2020 <i class="unloaded">2020-11-23T00:00:00+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>학원 #85일차:서블릿 프로그래밍, WAS, JavaEE와 Servlet 컨테이너, Servlet 인터페이스의 Life-cycle 메서드</h3><div class="text-muted small"><p> 서블릿 프로그래밍 웹 애플리케이션 서버 아키텍쳐의 개념 JavaEE와 Servlet API의 관계 JavaEE 구현체와 서블릿 컨테이너의 관계 eomcs-web-project/src-00 예제 실습 Servlet 인터페이스와 Life-cycle 메서드 WAS(Web Application Server) 아키텍처 이전까지는 사...</p></div></div></a></div><div class="card"> <a href="/posts/201124-86/"><div class="card-body"> <span class="timeago small" > Nov 24, 2020 <i class="unloaded">2020-11-24T00:00:00+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>학원 #86일차:서블릿 프로그래밍, 프로젝트를 WAS 아키텍처로 전환</h3><div class="text-muted small"><p> 서블릿 컨테이너가 관리하는 컴포넌트는 서블릿, 필터, 리스너로 3가지이다. Servlet 만들기 1. javax.servlet.Servlet 인터페이스 구현 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38...</p></div></div></a></div><div class="card"> <a href="/posts/201125-87/"><div class="card-body"> <span class="timeago small" > Nov 25, 2020 <i class="unloaded">2020-11-25T00:00:00+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>학원 #87일차: HTML 태그 사용법</h3><div class="text-muted small"><p> HTML/CSS 학습법: 결과 화면 먼저 보고 소스코드를 확인하자 UI와 UX UX(User Experience; 사용자 경험): 사용자 편의성 ex: 링크에 hover했을 때 커서가 손모양으로 바뀌어야 한다. UI(User Interface): 기능을 하는 화면이 있는가 HTML ...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/200914-39/" class="btn btn-outline-primary" prompt="Older"><p>학원 #39일차: 예외처리</p></a> <a href="/posts/200916-41/" class="btn btn-outline-primary" prompt="Newer"><p>학원 #41일차: 람다(Lambda)</p></a></div><div id="disqus" class="pt-2 pb-2"><p class="text-center text-muted small pb-5"> Loading comments from <a href="https://disqus.com/">Disqus</a> ...</p></div><script src="/assets/js/lib/jquery.disqusloader.min.js"></script> <script> const options = { scriptUrl: '//hayeon17kim-github-io.disqus.com/embed.js', disqusConfig: function() { this.page.title = '학원 #40일차: 파일 입출력'; this.page.url = 'https://hayeon17kim.github.io//posts/200915-40/'; this.page.identifier = '/posts/200915-40/'; } }; $.disqusLoader('#disqus', options); </script></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2021 <a href="https://twitter.com/MONI56219559">hayeon_kim</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/java/">java</a> <a class="post-tag" href="/tags/javascript/">JavaScript</a> <a class="post-tag" href="/tags/bitcamp/">bitcamp</a> <a class="post-tag" href="/tags/modernjs/">modernJS</a> <a class="post-tag" href="/tags/project/">project</a> <a class="post-tag" href="/tags/algorithm/">algorithm</a> <a class="post-tag" href="/tags/trouble-shooting/">trouble shooting</a> <a class="post-tag" href="/tags/devil/">devil</a> <a class="post-tag" href="/tags/corejs/">corejs</a> <a class="post-tag" href="/tags/network/">network</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://hayeon17kim.github.io/{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script>
