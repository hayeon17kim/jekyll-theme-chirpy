<!DOCTYPE html><html lang="kr-KR" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="pv-cache-enabled" content="false"><meta name="generator" content="Jekyll v4.2.0" /><meta property="og:title" content="학원 #38일차: 익명 클래스, 커맨드 디자인 패턴, 상수 다루기" /><meta name="author" content="hayeon_kim" /><meta property="og:locale" content="kr_KR" /><meta name="description" content="anonymous class" /><meta property="og:description" content="anonymous class" /><link rel="canonical" href="https://hayeon17kim.github.io//posts/200911-38/" /><meta property="og:url" content="https://hayeon17kim.github.io//posts/200911-38/" /><meta property="og:site_name" content="하연" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2020-09-11T00:00:00+08:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="학원 #38일차: 익명 클래스, 커맨드 디자인 패턴, 상수 다루기" /><meta name="twitter:site" content="@MONI56219559" /><meta name="twitter:creator" content="@hayeon_kim" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"author":{"@type":"Person","name":"hayeon_kim"},"headline":"학원 #38일차: 익명 클래스, 커맨드 디자인 패턴, 상수 다루기","dateModified":"2020-09-11T00:00:00+08:00","datePublished":"2020-09-11T00:00:00+08:00","description":"anonymous class","url":"https://hayeon17kim.github.io//posts/200911-38/","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://hayeon17kim.github.io//posts/200911-38/"},"@context":"https://schema.org"}</script><title>학원 #38일차: 익명 클래스, 커맨드 디자인 패턴, 상수 다루기 | 하연</title><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon.png"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon-precomposed.png"><link rel="apple-touch-icon" sizes="57x57" href="/assets/img/favicons/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/assets/img/favicons/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicons/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/assets/img/favicons/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicons/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/assets/img/favicons/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicons/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/assets/img/favicons/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/assets/img/favicons/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/assets/img/favicons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/manifest.json"><meta name='msapplication-config' content='/assets/img/favicons/browserconfig.xml'><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/assets/img/favicons/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="cdn.jsdelivr.net"><link rel="dns-prefetch" href="cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=UA-173202420-1"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-173202420-1'); }); </script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/img/bio-photo.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">하연</a></div><div class="site-subtitle font-italic">어제보다 나은 코드를 위해</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/projects/" class="nav-link"> <i class="fa-fw fas fa-laptop-code ml-xl-3 mr-xl-3 unloaded"></i> <span>PROJECTS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/hayeon17kim" aria-label="github" class="order-3" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/MONI56219559" aria-label="twitter" class="order-4" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['hayeon17kim','gmail.com'].join('@')" aria-label="email" class="order-5" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" class="order-6" > <i class="fas fa-rss"></i> </a> <span class="icon-border order-2"></span> <span id="mode-toggle-wrapper" class="order-1"> <i class="mode-toggle fas fa-adjust"></i> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } var self = this; /* always follow the system prefers */ this.sysDarkPrefers.addListener(function() { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.updateMermaid(); }); } /* constructor() */ setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode == ModeToggle.DARK_MODE; } get isLightMode() { return this.mode == ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer) ) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } updateMermaid() { if (typeof mermaid !== "undefined") { let expectedTheme = (this.modeStatus === ModeToggle.DARK_MODE? "dark" : "default"); let config = { theme: expectedTheme }; /* re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function() { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.updateMermaid(); } /* flipMode() */ } /* ModeToggle */ let toggle = new ModeToggle(); $(".mode-toggle").click(function() { toggle.flipMode(); }); </script> </span></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Posts </a> </span> <span>학원 #38일차: 익명 클래스, 커맨드 디자인 패턴, 상수 다루기</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>학원 #38일차: 익명 클래스, 커맨드 디자인 패턴, 상수 다루기</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Fri, Sep 11, 2020, 12:00 AM +0800" > Sep 11, 2020 <i class="unloaded">2020-09-11T00:00:00+08:00</i> </span> by <span class="author"> hayeon_kim </span></div><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="8468 words">47 min</span></div></div><div class="post-content"><h1 id="anonymous-class">anonymous class</h1><h2 id="로컬-클래스-vs-익명-클래스">로컬 클래스 vs 익명 클래스</h2><h3 id="로컬-클래스로-인터페이스-구현하기">로컬 클래스로 인터페이스 구현하기</h3><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Exam0120</span> <span class="o">{</span>
  <span class="kd">interface</span> <span class="nc">A</span> <span class="o">{</span>
    <span class="kt">void</span> <span class="nf">print</span><span class="o">();</span>
  <span class="o">}</span>
  
  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="kd">final</span> <span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="kd">class</span> <span class="nc">My</span> <span class="kd">implements</span> <span class="no">A</span> <span class="o">{</span>
      <span class="nd">@Override</span>
      <span class="kd">public</span> <span class="kt">void</span> <span class="nf">print</span><span class="o">()</span> <span class="o">{</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Hello!"</span><span class="o">);</span>
      <span class="o">}</span>
    <span class="o">}</span>
    
    <span class="no">A</span> <span class="n">obj</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">My</span><span class="o">();</span>
    <span class="n">obj</span><span class="o">.</span><span class="na">print</span><span class="o">();</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><h3 id="로컬클래스를-익명-클래스로-바꾸는-과정">로컬클래스를 익명 클래스로 바꾸는 과정</h3><ul><li>1) 로컬 클래스로 선언한다.<ul><li><code class="language-plaintext highlighter-rouge">class My implements A{}</code></ul><li>2) 클래스의 이름을 지운다.<ul><li><code class="language-plaintext highlighter-rouge">class implements A{}</code><li>클래스의 이름이 없기 때문에 인스턴스를 생성할 수 없다.<li>클래스의 이름이 없기 때문에 ‘class’, ‘implements’키워드를 붙일 수 없다.</ul><li>3) class, implements 키워드를 지운다.<ul><li><code class="language-plaintext highlighter-rouge">A {};</code></ul><li>4) 인터페이스 이름 바로 앞에 ‘new’ 키워드를 둔다.<ul><li><code class="language-plaintext highlighter-rouge">new A {}</code><li>클래스의 이름이 없기 때문에 따로 인스턴스를 생성할 수 없어 바로 생성한다.</ul><li>5) 수퍼 클래스의 생성자를 호출한다.<ul><li><code class="language-plaintext highlighter-rouge">new A(){};</code><li>익명 클래스의 생성자가 없기 때문에 수퍼 클래스의 생성자를 호출해야 한다.<li>객체 생성할 때 항상 생성자를 호출해야 하는데, 클래스에 이름이 없으면 생성자를 만들 수 없다. 따라서 호출할 익명 클래스의 생성자가 없다. 그래서 수퍼 클래스의 생성자를 호출해야 한다.<li>자바의 모든 클래스는 따로 수퍼 클래스를 지정하지 않으면 <code class="language-plaintext highlighter-rouge">java.lang.Object</code> 클래스의 생성자를 호출하도록 지정해야 한다. Object 의 클래스의 생성자는 기본 생성자 하나 뿐이다.<li>인터페이스 이름 뒤에 기본 생성자를 호출하는 괄호를 추가한다.</ul><li>6) 익명 클래스의 레퍼런스를 인터페이스나 수퍼클래스로 선언한다.<ul><li><code class="language-plaintext highlighter-rouge"> A obj = new A() {}</code><li>익명 클래스는 이름이 없기 때문에 익명 클래스로 레퍼런스를 선언할 수없다.<li>그래서 레퍼런스는 익명 클래스가 구현하는 인터페이스나 익명 클래스가 상속 받는 수퍼 클래스로 선언해야 한다.</ul></ul><h3 id="익명-클래스로-인터페이스를-구현하기">익명 클래스로 인터페이스를 구현하기</h3><ul><li>문법: <code class="language-plaintext highlighter-rouge">인터페이스명 레퍼런스 = new 인터페이스명(){}</code></ul><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Exam0120</span> <span class="o">{</span>
  <span class="c1">// 인터페이스의 경우 static으로 선언하지 않아도 스태틱 멤버에서 사용할 수 있다.</span>
  <span class="kd">interface</span> <span class="nc">A</span> <span class="o">{</span>
    <span class="kt">void</span> <span class="nf">print</span><span class="o">();</span>
  <span class="o">}</span>
  
  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="kd">final</span> <span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="no">A</span> <span class="n">obj</span> <span class="o">=</span> <span class="k">new</span> <span class="no">A</span><span class="o">()</span> <span class="o">{</span>
      <span class="nd">@Override</span>
      <span class="kd">public</span> <span class="kt">void</span> <span class="nf">print</span><span class="o">()</span> <span class="o">{</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Hello!"</span><span class="o">);</span>
      <span class="o">}</span>
    <span class="o">};</span>
    
    <span class="n">obj</span><span class="o">.</span><span class="na">print</span><span class="o">();</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><h2 id="클래스-상속">클래스 상속</h2><p>클래스를 상속 받는 익명 클래스 만들기</p><ul><li>문법: <code class="language-plaintext highlighter-rouge">클래스명 레퍼런스 = new 클래스명(생성자 파라미터, ...) {};</code></ul><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Exam0210</span> <span class="o">{</span>
  <span class="c1">// 클래스는 스태틱으로 선언해야만 스태틱 멤버에서 접근할 수 있다.</span>
  <span class="kd">static</span> <span class="kd">abstract</span> <span class="kd">class</span> <span class="nc">A</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">abstract</span> <span class="kt">void</span> <span class="nf">print</span><span class="o">();</span>
  <span class="o">}</span>
  
  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="no">A</span> <span class="n">obj</span> <span class="o">=</span> <span class="k">new</span> <span class="no">A</span><span class="o">()</span> <span class="o">{</span>
      <span class="nd">@Override</span>
      <span class="kd">public</span> <span class="kt">void</span> <span class="nf">print</span><span class="o">()</span> <span class="o">{</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Hello2!"</span><span class="o">);</span>
      <span class="o">}</span>
    <span class="o">};</span>
    <span class="n">obj</span><span class="o">.</span><span class="na">print</span><span class="o">();</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><ul><li>익명 클래스를 정의할 때 호출할 수퍼 클래스의 생성자를 지정할 수 있다.<ul><li>생성자에 넘겨주는 파라미터로 호출될 생성자를 지정한다.</ul><li>수퍼 클래스의 메서드 오버라이딩하기</ul><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Exam0310</span> <span class="o">{</span>
  <span class="kd">static</span> <span class="kd">class</span> <span class="nc">A</span> <span class="o">{</span>
    <span class="nc">String</span> <span class="n">name</span><span class="o">;</span>
    
    <span class="kd">public</span> <span class="nf">A</span><span class="o">()</span> <span class="o">{</span>
      <span class="n">name</span> <span class="o">=</span> <span class="s">"이름 없음"</span><span class="o">;</span>
    <span class="o">}</span>
    
    <span class="kd">public</span> <span class="nf">A</span><span class="o">(</span><span class="kd">final</span> <span class="nc">String</span> <span class="n">name</span><span class="o">)</span> <span class="o">{</span>
      <span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">;</span>
    <span class="o">}</span>
    
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">print</span><span class="o">()</span> <span class="o">{</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">name</span><span class="o">);</span>
    <span class="o">}</span>
  <span class="o">}</span>
  
  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="kd">final</span> <span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="kd">final</span> <span class="no">A</span> <span class="n">obj</span> <span class="o">=</span> <span class="k">new</span> <span class="no">A</span><span class="o">()</span> <span class="o">{</span>
      <span class="c1">// 수퍼클래스의 메서드를 오버라이딩한다.</span>
      <span class="nd">@Override</span>
      <span class="kd">public</span> <span class="kt">void</span> <span class="nf">print</span><span class="o">()</span> <span class="o">{</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"%s님 반갑습니다!"</span><span class="o">,</span> <span class="n">name</span><span class="o">);</span>
      <span class="o">}</span>
    <span class="o">}</span>
    <span class="n">obj</span><span class="o">.</span><span class="na">print</span><span class="o">();</span> <span class="c1">//이름없음님 반갑습니다!</span>

    <span class="c1">// 익명 클래스의 인스턴스를 만들 때 값을 지정하면 그 타입의 값을 받는 생성자 호출</span>
    <span class="kd">final</span> <span class="no">A</span> <span class="n">obj2</span> <span class="o">=</span> <span class="k">new</span> <span class="no">A</span><span class="o">(</span><span class="s">"홍길동"</span><span class="o">)</span> <span class="o">{</span>
      <span class="nd">@Override</span>
      <span class="kd">public</span> <span class="kt">void</span> <span class="nf">print</span><span class="o">()</span> <span class="o">{</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"%s님 안녕하세요"</span><span class="o">,</span> <span class="n">name</span><span class="o">);</span>
      <span class="o">}</span>
    <span class="o">}</span>
    <span class="n">obj2</span><span class="o">.</span><span class="na">print</span><span class="o">();</span> <span class="c1">//홍길동님 안녕하세요</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><h2 id="익명-클래스가-놓이는-장소">익명 클래스가 놓이는 장소</h2><p>스태틱 필드, 인스턴스 필드, 로컬 변수, 파라미터의 값을 준비할 때 익명 클래스를 사용할 수 있다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Exam0410</span> <span class="o">{</span>
  <span class="kd">interface</span> <span class="nc">A</span> <span class="o">{</span>
    <span class="kt">void</span> <span class="nf">print</span><span class="o">();</span>
  <span class="o">}</span>
  
  <span class="c1">// 스태틱 필드</span>
  <span class="kd">static</span> <span class="no">A</span> <span class="n">obj</span> <span class="o">=</span> <span class="k">new</span> <span class="no">A</span><span class="o">()</span> <span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">print</span><span class="o">()</span> <span class="o">{</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Hello1!"</span><span class="o">);</span>
    <span class="o">}</span>
  <span class="o">};</span>
  
  <span class="c1">// 인스턴스 필드</span>
  <span class="kd">static</span> <span class="no">A</span> <span class="n">obj2</span> <span class="o">=</span> <span class="k">new</span> <span class="no">A</span><span class="o">()</span> <span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">print</span><span class="o">()</span> <span class="o">{</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"안녕!"</span><span class="o">);</span>
    <span class="o">}</span>
  <span class="o">};</span>
  
  <span class="c1">// 로컬 변수</span>
  <span class="kt">void</span> <span class="nf">m1</span><span class="o">()</span> <span class="o">{</span>
    <span class="no">A</span> <span class="n">obj3</span> <span class="o">=</span> <span class="k">new</span> <span class="no">A</span><span class="o">()</span> <span class="o">{</span>
      <span class="nd">@Override</span>
      <span class="kd">public</span> <span class="kt">void</span> <span class="nf">print</span><span class="o">()</span> <span class="o">{</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Bunos dias!"</span><span class="o">);</span>
      <span class="o">}</span>
    <span class="o">};</span>
  <span class="o">}</span>

  <span class="kt">void</span> <span class="nf">m2</span><span class="o">(</span><span class="no">A</span> <span class="n">obj</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">obj</span><span class="o">.</span><span class="na">print</span><span class="o">();</span>
  <span class="o">}</span>
  
  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">Exam0430</span> <span class="n">r</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Exam0430</span><span class="o">();</span>
    <span class="n">r</span><span class="o">.</span><span class="na">m1</span><span class="o">();</span>
  
    <span class="c1">// 파라미터</span>
    <span class="n">r</span><span class="o">.</span><span class="na">m2</span><span class="o">(</span><span class="k">new</span> <span class="no">A</span><span class="o">()</span> <span class="o">{</span>
      <span class="nd">@Override</span>
      <span class="kd">public</span> <span class="kt">void</span> <span class="nf">print</span><span class="o">()</span> <span class="o">{</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Como estas?"</span><span class="o">);</span>
      <span class="o">}</span>
    <span class="o">});</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><h1 id="고정값-다루기">고정값 다루기</h1><h2 id="1단계-카테고리를-정수값으로-받기">1단계: 카테고리를 정수값으로 받기</h2><p>제품의 카테고리를 정수 값으로 설정하고 값을 입력할 때 사용한다. 숫자이기에 코드를 보는 것만으로 어떤 카테고리인지 알 수 없다. 따라서 보통 코드에 주석으로 붙여 추가적인 정보를 제공한다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre><span class="kn">package</span> <span class="nn">com.eomcs.oop.ex11.g.step1</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Product</span> <span class="o">{</span>
  <span class="kt">int</span> <span class="n">category</span><span class="o">;</span>
  <span class="nc">String</span> <span class="n">name</span><span class="o">;</span>
  <span class="nc">String</span> <span class="n">maker</span><span class="o">;</span>
  <span class="kt">int</span> <span class="n">price</span><span class="o">;</span>
<span class="o">}</span>
</pre></table></code></div></div><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
</pre><td class="rouge-code"><pre><span class="kn">package</span> <span class="nn">com.eomcs.oop.ex11.g.step1</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Exam0110</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">Product</span> <span class="n">p</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Product</span><span class="o">();</span>
    <span class="n">p</span><span class="o">.</span><span class="na">category</span> <span class="o">=</span> <span class="mi">10</span><span class="o">;</span> <span class="c1">// 가전 / TV</span>
    <span class="n">p</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="s">"울트라비전 뷰"</span><span class="o">;</span>
    <span class="n">p</span><span class="o">.</span><span class="na">price</span> <span class="o">=</span> <span class="mi">2000000</span><span class="o">;</span>

    <span class="nc">Product</span> <span class="n">p2</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Product</span><span class="o">();</span>
    <span class="n">p2</span><span class="o">.</span><span class="na">category</span> <span class="o">=</span> <span class="mi">3</span><span class="o">;</span> <span class="c1">// 컴퓨터 / RAM</span>
    <span class="n">p2</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="s">"삼성모듈램 4GB"</span><span class="o">;</span>
    <span class="n">p2</span><span class="o">.</span><span class="na">price</span> <span class="o">=</span> <span class="mi">80000</span><span class="o">;</span>

    <span class="nc">Product</span> <span class="n">p3</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Product</span><span class="o">();</span>
    <span class="n">p3</span><span class="o">.</span><span class="na">category</span> <span class="o">=</span> <span class="mi">101</span><span class="o">;</span> <span class="c1">// 책 / 소설</span>
    <span class="n">p3</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="s">"토지"</span><span class="o">;</span>
    <span class="n">p3</span><span class="o">.</span><span class="na">price</span> <span class="o">=</span> <span class="mi">18000</span><span class="o">;</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><h2 id="2단계-카테고리를-문자열로-받기">2단계: 카테고리를 문자열로 받기</h2><p>1단계에서는 카테고리를 숫자로 받기 때문에 해당 카테고리가 무엇인지 알 수 없었다. 제품의 카테고리 값을 문자열로 받으면 따로 주석을 달 필요가 없어서 좋다. 단 문자열의 오타가 들어갈 경우가 생기면 프로그램이 의도대로 동작하지 않을 것이다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
</pre><td class="rouge-code"><pre><span class="kn">package</span> <span class="nn">com.eomcs.oop.ex11.g.step2</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Exam0110</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">Product</span> <span class="n">p</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Product</span><span class="o">();</span>
    <span class="n">p</span><span class="o">.</span><span class="na">category</span> <span class="o">=</span> <span class="s">"appliance/tv"</span><span class="o">;</span>
    <span class="n">p</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="s">"울트라비전 뷰"</span><span class="o">;</span>
    <span class="n">p</span><span class="o">.</span><span class="na">price</span> <span class="o">=</span> <span class="mi">2000000</span><span class="o">;</span>

    <span class="nc">Product</span> <span class="n">p2</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Product</span><span class="o">();</span>
    <span class="n">p2</span><span class="o">.</span><span class="na">category</span> <span class="o">=</span> <span class="s">"computer/ram"</span><span class="o">;</span>
    <span class="n">p2</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="s">"삼성모듈램 4GB"</span><span class="o">;</span>
    <span class="n">p2</span><span class="o">.</span><span class="na">price</span> <span class="o">=</span> <span class="mi">80000</span><span class="o">;</span>

    <span class="nc">Product</span> <span class="n">p3</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Product</span><span class="o">();</span>
    <span class="n">p3</span><span class="o">.</span><span class="na">category</span> <span class="o">=</span> <span class="s">"book/novul"</span><span class="o">;</span> <span class="c1">// &lt;== book/novel 이름을 잘못 입력한 경우.</span>
    <span class="n">p3</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="s">"토지"</span><span class="o">;</span>
    <span class="n">p3</span><span class="o">.</span><span class="na">price</span> <span class="o">=</span> <span class="mi">18000</span><span class="o">;</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><h2 id="3단계-카테고리-문자열을-상수로-정의">3단계: 카테고리 문자열을 상수로 정의</h2><p>상수를 정의하면 잘못된 문자열을 입력할 가능성이 없다.</p><p>제품의 값처럼 고정된 값은 상수로 정의해 놓고 쓰면 코드를 작성할 때 오타를 줄일 수 있고, 코드를 읽기 쉬워진다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="kn">package</span> <span class="nn">com.eomcs.oop.ex11.g.step3</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Product</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="nc">String</span> <span class="n">appliance_tv</span> <span class="o">=</span> <span class="s">"appliance/tv"</span><span class="o">;</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="nc">String</span> <span class="n">computer_ram</span> <span class="o">=</span> <span class="s">"computer/ram"</span><span class="o">;</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="nc">String</span> <span class="n">book_novel</span> <span class="o">=</span> <span class="s">"book/novel"</span><span class="o">;</span>
<span class="o">}</span>
</pre></table></code></div></div><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
</pre><td class="rouge-code"><pre><span class="c1">// 상수를 활용한 후 : 카테고리를 문자열을 상수로 정의</span>
<span class="kn">package</span> <span class="nn">com.eomcs.oop.ex11.g.step3</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Exam0110</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">Product</span> <span class="n">p</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Product</span><span class="o">();</span>
    <span class="n">p</span><span class="o">.</span><span class="na">category</span> <span class="o">=</span> <span class="nc">Product</span><span class="o">.</span><span class="na">appliance_tv</span><span class="o">;</span>
    <span class="n">p</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="s">"울트라비전 뷰"</span><span class="o">;</span>
    <span class="n">p</span><span class="o">.</span><span class="na">price</span> <span class="o">=</span> <span class="mi">2000000</span><span class="o">;</span>

    <span class="nc">Product</span> <span class="n">p2</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Product</span><span class="o">();</span>
    <span class="n">p2</span><span class="o">.</span><span class="na">category</span> <span class="o">=</span> <span class="nc">Product</span><span class="o">.</span><span class="na">computer_ram</span><span class="o">;</span>
    <span class="n">p2</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="s">"삼성모듈램 4GB"</span><span class="o">;</span>
    <span class="n">p2</span><span class="o">.</span><span class="na">price</span> <span class="o">=</span> <span class="mi">80000</span><span class="o">;</span>

    <span class="nc">Product</span> <span class="n">p3</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Product</span><span class="o">();</span>
    <span class="n">p3</span><span class="o">.</span><span class="na">category</span> <span class="o">=</span> <span class="nc">Product</span><span class="o">.</span><span class="na">book_novel</span><span class="o">;</span> <span class="c1">// &lt;=== 잘못된 값을 넣을 수 없다!</span>
    <span class="n">p3</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="s">"토지"</span><span class="o">;</span>
    <span class="n">p3</span><span class="o">.</span><span class="na">price</span> <span class="o">=</span> <span class="mi">18000</span><span class="o">;</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><h2 id="4단계-카테고리를-정수-타입의-상수로-정의">4단계: 카테고리를 정수 타입의 상수로 정의</h2><p>상수를 문자열로 정의하면 값을 저장할 때 메모리를 많이 차지하기 때문에 실무에서는 보통 정수 값으로 처리한다. 이때 상수의 이름을 대문자로 지어서 상수임을 쉽게 알 수 있도록 한다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
</pre><td class="rouge-code"><pre><span class="kn">package</span> <span class="nn">com.eomcs.oop.ex11.g.step4</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Product</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="no">COMPUTER_CPU</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="no">COMPUTER_VGA</span> <span class="o">=</span> <span class="mi">2</span><span class="o">;</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="no">COMPUTER_RAM</span> <span class="o">=</span> <span class="mi">3</span><span class="o">;</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="no">COMPUTER_MOUSE</span> <span class="o">=</span> <span class="mi">4</span><span class="o">;</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="no">COMPUTER_KEYBOARD</span> <span class="o">=</span> <span class="mi">5</span><span class="o">;</span>

  <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="no">APPLIANCE_TV</span> <span class="o">=</span> <span class="mi">10</span><span class="o">;</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="no">APPLIANCE_AUDIO</span> <span class="o">=</span> <span class="mi">11</span><span class="o">;</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="no">APPLIANCE_DVD</span> <span class="o">=</span> <span class="mi">12</span><span class="o">;</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="no">APPLIANCE_VACUUMCLEANER</span> <span class="o">=</span> <span class="mi">13</span><span class="o">;</span>

  <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="no">BOOK_POET</span> <span class="o">=</span> <span class="mi">100</span><span class="o">;</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="no">BOOK_NOVEL</span> <span class="o">=</span> <span class="mi">101</span><span class="o">;</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="no">BOOK_ESSAY</span> <span class="o">=</span> <span class="mi">102</span><span class="o">;</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="no">BOOK_IT</span> <span class="o">=</span> <span class="mi">103</span><span class="o">;</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="no">BOOK_LANG</span> <span class="o">=</span> <span class="mi">104</span><span class="o">;</span>

  <span class="kt">int</span> <span class="n">category</span><span class="o">;</span>
  <span class="nc">String</span> <span class="n">name</span><span class="o">;</span>
  <span class="nc">String</span> <span class="n">maker</span><span class="o">;</span>
  <span class="kt">int</span> <span class="n">price</span><span class="o">;</span>
<span class="o">}</span>
</pre></table></code></div></div><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
</pre><td class="rouge-code"><pre><span class="c1">// 상수를 활용한 후 : 카테고리를 정수타입의 상수로 정의</span>
<span class="kn">package</span> <span class="nn">com.eomcs.oop.ex11.g.step4</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Exam0110</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    
    <span class="nc">Product</span> <span class="n">p</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Product</span><span class="o">();</span>
    <span class="n">p</span><span class="o">.</span><span class="na">category</span> <span class="o">=</span> <span class="nc">Product</span><span class="o">.</span><span class="na">APPLIANCE_TV</span><span class="o">;</span>
    <span class="n">p</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="s">"울트라비전 뷰"</span><span class="o">;</span>
    <span class="n">p</span><span class="o">.</span><span class="na">price</span> <span class="o">=</span> <span class="mi">2000000</span><span class="o">;</span>

    <span class="nc">Product</span> <span class="n">p2</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Product</span><span class="o">();</span>
    <span class="n">p2</span><span class="o">.</span><span class="na">category</span> <span class="o">=</span> <span class="nc">Product</span><span class="o">.</span><span class="na">COMPUTER_RAM</span><span class="o">;</span>
    <span class="n">p2</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="s">"삼성모듈램 4GB"</span><span class="o">;</span>
    <span class="n">p2</span><span class="o">.</span><span class="na">price</span> <span class="o">=</span> <span class="mi">80000</span><span class="o">;</span>

    <span class="nc">Product</span> <span class="n">p3</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Product</span><span class="o">();</span>
    <span class="n">p3</span><span class="o">.</span><span class="na">category</span> <span class="o">=</span> <span class="nc">Product</span><span class="o">.</span><span class="na">BOOK_NOVEL</span><span class="o">;</span>
    <span class="n">p3</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="s">"토지"</span><span class="o">;</span>
    <span class="n">p3</span><span class="o">.</span><span class="na">price</span> <span class="o">=</span> <span class="mi">18000</span><span class="o">;</span>

  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><h2 id="5단계-상수를-별도의-클래스로-분리하여-다루기">5단계: 상수를 별도의 클래스로 분리하여 다루기</h2><p>카테고리 사수가 많을 경우 별도의 클래스로 분리하는 것이 상수 관리에 좋다. Product 클래스에 정의되어 있던 상수를 Category 클래스로 분리한다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre><span class="kn">package</span> <span class="nn">com.eomcs.oop.ex11.g.step5</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Product</span> <span class="o">{</span>
  <span class="kt">int</span> <span class="n">category</span><span class="o">;</span>
  <span class="nc">String</span> <span class="n">name</span><span class="o">;</span>
  <span class="nc">String</span> <span class="n">maker</span><span class="o">;</span>
  <span class="kt">int</span> <span class="n">price</span><span class="o">;</span>
<span class="o">}</span>
</pre></table></code></div></div><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
</pre><td class="rouge-code"><pre><span class="kn">package</span> <span class="nn">com.eomcs.oop.ex11.g.step5</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Category</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="no">COMPUTER_CPU</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="no">COMPUTER_VGA</span> <span class="o">=</span> <span class="mi">2</span><span class="o">;</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="no">COMPUTER_RAM</span> <span class="o">=</span> <span class="mi">3</span><span class="o">;</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="no">COMPUTER_MOUSE</span> <span class="o">=</span> <span class="mi">4</span><span class="o">;</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="no">COMPUTER_KEYBOARD</span> <span class="o">=</span> <span class="mi">5</span><span class="o">;</span>

  <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="no">APPLIANCE_TV</span> <span class="o">=</span> <span class="mi">10</span><span class="o">;</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="no">APPLIANCE_AUDIO</span> <span class="o">=</span> <span class="mi">11</span><span class="o">;</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="no">APPLIANCE_DVD</span> <span class="o">=</span> <span class="mi">12</span><span class="o">;</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="no">APPLIANCE_VACUUMCLEANER</span> <span class="o">=</span> <span class="mi">13</span><span class="o">;</span>

  <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="no">BOOK_POET</span> <span class="o">=</span> <span class="mi">100</span><span class="o">;</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="no">BOOK_NOVEL</span> <span class="o">=</span> <span class="mi">101</span><span class="o">;</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="no">BOOK_ESSAY</span> <span class="o">=</span> <span class="mi">102</span><span class="o">;</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="no">BOOK_IT</span> <span class="o">=</span> <span class="mi">103</span><span class="o">;</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="no">BOOK_LANG</span> <span class="o">=</span> <span class="mi">104</span><span class="o">;</span>
<span class="o">}</span>
</pre></table></code></div></div><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
</pre><td class="rouge-code"><pre><span class="c1">// 상수를 별도의 클래스로 분리하여 다루기</span>
<span class="kn">package</span> <span class="nn">com.eomcs.oop.ex11.g.step5</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Exam0110</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">Product</span> <span class="n">p</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Product</span><span class="o">();</span>
    <span class="n">p</span><span class="o">.</span><span class="na">category</span> <span class="o">=</span> <span class="nc">Category</span><span class="o">.</span><span class="na">APPLIANCE_TV</span><span class="o">;</span>
    <span class="n">p</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="s">"울트라비전 뷰"</span><span class="o">;</span>
    <span class="n">p</span><span class="o">.</span><span class="na">price</span> <span class="o">=</span> <span class="mi">2000000</span><span class="o">;</span>

    <span class="nc">Product</span> <span class="n">p2</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Product</span><span class="o">();</span>
    <span class="n">p2</span><span class="o">.</span><span class="na">category</span> <span class="o">=</span> <span class="nc">Category</span><span class="o">.</span><span class="na">COMPUTER_RAM</span><span class="o">;</span>
    <span class="n">p2</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="s">"삼성모듈램 4GB"</span><span class="o">;</span>
    <span class="n">p2</span><span class="o">.</span><span class="na">price</span> <span class="o">=</span> <span class="mi">80000</span><span class="o">;</span>

    <span class="nc">Product</span> <span class="n">p3</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Product</span><span class="o">();</span>
    <span class="n">p3</span><span class="o">.</span><span class="na">category</span> <span class="o">=</span> <span class="nc">Category</span><span class="o">.</span><span class="na">BOOK_NOVEL</span><span class="o">;</span>
    <span class="n">p3</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="s">"토지"</span><span class="o">;</span>
    <span class="n">p3</span><span class="o">.</span><span class="na">price</span> <span class="o">=</span> <span class="mi">18000</span><span class="o">;</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><p>다음과 같이 static 멤버를 import 해서 사용할 수 있다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
</pre><td class="rouge-code"><pre><span class="c1">// 상수를 별도의 클래스로 분리하여 다루기 - static 멤버 import</span>
<span class="kn">package</span> <span class="nn">com.eomcs.oop.ex11.g.step5</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">static</span> <span class="n">com</span><span class="o">.</span><span class="na">eomcs</span><span class="o">.</span><span class="na">oop</span><span class="o">.</span><span class="na">ex11</span><span class="o">.</span><span class="na">g</span><span class="o">.</span><span class="na">step5</span><span class="o">.</span><span class="na">Category</span><span class="o">.</span><span class="na">APPLIANCE_TV</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">static</span> <span class="n">com</span><span class="o">.</span><span class="na">eomcs</span><span class="o">.</span><span class="na">oop</span><span class="o">.</span><span class="na">ex11</span><span class="o">.</span><span class="na">g</span><span class="o">.</span><span class="na">step5</span><span class="o">.</span><span class="na">Category</span><span class="o">.</span><span class="na">BOOK_NOVEL</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">static</span> <span class="n">com</span><span class="o">.</span><span class="na">eomcs</span><span class="o">.</span><span class="na">oop</span><span class="o">.</span><span class="na">ex11</span><span class="o">.</span><span class="na">g</span><span class="o">.</span><span class="na">step5</span><span class="o">.</span><span class="na">Category</span><span class="o">.</span><span class="na">COMPUTER_RAM</span><span class="o">;</span>

<span class="c1">// 또는 다음과 같이 wildcard를 사용해도 된다.</span>
<span class="c1">// import static com.eomcs.oop.ex11.c.step5.Category.*;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Exam0120</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">Product</span> <span class="n">p</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Product</span><span class="o">();</span>
    <span class="n">p</span><span class="o">.</span><span class="na">category</span> <span class="o">=</span> <span class="no">APPLIANCE_TV</span><span class="o">;</span>
    <span class="n">p</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="s">"울트라비전 뷰"</span><span class="o">;</span>
    <span class="n">p</span><span class="o">.</span><span class="na">price</span> <span class="o">=</span> <span class="mi">2000000</span><span class="o">;</span>

    <span class="nc">Product</span> <span class="n">p2</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Product</span><span class="o">();</span>
    <span class="n">p2</span><span class="o">.</span><span class="na">category</span> <span class="o">=</span> <span class="no">COMPUTER_RAM</span><span class="o">;</span>
    <span class="n">p2</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="s">"삼성모듈램 4GB"</span><span class="o">;</span>
    <span class="n">p2</span><span class="o">.</span><span class="na">price</span> <span class="o">=</span> <span class="mi">80000</span><span class="o">;</span>

    <span class="nc">Product</span> <span class="n">p3</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Product</span><span class="o">();</span>
    <span class="n">p3</span><span class="o">.</span><span class="na">category</span> <span class="o">=</span> <span class="no">BOOK_NOVEL</span><span class="o">;</span>
    <span class="n">p3</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="s">"토지"</span><span class="o">;</span>
    <span class="n">p3</span><span class="o">.</span><span class="na">price</span> <span class="o">=</span> <span class="mi">18000</span><span class="o">;</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><h2 id="6단계-상수를-그룹-별로-별도의-클래스로-분리하여-다루기">6단계: 상수를 그룹 별로 별도의 클래스로 분리하여 다루기</h2><p>각 카테고리 별로 클래스를 분리하면 관리하기가 쉬워진다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Computer</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="no">CPU</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="no">VGA</span> <span class="o">=</span> <span class="mi">2</span><span class="o">;</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="no">RAM</span> <span class="o">=</span> <span class="mi">3</span><span class="o">;</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="no">MOUSE</span> <span class="o">=</span> <span class="mi">4</span><span class="o">;</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="no">KEYBOARD</span> <span class="o">=</span> <span class="mi">5</span><span class="o">;</span>
<span class="o">}</span>
</pre></table></code></div></div><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Appliance</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="no">TV</span> <span class="o">=</span> <span class="mi">10</span><span class="o">;</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="no">AUDIO</span> <span class="o">=</span> <span class="mi">11</span><span class="o">;</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="no">DVD</span> <span class="o">=</span> <span class="mi">12</span><span class="o">;</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="no">VACUUMCLEANER</span> <span class="o">=</span> <span class="mi">13</span><span class="o">;</span>
<span class="o">}</span>
</pre></table></code></div></div><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Book</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="no">POET</span> <span class="o">=</span> <span class="mi">100</span><span class="o">;</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="no">NOVEL</span> <span class="o">=</span> <span class="mi">101</span><span class="o">;</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="no">ESSAY</span> <span class="o">=</span> <span class="mi">102</span><span class="o">;</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="no">IT</span> <span class="o">=</span> <span class="mi">103</span><span class="o">;</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="no">LANG</span> <span class="o">=</span> <span class="mi">104</span><span class="o">;</span>
<span class="o">}</span>
</pre></table></code></div></div><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Product</span> <span class="o">{</span>
  <span class="kt">int</span> <span class="n">category</span><span class="o">;</span>
  <span class="nc">String</span> <span class="n">name</span><span class="o">;</span>
  <span class="nc">String</span> <span class="n">maker</span><span class="o">;</span>
  <span class="kt">int</span> <span class="n">price</span><span class="o">;</span>
<span class="o">}</span>
</pre></table></code></div></div><p>각 카테고리 그룹을 별도의 클래스로 분리하기 전에는 상수 이름에 카테고리가 포함되었다. 그런데 카테고리 그룹 별로 클래스를 분리하면 다음과 같이 간결해진다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
</pre><td class="rouge-code"><pre><span class="c1">// 상수를 그룹 별로 별도의 클래스로 분리하여 다루기</span>
<span class="kn">import</span> <span class="nn">static</span> <span class="n">com</span><span class="o">.</span><span class="na">eomcs</span><span class="o">.</span><span class="na">oop</span><span class="o">.</span><span class="na">ex11</span><span class="o">.</span><span class="na">g</span><span class="o">.</span><span class="na">step6</span><span class="o">.</span><span class="na">Appliance</span><span class="o">.</span><span class="na">TV</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">static</span> <span class="n">com</span><span class="o">.</span><span class="na">eomcs</span><span class="o">.</span><span class="na">oop</span><span class="o">.</span><span class="na">ex11</span><span class="o">.</span><span class="na">g</span><span class="o">.</span><span class="na">step6</span><span class="o">.</span><span class="na">Book</span><span class="o">.</span><span class="na">NOVEL</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">static</span> <span class="n">com</span><span class="o">.</span><span class="na">eomcs</span><span class="o">.</span><span class="na">oop</span><span class="o">.</span><span class="na">ex11</span><span class="o">.</span><span class="na">g</span><span class="o">.</span><span class="na">step6</span><span class="o">.</span><span class="na">Computer</span><span class="o">.</span><span class="na">RAM</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Exam0110</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
  
    <span class="nc">Product</span> <span class="n">p</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Product</span><span class="o">();</span>
    <span class="n">p</span><span class="o">.</span><span class="na">category</span> <span class="o">=</span> <span class="no">TV</span><span class="o">;</span>
    <span class="n">p</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="s">"울트라비전 뷰"</span><span class="o">;</span>
    <span class="n">p</span><span class="o">.</span><span class="na">price</span> <span class="o">=</span> <span class="mi">2000000</span><span class="o">;</span>

    <span class="nc">Product</span> <span class="n">p2</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Product</span><span class="o">();</span>
    <span class="n">p2</span><span class="o">.</span><span class="na">category</span> <span class="o">=</span> <span class="no">RAM</span><span class="o">;</span>
    <span class="n">p2</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="s">"삼성모듈램 4GB"</span><span class="o">;</span>
    <span class="n">p2</span><span class="o">.</span><span class="na">price</span> <span class="o">=</span> <span class="mi">80000</span><span class="o">;</span>

    <span class="nc">Product</span> <span class="n">p3</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Product</span><span class="o">();</span>
    <span class="n">p3</span><span class="o">.</span><span class="na">category</span> <span class="o">=</span> <span class="no">NOVEL</span><span class="o">;</span>
    <span class="n">p3</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="s">"토지"</span><span class="o">;</span>
    <span class="n">p3</span><span class="o">.</span><span class="na">price</span> <span class="o">=</span> <span class="mi">18000</span><span class="o">;</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><p>각각의 상수를 별도의 클래스로 묶어 관리하는 것은 좋으나, 자잘한 클래스들을 별도의 파일로 분리하여 패키지 멤버 클래스로 정의하니까 클래스가 여러 개 생겨서 관리하기가 번거롭다.</p><h2 id="7단계-상수-코드를-스태틱-중첩-클래스로-다루기">7단계: 상수 코드를 스태틱 중첩 클래스로 다루기</h2><p>각 카테고리에 대한 클래스를 보면 상수를 묶어서 관리하는 용도로 만들어졌고, 클래스의 크기도 작다. 이런 클래스를 별도의 파일로 분리하면 여러 개의 파일이 생겨서 오히려 관리하기가 번거롭다. 즉 자잘한 클래스들이 여러 파일에 분산되기 때문에 관리하기 번거로워진다. 이때 중첩 클래스로 만들면 사용할 때 <strong>계층적</strong>으로 작성하기 때문에 이해하기가 쉬워진다. <code class="language-plaintext highlighter-rouge">int value = Category.computer.CPU;</code>와 같이 사용할 수 있다. 이렇게 <strong>바깥 클래스를 패키지처럼 생각할 수 있어 이해하고 관리하기 편하다.</strong> 이때 중첩 클래스를 <strong>소문자로 지어서 마치 일반 필드인 것처럼</strong> 보이게 하자.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
</pre><td class="rouge-code"><pre><span class="c1">// static nested class 문법을 이용하여 상수를 효과적으로 관리하기</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Category</span> <span class="o">{</span>

  <span class="kd">public</span> <span class="kd">static</span> <span class="kd">class</span> <span class="nc">computer</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="no">CPU</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="no">VGA</span> <span class="o">=</span> <span class="mi">2</span><span class="o">;</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="no">RAM</span> <span class="o">=</span> <span class="mi">3</span><span class="o">;</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="no">MOUSE</span> <span class="o">=</span> <span class="mi">4</span><span class="o">;</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="no">KEYBOARD</span> <span class="o">=</span> <span class="mi">5</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="kd">public</span> <span class="kd">static</span> <span class="kd">class</span> <span class="nc">appliance</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="no">TV</span> <span class="o">=</span> <span class="mi">10</span><span class="o">;</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="no">AUDIO</span> <span class="o">=</span> <span class="mi">11</span><span class="o">;</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="no">DVD</span> <span class="o">=</span> <span class="mi">12</span><span class="o">;</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="no">VACUUMCLEANER</span> <span class="o">=</span> <span class="mi">13</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="kd">public</span> <span class="kd">static</span> <span class="kd">class</span> <span class="nc">book</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="no">POET</span> <span class="o">=</span> <span class="mi">100</span><span class="o">;</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="no">NOVEL</span> <span class="o">=</span> <span class="mi">101</span><span class="o">;</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="no">ESSAY</span> <span class="o">=</span> <span class="mi">102</span><span class="o">;</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="no">IT</span> <span class="o">=</span> <span class="mi">103</span><span class="o">;</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="no">LANG</span> <span class="o">=</span> <span class="mi">104</span><span class="o">;</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><p>카테고리 값을 지정할 때 OGNL 표기법으로 지정한다. OGNL(Object Graph Navigation Language)란 자바에서 객체 안에 있는 필드를 가리킬 때 점(.)을 이용하여 표기하는 방법을 말한다. 객체 안에 객체가 계층적으로 들어 있을 때 파일 경로를 가리키듯 점(.)을 이용하여 가리킬 수 있다. (예: <code class="language-plaintext highlighter-rouge">객체.필드.필드.필드 = 100</code>)</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
</pre><td class="rouge-code"><pre><span class="c1">// 상수 코드를 스태틱 중첩 클래스로 다루기</span>
<span class="kn">package</span> <span class="nn">com.eomcs.oop.ex11.g.step7</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Exam0110</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">Product</span> <span class="n">p</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Product</span><span class="o">();</span>
    <span class="n">p</span><span class="o">.</span><span class="na">category</span> <span class="o">=</span> <span class="nc">Category</span><span class="o">.</span><span class="na">appliance</span><span class="o">.</span><span class="na">TV</span><span class="o">;</span>
    <span class="n">p</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="s">"울트라비전 뷰"</span><span class="o">;</span>
    <span class="n">p</span><span class="o">.</span><span class="na">price</span> <span class="o">=</span> <span class="mi">2000000</span><span class="o">;</span>

    <span class="nc">Product</span> <span class="n">p2</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Product</span><span class="o">();</span>
    <span class="n">p2</span><span class="o">.</span><span class="na">category</span> <span class="o">=</span> <span class="nc">Category</span><span class="o">.</span><span class="na">computer</span><span class="o">.</span><span class="na">RAM</span><span class="o">;</span>
    <span class="n">p2</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="s">"삼성모듈램 4GB"</span><span class="o">;</span>
    <span class="n">p2</span><span class="o">.</span><span class="na">price</span> <span class="o">=</span> <span class="mi">80000</span><span class="o">;</span>

    <span class="nc">Product</span> <span class="n">p3</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Product</span><span class="o">();</span>
    <span class="n">p3</span><span class="o">.</span><span class="na">category</span> <span class="o">=</span> <span class="nc">Category</span><span class="o">.</span><span class="na">book</span><span class="o">.</span><span class="na">NOVEL</span><span class="o">;</span>
    <span class="n">p3</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="s">"토지"</span><span class="o">;</span>
    <span class="n">p3</span><span class="o">.</span><span class="na">price</span> <span class="o">=</span> <span class="mi">18000</span><span class="o">;</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><h1 id="mini-pms-프로젝트-수행">mini pms 프로젝트 수행</h1><h2 id="v26-d-anonymous-class">v.26-d: anonymous class</h2><h3 id="익명-클래스">익명 클래스</h3><ul><li>이름이 없는 클래스<li>이름이 없기 때문에 클래스를 정의하자마자 바로 인스턴스를 생성해야 한다.<li>일반적으로 인스턴스를 딱 한 개만 만들 때 익명 클래스로 정의한다.</ul><h3 id="실습">실습</h3><h4 id="1단계-listiterator-구현체를-iterator-메서드에서-익명-클래스로-정의한다">1단계: <code class="language-plaintext highlighter-rouge">ListIterator</code> 구현체를 <code class="language-plaintext highlighter-rouge">iterator()</code> 메서드에서 익명 클래스로 정의한다.</h4><p>익명 클래스는 이름이 없기 때문에 클래스를 정의하자마자 바로 인스턴스를 생성해야 한다. 익명 클래스에서도 로컬 클래스와 마찬가지로 바깥 클래스의 인스턴스 주소를 사용하고 싶다면 바깥 클래스의 이름으로 사용한다. (<code class="language-plaintext highlighter-rouge">AbstractList.this.size()</code>) 이때 바깥 클래스의 인스턴스를 가리키는 <code class="language-plaintext highlighter-rouge">AbstractList.this</code>는 생략할 수 있다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
</pre><td class="rouge-code"><pre><span class="kn">package</span> <span class="nn">com.eomcs.util</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.util.NoSuchElementException</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">abstract</span> <span class="kd">class</span> <span class="nc">AbstractList</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;</span> <span class="kd">implements</span> <span class="nc">List</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;{</span>

	<span class="c1">//...</span>
  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="nc">Iterator</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;</span> <span class="nf">iterator</span><span class="o">()</span> <span class="o">{</span>

    <span class="c1">// 익명 클래스는 이름이 없기 때문에 </span>
    <span class="c1">// 클래스를 정의하자마자 바로 인스턴스를 생성해야 한다.</span>
    <span class="k">return</span> <span class="k">new</span> <span class="nc">Iterator</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;()</span> <span class="o">{</span>
      <span class="kt">int</span> <span class="n">cursor</span><span class="o">;</span>

      <span class="nd">@Override</span>
      <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">hasNext</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">cursor</span> <span class="o">&lt;</span> <span class="nc">AbstractList</span><span class="o">.</span><span class="na">this</span><span class="o">.</span><span class="na">size</span><span class="o">();</span>
      <span class="o">}</span>

      <span class="nd">@Override</span>
      <span class="kd">public</span> <span class="no">E</span> <span class="nf">next</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">cursor</span> <span class="o">==</span>  <span class="cm">/*AbstractList.this.*/</span><span class="n">size</span><span class="o">())</span>
          <span class="k">throw</span> <span class="k">new</span> <span class="nf">NoSuchElementException</span><span class="o">();</span>
        <span class="k">return</span> <span class="nf">get</span><span class="o">(</span><span class="n">cursor</span><span class="o">++);</span>
      <span class="o">}</span>
    <span class="o">};</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><h4 id="2단계-stackiterator-구현체를-iterator-메서드에서-익명-클래스로-정의한다">2단계: <code class="language-plaintext highlighter-rouge">StackIterator</code> 구현체를 <code class="language-plaintext highlighter-rouge">iterator()</code> 메서드에서 익명 클래스로 정의한다.</h4><p>StackIterator는 ListIterator와 달리 생성자를 가지고 있었다. 익명 클래스는 이름이 없기 때문에 생성자를 만들 수 없는데(익명 클래스의 생성자는 내부적으로만 존재하고 개발자가 직접 만들 수 없다.), 어떻게 해야 할까? 이런 경우에 인스턴스 초기화 블록을 사용할 수 있다. 인스턴스 블록과 인스턴스 필드의 초기화 문장은 모두 생성자 안으로 자동으로 들어가기 때문에 인스턴스 블록에 생성자의 내용을 담아주면 내부적으로 숨겨져 있는 생성자 몸체 안으로 들어간다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
</pre><td class="rouge-code"><pre><span class="kn">package</span> <span class="nn">com.eomcs.util</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.util.EmptyStackException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.NoSuchElementException</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Stack</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;</span> <span class="kd">extends</span> <span class="nc">LinkedList</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;</span> <span class="o">{</span>

	<span class="c1">//...</span>
  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="nc">Iterator</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;</span> <span class="nf">iterator</span><span class="o">()</span> <span class="o">{</span>
    <span class="c1">// AbstractList에서 구현한 iterator()를 Stack 자료 구조에 맞춰 오버라이딩</span>
    <span class="k">return</span> <span class="k">new</span> <span class="nc">Iterator</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;()</span> <span class="o">{</span>
      <span class="nc">Stack</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;</span> <span class="n">stack</span><span class="o">;</span>

      <span class="o">{</span> <span class="c1">// 인스턴스 초기화 블록</span>
        <span class="k">try</span> <span class="o">{</span>
          <span class="k">this</span><span class="o">.</span><span class="na">stack</span> <span class="o">=</span> <span class="nc">Stack</span><span class="o">.</span><span class="na">this</span><span class="o">.</span><span class="na">clone</span><span class="o">();</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
          <span class="k">throw</span> <span class="k">new</span> <span class="nf">RuntimeException</span><span class="o">(</span><span class="s">"큐를 복제하는 중에 오류 발생!"</span><span class="o">);</span>
        <span class="o">}</span>
      <span class="o">}</span>

      <span class="nd">@Override</span>
      <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">hasNext</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="o">!</span><span class="n">stack</span><span class="o">.</span><span class="na">empty</span><span class="o">();</span>
      <span class="o">}</span>

      <span class="nd">@Override</span>
      <span class="kd">public</span> <span class="no">E</span> <span class="nf">next</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">stack</span><span class="o">.</span><span class="na">empty</span><span class="o">())</span>
          <span class="k">throw</span> <span class="k">new</span> <span class="nf">NoSuchElementException</span><span class="o">();</span>
        <span class="k">return</span> <span class="n">stack</span><span class="o">.</span><span class="na">pop</span><span class="o">();</span>
      <span class="o">}</span>
    <span class="o">};</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><h4 id="3단계-queueiterator-구현체를-iterator-메서드에서-익명-클래스로-정의한다">3단계: <code class="language-plaintext highlighter-rouge">QueueIterator</code> 구현체를 <code class="language-plaintext highlighter-rouge">iterator()</code> 메서드에서 익명 클래스로 정의한다.</h4><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
</pre><td class="rouge-code"><pre><span class="kn">package</span> <span class="nn">com.eomcs.util</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.util.NoSuchElementException</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Queue</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;</span> <span class="kd">extends</span> <span class="nc">LinkedList</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;</span> <span class="o">{</span>

  <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">offer</span><span class="o">(</span><span class="no">E</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">return</span> <span class="nf">add</span><span class="o">(</span><span class="n">e</span><span class="o">);</span>
  <span class="o">}</span>

  <span class="kd">public</span> <span class="no">E</span> <span class="nf">poll</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">size</span><span class="o">()</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
      <span class="k">return</span> <span class="kc">null</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="k">return</span> <span class="nf">remove</span><span class="o">(</span><span class="mi">0</span><span class="o">);</span>
  <span class="o">}</span>

  <span class="kd">public</span> <span class="no">E</span> <span class="nf">peek</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">size</span><span class="o">()</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
      <span class="k">return</span> <span class="kc">null</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="k">return</span> <span class="nf">get</span><span class="o">(</span><span class="mi">0</span><span class="o">);</span>
  <span class="o">}</span>

  <span class="nd">@SuppressWarnings</span><span class="o">(</span><span class="s">"unchecked"</span><span class="o">)</span>
  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="nc">Queue</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;</span> <span class="nf">clone</span><span class="o">()</span> <span class="kd">throws</span> <span class="nc">CloneNotSupportedException</span> <span class="o">{</span>
    <span class="nc">Queue</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;</span> <span class="n">newQueue</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Queue</span><span class="o">&lt;&gt;();</span>
    <span class="nc">Object</span><span class="o">[]</span> <span class="n">values</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="na">toArray</span><span class="o">();</span>
    <span class="k">for</span> <span class="o">(</span><span class="nc">Object</span> <span class="n">value</span> <span class="o">:</span> <span class="n">values</span><span class="o">)</span> <span class="o">{</span>
      <span class="n">newQueue</span><span class="o">.</span><span class="na">offer</span><span class="o">((</span><span class="no">E</span><span class="o">)</span> <span class="n">value</span><span class="o">);</span>
    <span class="o">}</span>
    <span class="k">return</span> <span class="n">newQueue</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="nc">Iterator</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;</span> <span class="nf">iterator</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="k">new</span> <span class="nc">Iterator</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;()</span> <span class="o">{</span>
      <span class="nc">Queue</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;</span> <span class="n">queue</span><span class="o">;</span>

      <span class="o">{</span> <span class="c1">// 인스턴스 초기화 블록</span>
        <span class="k">try</span> <span class="o">{</span>
          <span class="k">this</span><span class="o">.</span><span class="na">queue</span> <span class="o">=</span> <span class="nc">Queue</span><span class="o">.</span><span class="na">this</span><span class="o">.</span><span class="na">clone</span><span class="o">();</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
          <span class="k">throw</span> <span class="k">new</span> <span class="nf">RuntimeException</span><span class="o">(</span><span class="s">"큐를 복제하는 중에 오류 발생!"</span><span class="o">);</span>
        <span class="o">}</span>
      <span class="o">}</span>

      <span class="nd">@Override</span>
      <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">hasNext</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">queue</span><span class="o">.</span><span class="na">size</span><span class="o">()</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="o">;</span>
      <span class="o">}</span>

      <span class="nd">@Override</span>
      <span class="kd">public</span> <span class="no">E</span> <span class="nf">next</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">queue</span><span class="o">.</span><span class="na">size</span><span class="o">()</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span>
          <span class="k">throw</span> <span class="k">new</span> <span class="nf">NoSuchElementException</span><span class="o">();</span>
        <span class="k">return</span> <span class="n">queue</span><span class="o">.</span><span class="na">poll</span><span class="o">();</span>
      <span class="o">}</span>
    <span class="o">};</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><h2 id="v27-자바-컬렉션-api-사용하기">v.27: 자바 컬렉션 API 사용하기</h2><h3 id="자바-컬렉션-api">자바 컬렉션 API</h3><p>컬렉션(collection)은 여러 개의 항목을 담는 <strong>컨테이너(container)</strong> 객체이다. 즉 데이터를 <strong>저장하고, 꺼내고, 삭제하는 등의 데이터 목록을 다룰 때 사용하는 객체</strong>이다. 공식적으로는 컬렉션 프레임워크(collection framework)라고 부른다.</p><h3 id="javautil-패키지"><code class="language-plaintext highlighter-rouge">java.util</code> 패키지</h3><p>컬렉션과 관련된 인터페이스와 클래스들이 들어 있다. 자료구조, 탐색, 정렬 등 알고리즘에 대한 객체 사용 규칙을 <strong>인터페이스</strong>로 정의하고 있다. 또한 그 인터페이스의 구현체를 제공한다.</p><h3 id="실습-1">실습</h3><p>자바에서 Stack 클래스는 Vector를 상속받는다. 즉 vector를 stack처럼 사용할 수 있게 해준다. <code class="language-plaintext highlighter-rouge">push()</code>, <code class="language-plaintext highlighter-rouge">pop()</code>, <code class="language-plaintext highlighter-rouge">peek()</code>, <code class="language-plaintext highlighter-rouge">empty()</code>, 연산자는 제공되지만, <code class="language-plaintext highlighter-rouge">iterator()</code> 메서드의 경우 <code class="language-plaintext highlighter-rouge">Vector</code> 클래스에서 상속받은 것이기 때문에 스택의 본래 기능(Last In First Out)을 수행하지 못하고, 넣은 순서대로 값을 조회하는 객체를 리턴한다. 자바 공식 문서에서도 Stack 클래스보다는 더 완전하고 일관된 LIFO 스택 연산자의 묶음인 Dequeue 인터페이스와 그 구현체를 사용하라고 권장하고 있다.</p><blockquote><p>A more complete and consistent set of LIFO stack operations is provided by the Deque interface and its implementations, which should be used in preference to this class. For example:</p><p><code class="language-plaintext highlighter-rouge">Deque&lt;Integer&gt; stack = new ArrayDeque&lt;Integer&gt;();</code></p><p>출처: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Stack.html</p></blockquote><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
</pre><td class="rouge-code"><pre><span class="kn">package</span> <span class="nn">com.eomcs.pms</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.util.ArrayDeque</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.ArrayList</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Deque</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Iterator</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.LinkedList</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.List</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Queue</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.eomcs.pms.domain.Board</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.eomcs.pms.domain.Member</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.eomcs.pms.domain.Project</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.eomcs.pms.domain.Task</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.eomcs.pms.handler.BoardHandler</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.eomcs.pms.handler.MemberHandler</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.eomcs.pms.handler.ProjectHandler</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.eomcs.pms.handler.TaskHandler</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.eomcs.util.Prompt</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">App</span> <span class="o">{</span>

  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>

    <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Board</span><span class="o">&gt;</span> <span class="n">boardList</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;();</span>
    <span class="nc">BoardHandler</span> <span class="n">boardHandler</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">BoardHandler</span><span class="o">(</span><span class="n">boardList</span><span class="o">);</span>

    <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Member</span><span class="o">&gt;</span> <span class="n">memberList</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">LinkedList</span><span class="o">&lt;&gt;();</span>
    <span class="nc">MemberHandler</span> <span class="n">memberHandler</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">MemberHandler</span><span class="o">(</span><span class="n">memberList</span><span class="o">);</span>

    <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Project</span><span class="o">&gt;</span> <span class="n">projectList</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">LinkedList</span><span class="o">&lt;&gt;();</span>
    <span class="nc">ProjectHandler</span> <span class="n">projectHandler</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ProjectHandler</span><span class="o">(</span><span class="n">projectList</span><span class="o">,</span> <span class="n">memberHandler</span><span class="o">);</span>

    <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Task</span><span class="o">&gt;</span> <span class="n">taskList</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;();</span>
    <span class="nc">TaskHandler</span> <span class="n">taskHandler</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">TaskHandler</span><span class="o">(</span><span class="n">taskList</span><span class="o">,</span> <span class="n">memberHandler</span><span class="o">);</span>

    <span class="c1">// 자바에서는 stack 알고리즘(LIFO)에 대한 인터페이스로 Deque 를 제공한다.</span>
    <span class="nc">Deque</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">commandStack</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayDeque</span><span class="o">&lt;&gt;();</span>

    <span class="c1">// 자바에서 제공하는 LinkedList 클래스는 Queue 구현체이기도 하다.</span>
    <span class="nc">Queue</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">commandQueue</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">LinkedList</span><span class="o">&lt;&gt;();</span>

    <span class="nl">loop:</span>
      <span class="k">while</span> <span class="o">(</span><span class="kc">true</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">String</span> <span class="n">command</span> <span class="o">=</span> <span class="nc">Prompt</span><span class="o">.</span><span class="na">inputString</span><span class="o">(</span><span class="s">"명령&gt; "</span><span class="o">);</span>

        <span class="c1">// 사용자가 입력한 명령을 보관한다.</span>
        <span class="n">commandStack</span><span class="o">.</span><span class="na">push</span><span class="o">(</span><span class="n">command</span><span class="o">);</span>
        <span class="n">commandQueue</span><span class="o">.</span><span class="na">offer</span><span class="o">(</span><span class="n">command</span><span class="o">);</span>

        <span class="k">switch</span> <span class="o">(</span><span class="n">command</span><span class="o">)</span> <span class="o">{</span>
          <span class="k">case</span> <span class="s">"/member/add"</span><span class="o">:</span> <span class="n">memberHandler</span><span class="o">.</span><span class="na">add</span><span class="o">();</span> <span class="k">break</span><span class="o">;</span>
          <span class="k">case</span> <span class="s">"/member/list"</span><span class="o">:</span> <span class="n">memberHandler</span><span class="o">.</span><span class="na">list</span><span class="o">();</span> <span class="k">break</span><span class="o">;</span>
          <span class="k">case</span> <span class="s">"/member/detail"</span><span class="o">:</span> <span class="n">memberHandler</span><span class="o">.</span><span class="na">detail</span><span class="o">();</span> <span class="k">break</span><span class="o">;</span>
          <span class="k">case</span> <span class="s">"/member/update"</span><span class="o">:</span> <span class="n">memberHandler</span><span class="o">.</span><span class="na">update</span><span class="o">();</span> <span class="k">break</span><span class="o">;</span>
          <span class="k">case</span> <span class="s">"/member/delete"</span><span class="o">:</span> <span class="n">memberHandler</span><span class="o">.</span><span class="na">delete</span><span class="o">();</span> <span class="k">break</span><span class="o">;</span>
          <span class="k">case</span> <span class="s">"/project/add"</span><span class="o">:</span> <span class="n">projectHandler</span><span class="o">.</span><span class="na">add</span><span class="o">();</span> <span class="k">break</span><span class="o">;</span>
          <span class="k">case</span> <span class="s">"/project/list"</span><span class="o">:</span> <span class="n">projectHandler</span><span class="o">.</span><span class="na">list</span><span class="o">();</span> <span class="k">break</span><span class="o">;</span>
          <span class="k">case</span> <span class="s">"/project/detail"</span><span class="o">:</span> <span class="n">projectHandler</span><span class="o">.</span><span class="na">detail</span><span class="o">();</span> <span class="k">break</span><span class="o">;</span>
          <span class="k">case</span> <span class="s">"/project/update"</span><span class="o">:</span> <span class="n">projectHandler</span><span class="o">.</span><span class="na">update</span><span class="o">();</span> <span class="k">break</span><span class="o">;</span>
          <span class="k">case</span> <span class="s">"/project/delete"</span><span class="o">:</span> <span class="n">projectHandler</span><span class="o">.</span><span class="na">delete</span><span class="o">();</span> <span class="k">break</span><span class="o">;</span>
          <span class="k">case</span> <span class="s">"/task/add"</span><span class="o">:</span> <span class="n">taskHandler</span><span class="o">.</span><span class="na">add</span><span class="o">();</span> <span class="k">break</span><span class="o">;</span>
          <span class="k">case</span> <span class="s">"/task/list"</span><span class="o">:</span> <span class="n">taskHandler</span><span class="o">.</span><span class="na">list</span><span class="o">();</span> <span class="k">break</span><span class="o">;</span>
          <span class="k">case</span> <span class="s">"/task/detail"</span><span class="o">:</span> <span class="n">taskHandler</span><span class="o">.</span><span class="na">detail</span><span class="o">();</span> <span class="k">break</span><span class="o">;</span>
          <span class="k">case</span> <span class="s">"/task/update"</span><span class="o">:</span> <span class="n">taskHandler</span><span class="o">.</span><span class="na">update</span><span class="o">();</span> <span class="k">break</span><span class="o">;</span>
          <span class="k">case</span> <span class="s">"/task/delete"</span><span class="o">:</span> <span class="n">taskHandler</span><span class="o">.</span><span class="na">delete</span><span class="o">();</span> <span class="k">break</span><span class="o">;</span>
          <span class="k">case</span> <span class="s">"/board/add"</span><span class="o">:</span> <span class="n">boardHandler</span><span class="o">.</span><span class="na">add</span><span class="o">();</span> <span class="k">break</span><span class="o">;</span>
          <span class="k">case</span> <span class="s">"/board/list"</span><span class="o">:</span> <span class="n">boardHandler</span><span class="o">.</span><span class="na">list</span><span class="o">();</span> <span class="k">break</span><span class="o">;</span>
          <span class="k">case</span> <span class="s">"/board/detail"</span><span class="o">:</span> <span class="n">boardHandler</span><span class="o">.</span><span class="na">detail</span><span class="o">();</span> <span class="k">break</span><span class="o">;</span>
          <span class="k">case</span> <span class="s">"/board/update"</span><span class="o">:</span> <span class="n">boardHandler</span><span class="o">.</span><span class="na">update</span><span class="o">();</span> <span class="k">break</span><span class="o">;</span>
          <span class="k">case</span> <span class="s">"/board/delete"</span><span class="o">:</span> <span class="n">boardHandler</span><span class="o">.</span><span class="na">delete</span><span class="o">();</span> <span class="k">break</span><span class="o">;</span>

          <span class="c1">// Iterator 패턴을 이용하면,</span>
          <span class="c1">// 자료 구조와 상관없이 일관된 방법으로 목록의 값을 조회할 수 있다.</span>
          <span class="k">case</span> <span class="s">"history"</span><span class="o">:</span> <span class="n">printCommandHistory</span><span class="o">(</span><span class="n">commandStack</span><span class="o">.</span><span class="na">iterator</span><span class="o">());</span> <span class="k">break</span><span class="o">;</span>
          <span class="k">case</span> <span class="s">"history2"</span><span class="o">:</span> <span class="n">printCommandHistory</span><span class="o">(</span><span class="n">commandQueue</span><span class="o">.</span><span class="na">iterator</span><span class="o">());</span> <span class="k">break</span><span class="o">;</span>
            
          <span class="k">case</span> <span class="s">"quit"</span><span class="o">:</span>
          <span class="k">case</span> <span class="s">"exit"</span><span class="o">:</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"안녕!"</span><span class="o">);</span>
            <span class="k">break</span> <span class="n">loop</span><span class="o">;</span>
          <span class="k">default</span><span class="o">:</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"실행할 수 없는 명령입니다."</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">();</span>
      <span class="o">}</span>

    <span class="nc">Prompt</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
  <span class="o">}</span>

  <span class="kd">static</span> <span class="kt">void</span> <span class="nf">printCommandHistory</span><span class="o">(</span><span class="nc">Iterator</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">iterator</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">try</span> <span class="o">{</span>
      <span class="kt">int</span> <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
      <span class="k">while</span> <span class="o">(</span><span class="n">iterator</span><span class="o">.</span><span class="na">hasNext</span><span class="o">())</span> <span class="o">{</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">iterator</span><span class="o">.</span><span class="na">next</span><span class="o">());</span>
        <span class="n">count</span><span class="o">++;</span>
        <span class="k">if</span> <span class="o">((</span><span class="n">count</span> <span class="o">%</span> <span class="mi">5</span><span class="o">)</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="nc">Prompt</span><span class="o">.</span><span class="na">inputString</span><span class="o">(</span><span class="s">":"</span><span class="o">).</span><span class="na">equalsIgnoreCase</span><span class="o">(</span><span class="s">"q"</span><span class="o">))</span> <span class="o">{</span>
          <span class="k">break</span><span class="o">;</span>
        <span class="o">}</span>
      <span class="o">}</span>
    <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"history 명령 처리 중 오류 발생!"</span><span class="o">);</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>

</pre></table></code></div></div><h2 id="v28-a-커맨드-디자인-패턴-적용-1-메서드를-객체로-분리">v.28-a: 커맨드 디자인 패턴 적용: (1) 메서드를 객체로 분리</h2><h3 id="커맨드-패턴command-pattern">커맨드 패턴(command pattern)</h3><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/50407047/93017193-c6dd1800-f601-11ea-8183-1b09da9da3b9.JPG" alt="IMG_0093" /> <img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/50407047/93017196-c80e4500-f601-11ea-8591-506ce69b3e31.JPG" alt="IMG_0094" /> <img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/50407047/93017197-c8a6db80-f601-11ea-9f80-3b7bae597df4.JPG" alt="IMG_0092" /></p><p>메서드의 객체화 설계 기법이다. 한 개의 명령어를 처리하는 메서드를 별개의 클래스로 분리하는 기법이다. 이렇게 하면 명령어가 추가될 때마다 새 클래스를 만들면 되기 때문에 기존 코드를 손대지 않아서 유지보수에 좋다. 즉 기존 소스에 영향을 끼치지 않고 새 기능을 추가하는 방식이다. 명령처리를 별도의 객체로 분리하기 때문에 실행 내역을 관리하기 좋고, 각 명령이 수행했던 작업을 다루기가 편하다.</p><p>인터페이스를 이용하면 메서드 호출 규칙을 단일화할 수 있기 때문에 코딩의 일관성을 높혀줄 수 있다. 단, 기능을 추가할 때마다 해당 기능을 처리하는 새 클래스가 추가되기 때문에 클래스의 개수는 늘어난다. 그러나 유지보수 관점에서는 소스 코드를 일관성 있게 유지보수 할 수 있는 게 더 중요하다.</p><p>커맨드 패턴을 적용하지 않고 새 기능을 추가한다면 메서드를 추가함으로써 기존 코드를 변경해야 한다. 기존 코드에 새 코드를 추가하는 것은 기존 코드를 손댈 수 있는 위험성이 있다. 즉 잘 되던 기능을 망치는 경우가 발생할 수 있다.</p><h3 id="실습-2">실습</h3><h4 id="1단계-사용자-명령을-처리하는-메서드의-호출-규칙을-정의한다">1단계: 사용자 명령을 처리하는 메서드의 호출 규칙을 정의한다.</h4><p>Command 인터페이스를 정의하고 사용자 명령을 처리할 때 호출되는 메서드를 선언한다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">interface</span> <span class="nc">Command</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">execute</span><span class="o">();</span>
<span class="o">}</span>
</pre></table></code></div></div><h4 id="2단계-명령어를-처리하는-xxxhandler의-각-메서드를-command-구현체로-분리한다">2단계: 명령어를 처리하는 XxxHandler의 각 메서드를 <code class="language-plaintext highlighter-rouge">Command</code> 구현체로 분리한다.</h4><p>각 명령어를 처리하는 메서드를 별도의 XxxCommand 클래스를 만들어 분리한다. 이 클래스들은 Command 인터페이스 규칙에 따라 정의한다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">BoardAddCommand</span> <span class="kd">implements</span> <span class="nc">Command</span> <span class="o">{</span>
  <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Board</span><span class="o">&gt;</span> <span class="n">boardList</span><span class="o">;</span>
  
  <span class="kd">public</span> <span class="nf">BoardAddCommand</span><span class="o">(</span><span class="nc">List</span><span class="o">&lt;</span><span class="nc">Board</span><span class="o">&gt;</span> <span class="n">list</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">this</span><span class="o">.</span><span class="na">boardList</span> <span class="o">=</span> <span class="n">list</span><span class="o">;</span>
  <span class="o">}</span>
  
  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">execute</span><span class="o">()</span> <span class="o">{</span>
    <span class="c1">// 원래 BoardHandler.add()의 코드였던 것</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/50407047/93017665-71a30580-f605-11ea-99cf-fe7543305f0d.JPG" alt="IMG_0101" /></p><p>ProjectHandler.add()의 경우, MemberHandler.findByName()을 사용하고 있었다. 따라서 App에서 ProjectHandler를 생성할 때 파라미터로 MemberHandler 객체를 넘겨줌으로서 메서드를 사용할 수 있게 했다. 그러나 MemberHandler 클래스가 삭제되면서 findByName() 메서드를 사용할 수 없게 되었다. 이에 findByName()메서드를 새로 생긴 MemberListCommand 클래스 내부에 정의했다. 비록 MemberListCommand는 findByName()을 사용하지 않지만, ProjectAddCommand에 memberListCommand 객체 필드를 정의하고, 생성자 파라미터로 외부에 생성된 MemberListCommand 객체를 받을 수 있도록 생성자도 정의하였다. 이로써 ProjectAddCommand는 findByName 메서드를 사용할 수 있게 되었다. 마찬가지의 방법으로 MemberListCommand.findByName 에 의존하는 클래스를 정의하였다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
</pre><td class="rouge-code"><pre><span class="kn">package</span> <span class="nn">com.eomcs.pms.handler</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.util.Iterator</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.List</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.eomcs.pms.domain.Member</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MemberListCommand</span> <span class="kd">implements</span> <span class="nc">Command</span> <span class="o">{</span>

  <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Member</span><span class="o">&gt;</span> <span class="n">memberList</span><span class="o">;</span>

  <span class="kd">public</span> <span class="nf">MemberListCommand</span><span class="o">(</span><span class="nc">List</span><span class="o">&lt;</span><span class="nc">Member</span><span class="o">&gt;</span> <span class="n">list</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">this</span><span class="o">.</span><span class="na">memberList</span> <span class="o">=</span> <span class="n">list</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">execute</span><span class="o">()</span> <span class="o">{</span>
    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"[회원 목록]"</span><span class="o">);</span>

    <span class="c1">// 전체 목록을 조회할 때 `Iterator` 객체를 사용한다.</span>
    <span class="c1">// 만약 목록의 일부만 조회하면다면 인덱스를 직접 다루는 이전 방식을 사용해야 한다.</span>
    <span class="nc">Iterator</span><span class="o">&lt;</span><span class="nc">Member</span><span class="o">&gt;</span> <span class="n">iterator</span> <span class="o">=</span> <span class="n">memberList</span><span class="o">.</span><span class="na">iterator</span><span class="o">();</span>

    <span class="k">while</span> <span class="o">(</span><span class="n">iterator</span><span class="o">.</span><span class="na">hasNext</span><span class="o">())</span> <span class="o">{</span>
      <span class="nc">Member</span> <span class="n">member</span> <span class="o">=</span> <span class="n">iterator</span><span class="o">.</span><span class="na">next</span><span class="o">();</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">printf</span><span class="o">(</span><span class="s">"%d, %s, %s, %s, %s\n"</span><span class="o">,</span>
          <span class="n">member</span><span class="o">.</span><span class="na">getNo</span><span class="o">(),</span>
          <span class="n">member</span><span class="o">.</span><span class="na">getName</span><span class="o">(),</span>
          <span class="n">member</span><span class="o">.</span><span class="na">getEmail</span><span class="o">(),</span>
          <span class="n">member</span><span class="o">.</span><span class="na">getTel</span><span class="o">(),</span>
          <span class="n">member</span><span class="o">.</span><span class="na">getRegisteredDate</span><span class="o">());</span>
    <span class="o">}</span>
  <span class="o">}</span>

  <span class="kd">public</span> <span class="nc">Member</span> <span class="nf">findByName</span><span class="o">(</span><span class="nc">String</span> <span class="n">name</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">memberList</span><span class="o">.</span><span class="na">size</span><span class="o">();</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
      <span class="nc">Member</span> <span class="n">member</span> <span class="o">=</span> <span class="n">memberList</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">);</span>
      <span class="k">if</span> <span class="o">(</span><span class="n">member</span><span class="o">.</span><span class="na">getName</span><span class="o">().</span><span class="na">equals</span><span class="o">(</span><span class="n">name</span><span class="o">))</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">member</span><span class="o">;</span>
      <span class="o">}</span>
    <span class="o">}</span>
    <span class="k">return</span> <span class="kc">null</span><span class="o">;</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">ProjectAddCommand</span> <span class="kd">implements</span> <span class="nc">Command</span> <span class="o">{</span>
  <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Project</span><span class="o">&gt;</span> <span class="n">projectList</span><span class="o">;</span>
  <span class="nc">MemberListCommand</span> <span class="n">memberListCommand</span><span class="o">;</span>
  
  <span class="kd">public</span> <span class="nf">ProjectAddCommnad</span><span class="o">(</span><span class="nc">List</span><span class="o">&lt;</span><span class="nc">Project</span><span class="o">&gt;</span> <span class="n">list</span><span class="o">,</span> <span class="nc">MemberListCommand</span> <span class="n">memberListCommand</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">this</span><span class="o">.</span><span class="na">projectList</span> <span class="o">=</span> <span class="n">projectList</span><span class="o">;</span>
    <span class="k">this</span><span class="o">.</span><span class="na">memberListCommand</span> <span class="o">=</span> <span class="n">memberListCommand</span><span class="o">;</span>
  <span class="o">}</span>
  
  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">execute</span><span class="o">()</span> <span class="o">{</span>
    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"[프로젝트 등록]"</span><span class="o">);</span>

    <span class="nc">Project</span> <span class="n">project</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Project</span><span class="o">();</span>
    <span class="n">project</span><span class="o">.</span><span class="na">setNo</span><span class="o">(</span><span class="nc">Prompt</span><span class="o">.</span><span class="na">inputInt</span><span class="o">(</span><span class="s">"번호? "</span><span class="o">));</span>
    <span class="n">project</span><span class="o">.</span><span class="na">setTitle</span><span class="o">(</span><span class="nc">Prompt</span><span class="o">.</span><span class="na">inputString</span><span class="o">(</span><span class="s">"프로젝트명? "</span><span class="o">));</span>
    <span class="n">project</span><span class="o">.</span><span class="na">setContent</span><span class="o">(</span><span class="nc">Prompt</span><span class="o">.</span><span class="na">inputString</span><span class="o">(</span><span class="s">"내용? "</span><span class="o">));</span>
    <span class="n">project</span><span class="o">.</span><span class="na">setStartDate</span><span class="o">(</span><span class="nc">Prompt</span><span class="o">.</span><span class="na">inputDate</span><span class="o">(</span><span class="s">"시작일? "</span><span class="o">));</span>
    <span class="n">project</span><span class="o">.</span><span class="na">setEndDate</span><span class="o">(</span><span class="nc">Prompt</span><span class="o">.</span><span class="na">inputDate</span><span class="o">(</span><span class="s">"종료일? "</span><span class="o">));</span>

    <span class="k">while</span> <span class="o">(</span><span class="kc">true</span><span class="o">)</span> <span class="o">{</span>
      <span class="nc">String</span> <span class="n">name</span> <span class="o">=</span> <span class="nc">Prompt</span><span class="o">.</span><span class="na">inputString</span><span class="o">(</span><span class="s">"만든이?(취소: 빈 문자열) "</span><span class="o">);</span>

      <span class="k">if</span> <span class="o">(</span><span class="n">name</span><span class="o">.</span><span class="na">length</span><span class="o">()</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"프로젝트 등록을 취소합니다."</span><span class="o">);</span>
        <span class="k">return</span><span class="o">;</span>
      <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">(</span><span class="n">memberListCommand</span><span class="o">.</span><span class="na">findByName</span><span class="o">(</span><span class="n">name</span><span class="o">)</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">project</span><span class="o">.</span><span class="na">setOwner</span><span class="o">(</span><span class="n">name</span><span class="o">);</span>
        <span class="k">break</span><span class="o">;</span>
      <span class="o">}</span>

      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"등록된 회원이 아닙니다."</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nc">StringBuilder</span> <span class="n">members</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">StringBuilder</span><span class="o">();</span>
    <span class="k">while</span> <span class="o">(</span><span class="kc">true</span><span class="o">)</span> <span class="o">{</span>
      <span class="nc">String</span> <span class="n">name</span> <span class="o">=</span> <span class="nc">Prompt</span><span class="o">.</span><span class="na">inputString</span><span class="o">(</span><span class="s">"팀원?(완료: 빈 문자열) "</span><span class="o">);</span>

      <span class="k">if</span> <span class="o">(</span><span class="n">name</span><span class="o">.</span><span class="na">length</span><span class="o">()</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">break</span><span class="o">;</span>
      <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">(</span><span class="n">memberListCommand</span><span class="o">.</span><span class="na">findByName</span><span class="o">(</span><span class="n">name</span><span class="o">)</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">members</span><span class="o">.</span><span class="na">length</span><span class="o">()</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
          <span class="n">members</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="s">","</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="n">members</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="n">name</span><span class="o">);</span>
      <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"등록된 회원이 아닙니다."</span><span class="o">);</span>
      <span class="o">}</span>
    <span class="o">}</span>
    <span class="n">project</span><span class="o">.</span><span class="na">setMembers</span><span class="o">(</span><span class="n">members</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>

    <span class="n">projectList</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">project</span><span class="o">);</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><h4 id="3단계-사용자가-명령어를-입력했을-때-command-구현체를-실행하도록-변경한다">3단계: 사용자가 명령어를 입력했을 때 <code class="language-plaintext highlighter-rouge">Command</code> 구현체를 실행하도록 변경한다.</h4><p>App 클래스가 XxxCommand 객체를 통해 처리하도록 변경한다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
</pre><td class="rouge-code"><pre><span class="kn">package</span> <span class="nn">com.eomcs.pms</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.util.ArrayDeque</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.ArrayList</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Deque</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Iterator</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.LinkedList</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.List</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Queue</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.eomcs.pms.domain.Board</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.eomcs.pms.domain.Member</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.eomcs.pms.domain.Project</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.eomcs.pms.domain.Task</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.eomcs.pms.handler.BoardAddCommand</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.eomcs.pms.handler.BoardDeleteCommand</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.eomcs.pms.handler.BoardDetailCommand</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.eomcs.pms.handler.BoardListCommand</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.eomcs.pms.handler.BoardUpdateCommand</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.eomcs.pms.handler.HelloCommand</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.eomcs.pms.handler.MemberAddCommand</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.eomcs.pms.handler.MemberDeleteCommand</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.eomcs.pms.handler.MemberDetailCommand</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.eomcs.pms.handler.MemberListCommand</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.eomcs.pms.handler.MemberUpdateCommand</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.eomcs.pms.handler.ProjectAddCommand</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.eomcs.pms.handler.ProjectDeleteCommand</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.eomcs.pms.handler.ProjectDetailCommand</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.eomcs.pms.handler.ProjectListCommand</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.eomcs.pms.handler.ProjectUpdateCommand</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.eomcs.pms.handler.TaskAddCommand</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.eomcs.pms.handler.TaskDeleteCommand</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.eomcs.pms.handler.TaskDetailCommand</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.eomcs.pms.handler.TaskListCommand</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.eomcs.pms.handler.TaskUpdateCommand</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.eomcs.util.Prompt</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">App</span> <span class="o">{</span>

  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>

    <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Board</span><span class="o">&gt;</span> <span class="n">boardList</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;();</span>
    <span class="nc">BoardAddCommand</span> <span class="n">boardAddCommand</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">BoardAddCommand</span><span class="o">(</span><span class="n">boardList</span><span class="o">);</span>
    <span class="nc">BoardListCommand</span> <span class="n">boardListCommand</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">BoardListCommand</span><span class="o">(</span><span class="n">boardList</span><span class="o">);</span>
    <span class="nc">BoardDetailCommand</span> <span class="n">boardDetailCommand</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">BoardDetailCommand</span><span class="o">(</span><span class="n">boardList</span><span class="o">);</span>
    <span class="nc">BoardUpdateCommand</span> <span class="n">boardUpdateCommand</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">BoardUpdateCommand</span><span class="o">(</span><span class="n">boardList</span><span class="o">);</span>
    <span class="nc">BoardDeleteCommand</span> <span class="n">boardDeleteCommand</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">BoardDeleteCommand</span><span class="o">(</span><span class="n">boardList</span><span class="o">);</span>

    <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Member</span><span class="o">&gt;</span> <span class="n">memberList</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">LinkedList</span><span class="o">&lt;&gt;();</span>
    <span class="nc">MemberAddCommand</span> <span class="n">memberAddCommand</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">MemberAddCommand</span><span class="o">(</span><span class="n">memberList</span><span class="o">);</span>
    <span class="nc">MemberListCommand</span> <span class="n">memberListCommand</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">MemberListCommand</span><span class="o">(</span><span class="n">memberList</span><span class="o">);</span>
    <span class="nc">MemberDetailCommand</span> <span class="n">memberDetailCommand</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">MemberDetailCommand</span><span class="o">(</span><span class="n">memberList</span><span class="o">);</span>
    <span class="nc">MemberUpdateCommand</span> <span class="n">memberUpdateCommand</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">MemberUpdateCommand</span><span class="o">(</span><span class="n">memberList</span><span class="o">);</span>
    <span class="nc">MemberDeleteCommand</span> <span class="n">memberDeleteCommand</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">MemberDeleteCommand</span><span class="o">(</span><span class="n">memberList</span><span class="o">);</span>

    <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Project</span><span class="o">&gt;</span> <span class="n">projectList</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">LinkedList</span><span class="o">&lt;&gt;();</span>
    <span class="nc">ProjectAddCommand</span> <span class="n">projectAddCommand</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ProjectAddCommand</span><span class="o">(</span><span class="n">projectList</span><span class="o">,</span> <span class="n">memberListCommand</span><span class="o">);</span>
    <span class="nc">ProjectListCommand</span> <span class="n">projectListCommand</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ProjectListCommand</span><span class="o">(</span><span class="n">projectList</span><span class="o">);</span>
    <span class="nc">ProjectDetailCommand</span> <span class="n">projectDetailCommand</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ProjectDetailCommand</span><span class="o">(</span><span class="n">projectList</span><span class="o">);</span>
    <span class="nc">ProjectUpdateCommand</span> <span class="n">projectUpdateCommand</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ProjectUpdateCommand</span><span class="o">(</span><span class="n">projectList</span><span class="o">,</span> <span class="n">memberListCommand</span><span class="o">);</span>
    <span class="nc">ProjectDeleteCommand</span> <span class="n">projectDeleteCommand</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ProjectDeleteCommand</span><span class="o">(</span><span class="n">projectList</span><span class="o">);</span>

    <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Task</span><span class="o">&gt;</span> <span class="n">taskList</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;();</span>
    <span class="nc">TaskAddCommand</span> <span class="n">taskAddCommand</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">TaskAddCommand</span><span class="o">(</span><span class="n">taskList</span><span class="o">,</span> <span class="n">memberListCommand</span><span class="o">);</span>
    <span class="nc">TaskListCommand</span> <span class="n">taskListCommand</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">TaskListCommand</span><span class="o">(</span><span class="n">taskList</span><span class="o">);</span>
    <span class="nc">TaskDetailCommand</span> <span class="n">taskDetailCommand</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">TaskDetailCommand</span><span class="o">(</span><span class="n">taskList</span><span class="o">);</span>
    <span class="nc">TaskUpdateCommand</span> <span class="n">taskUpdateCommand</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">TaskUpdateCommand</span><span class="o">(</span><span class="n">taskList</span><span class="o">,</span> <span class="n">memberListCommand</span><span class="o">);</span>
    <span class="nc">TaskDeleteCommand</span> <span class="n">taskDeleteCommand</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">TaskDeleteCommand</span><span class="o">(</span><span class="n">taskList</span><span class="o">);</span>

    <span class="nc">HelloCommand</span> <span class="n">helloCommand</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HelloCommand</span><span class="o">();</span>

    <span class="c1">// 자바에서는 stack 알고리즘(LIFO)에 대한 인터페이스로 Deque 를 제공한다.</span>
    <span class="nc">Deque</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">commandStack</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayDeque</span><span class="o">&lt;&gt;();</span>

    <span class="c1">// 자바에서 제공하는 LinkedList 클래스는 Queue 구현체이기도 하다.</span>
    <span class="nc">Queue</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">commandQueue</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">LinkedList</span><span class="o">&lt;&gt;();</span>

    <span class="nl">loop:</span>
      <span class="k">while</span> <span class="o">(</span><span class="kc">true</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">String</span> <span class="n">command</span> <span class="o">=</span> <span class="nc">Prompt</span><span class="o">.</span><span class="na">inputString</span><span class="o">(</span><span class="s">"명령&gt; "</span><span class="o">);</span>

        <span class="c1">// 사용자가 입력한 명령을 보관한다.</span>
        <span class="n">commandStack</span><span class="o">.</span><span class="na">push</span><span class="o">(</span><span class="n">command</span><span class="o">);</span>
        <span class="n">commandQueue</span><span class="o">.</span><span class="na">offer</span><span class="o">(</span><span class="n">command</span><span class="o">);</span>

        <span class="k">switch</span> <span class="o">(</span><span class="n">command</span><span class="o">)</span> <span class="o">{</span>
          <span class="k">case</span> <span class="s">"/member/add"</span><span class="o">:</span> <span class="n">memberAddCommand</span><span class="o">.</span><span class="na">execute</span><span class="o">();</span> <span class="k">break</span><span class="o">;</span>
          <span class="k">case</span> <span class="s">"/member/list"</span><span class="o">:</span> <span class="n">memberListCommand</span><span class="o">.</span><span class="na">execute</span><span class="o">();</span> <span class="k">break</span><span class="o">;</span>
          <span class="k">case</span> <span class="s">"/member/detail"</span><span class="o">:</span> <span class="n">memberDetailCommand</span><span class="o">.</span><span class="na">execute</span><span class="o">();</span> <span class="k">break</span><span class="o">;</span>
          <span class="k">case</span> <span class="s">"/member/update"</span><span class="o">:</span> <span class="n">memberUpdateCommand</span><span class="o">.</span><span class="na">execute</span><span class="o">();</span> <span class="k">break</span><span class="o">;</span>
          <span class="k">case</span> <span class="s">"/member/delete"</span><span class="o">:</span> <span class="n">memberDeleteCommand</span><span class="o">.</span><span class="na">execute</span><span class="o">();</span> <span class="k">break</span><span class="o">;</span>
          <span class="k">case</span> <span class="s">"/project/add"</span><span class="o">:</span> <span class="n">projectAddCommand</span><span class="o">.</span><span class="na">execute</span><span class="o">();</span> <span class="k">break</span><span class="o">;</span>
          <span class="k">case</span> <span class="s">"/project/list"</span><span class="o">:</span> <span class="n">projectListCommand</span><span class="o">.</span><span class="na">execute</span><span class="o">();</span> <span class="k">break</span><span class="o">;</span>
          <span class="k">case</span> <span class="s">"/project/detail"</span><span class="o">:</span> <span class="n">projectDetailCommand</span><span class="o">.</span><span class="na">execute</span><span class="o">();</span> <span class="k">break</span><span class="o">;</span>
          <span class="k">case</span> <span class="s">"/project/update"</span><span class="o">:</span> <span class="n">projectUpdateCommand</span><span class="o">.</span><span class="na">execute</span><span class="o">();</span> <span class="k">break</span><span class="o">;</span>
          <span class="k">case</span> <span class="s">"/project/delete"</span><span class="o">:</span> <span class="n">projectDeleteCommand</span><span class="o">.</span><span class="na">execute</span><span class="o">();</span> <span class="k">break</span><span class="o">;</span>
          <span class="k">case</span> <span class="s">"/task/add"</span><span class="o">:</span> <span class="n">taskAddCommand</span><span class="o">.</span><span class="na">execute</span><span class="o">();</span> <span class="k">break</span><span class="o">;</span>
          <span class="k">case</span> <span class="s">"/task/list"</span><span class="o">:</span> <span class="n">taskListCommand</span><span class="o">.</span><span class="na">execute</span><span class="o">();</span> <span class="k">break</span><span class="o">;</span>
          <span class="k">case</span> <span class="s">"/task/detail"</span><span class="o">:</span> <span class="n">taskDetailCommand</span><span class="o">.</span><span class="na">execute</span><span class="o">();</span> <span class="k">break</span><span class="o">;</span>
          <span class="k">case</span> <span class="s">"/task/update"</span><span class="o">:</span> <span class="n">taskUpdateCommand</span><span class="o">.</span><span class="na">execute</span><span class="o">();</span> <span class="k">break</span><span class="o">;</span>
          <span class="k">case</span> <span class="s">"/task/delete"</span><span class="o">:</span> <span class="n">taskDeleteCommand</span><span class="o">.</span><span class="na">execute</span><span class="o">();</span> <span class="k">break</span><span class="o">;</span>
          <span class="k">case</span> <span class="s">"/board/add"</span><span class="o">:</span> <span class="n">boardAddCommand</span><span class="o">.</span><span class="na">execute</span><span class="o">();</span> <span class="k">break</span><span class="o">;</span>
          <span class="k">case</span> <span class="s">"/board/list"</span><span class="o">:</span> <span class="n">boardListCommand</span><span class="o">.</span><span class="na">execute</span><span class="o">();</span> <span class="k">break</span><span class="o">;</span>
          <span class="k">case</span> <span class="s">"/board/detail"</span><span class="o">:</span> <span class="n">boardDetailCommand</span><span class="o">.</span><span class="na">execute</span><span class="o">();</span> <span class="k">break</span><span class="o">;</span>
          <span class="k">case</span> <span class="s">"/board/update"</span><span class="o">:</span> <span class="n">boardUpdateCommand</span><span class="o">.</span><span class="na">execute</span><span class="o">();</span> <span class="k">break</span><span class="o">;</span>
          <span class="k">case</span> <span class="s">"/board/delete"</span><span class="o">:</span> <span class="n">boardDeleteCommand</span><span class="o">.</span><span class="na">execute</span><span class="o">();</span> <span class="k">break</span><span class="o">;</span>
          <span class="k">case</span> <span class="s">"/hello"</span><span class="o">:</span> <span class="n">helloCommand</span><span class="o">.</span><span class="na">execute</span><span class="o">();</span> <span class="k">break</span><span class="o">;</span>

          <span class="c1">// Iterator 패턴을 이용하면,</span>
          <span class="c1">// 자료 구조와 상관없이 일관된 방법으로 목록의 값을 조회할 수 있다.</span>
          <span class="k">case</span> <span class="s">"history"</span><span class="o">:</span> <span class="n">printCommandHistory</span><span class="o">(</span><span class="n">commandStack</span><span class="o">.</span><span class="na">iterator</span><span class="o">());</span> <span class="k">break</span><span class="o">;</span>
          <span class="k">case</span> <span class="s">"history2"</span><span class="o">:</span> <span class="n">printCommandHistory</span><span class="o">(</span><span class="n">commandQueue</span><span class="o">.</span><span class="na">iterator</span><span class="o">());</span> <span class="k">break</span><span class="o">;</span>

          <span class="k">case</span> <span class="s">"quit"</span><span class="o">:</span>
          <span class="k">case</span> <span class="s">"exit"</span><span class="o">:</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"안녕!"</span><span class="o">);</span>
            <span class="k">break</span> <span class="n">loop</span><span class="o">;</span>
          <span class="k">default</span><span class="o">:</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"실행할 수 없는 명령입니다."</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">();</span> <span class="c1">// 이전 명령의 실행을 구분하기 위해 빈 줄 출력</span>
      <span class="o">}</span>

    <span class="nc">Prompt</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
  <span class="o">}</span>

  <span class="kd">static</span> <span class="kt">void</span> <span class="nf">printCommandHistory</span><span class="o">(</span><span class="nc">Iterator</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">iterator</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">try</span> <span class="o">{</span>
      <span class="kt">int</span> <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
      <span class="k">while</span> <span class="o">(</span><span class="n">iterator</span><span class="o">.</span><span class="na">hasNext</span><span class="o">())</span> <span class="o">{</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">iterator</span><span class="o">.</span><span class="na">next</span><span class="o">());</span>
        <span class="n">count</span><span class="o">++;</span>

        <span class="c1">// 5개 출력할 때 마다 계속 출력할지 묻는다.</span>
        <span class="k">if</span> <span class="o">((</span><span class="n">count</span> <span class="o">%</span> <span class="mi">5</span><span class="o">)</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="nc">Prompt</span><span class="o">.</span><span class="na">inputString</span><span class="o">(</span><span class="s">":"</span><span class="o">).</span><span class="na">equalsIgnoreCase</span><span class="o">(</span><span class="s">"q"</span><span class="o">))</span> <span class="o">{</span>
          <span class="k">break</span><span class="o">;</span>
        <span class="o">}</span>
      <span class="o">}</span>
    <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"history 명령 처리 중 오류 발생!"</span><span class="o">);</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>

</pre></table></code></div></div><h2 id="v28-b-커맨드-디자인-패턴-적용-2-map을-이용한-커맨드-객체-관리">v.28-b: 커맨드 디자인 패턴 적용: (2) Map을 이용한 커맨드 객체 관리</h2><p>컬렉션 API의 Map 객체를 이요해서 커맨드 객체를 관리한다.</p><h3 id="실습-3">실습</h3><ul><li>낱개의 레퍼런스로 커맨드 객체를 관리하던 방식을 <code class="language-plaintext highlighter-rouge">Map</code>을 이용하여 관리한다.<li>명령어를 처리할 때는 ` Map`에서 커맨드 객체를 찾아 실행한다.</ul><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
</pre><td class="rouge-code"><pre><span class="kn">package</span> <span class="nn">com.eomcs.pms</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.util.ArrayDeque</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.ArrayList</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Deque</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.HashMap</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Iterator</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.LinkedList</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.List</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Map</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Queue</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.eomcs.pms.domain.Board</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.eomcs.pms.domain.Member</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.eomcs.pms.domain.Project</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.eomcs.pms.domain.Task</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.eomcs.pms.handler.BoardAddCommand</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.eomcs.pms.handler.BoardDeleteCommand</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.eomcs.pms.handler.BoardDetailCommand</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.eomcs.pms.handler.BoardListCommand</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.eomcs.pms.handler.BoardUpdateCommand</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.eomcs.pms.handler.Command</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.eomcs.pms.handler.HelloCommand</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.eomcs.pms.handler.MemberAddCommand</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.eomcs.pms.handler.MemberDeleteCommand</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.eomcs.pms.handler.MemberDetailCommand</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.eomcs.pms.handler.MemberListCommand</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.eomcs.pms.handler.MemberUpdateCommand</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.eomcs.pms.handler.ProjectAddCommand</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.eomcs.pms.handler.ProjectDeleteCommand</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.eomcs.pms.handler.ProjectDetailCommand</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.eomcs.pms.handler.ProjectListCommand</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.eomcs.pms.handler.ProjectUpdateCommand</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.eomcs.pms.handler.TaskAddCommand</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.eomcs.pms.handler.TaskDeleteCommand</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.eomcs.pms.handler.TaskDetailCommand</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.eomcs.pms.handler.TaskListCommand</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.eomcs.pms.handler.TaskUpdateCommand</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.eomcs.util.Prompt</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">App</span> <span class="o">{</span>

  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>

    <span class="c1">// 커맨드 객체를 저장할 맵 객체를 준비한다.</span>
    <span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span><span class="nc">Command</span><span class="o">&gt;</span> <span class="n">commandMap</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashMap</span><span class="o">&lt;&gt;();</span>

    <span class="c1">// 맵 객체에 커맨드 객체를 보관한다.</span>
    <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Board</span><span class="o">&gt;</span> <span class="n">boardList</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;();</span>
    <span class="n">commandMap</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"/board/add"</span><span class="o">,</span> <span class="k">new</span> <span class="nc">BoardAddCommand</span><span class="o">(</span><span class="n">boardList</span><span class="o">));</span>
    <span class="n">commandMap</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"/board/list"</span><span class="o">,</span> <span class="k">new</span> <span class="nc">BoardListCommand</span><span class="o">(</span><span class="n">boardList</span><span class="o">));</span>
    <span class="n">commandMap</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"/board/detail"</span><span class="o">,</span> <span class="k">new</span> <span class="nc">BoardDetailCommand</span><span class="o">(</span><span class="n">boardList</span><span class="o">));</span>
    <span class="n">commandMap</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"/board/update"</span><span class="o">,</span> <span class="k">new</span> <span class="nc">BoardUpdateCommand</span><span class="o">(</span><span class="n">boardList</span><span class="o">));</span>
    <span class="n">commandMap</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"/board/delete"</span><span class="o">,</span> <span class="k">new</span> <span class="nc">BoardDeleteCommand</span><span class="o">(</span><span class="n">boardList</span><span class="o">));</span>

    <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Member</span><span class="o">&gt;</span> <span class="n">memberList</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">LinkedList</span><span class="o">&lt;&gt;();</span>
    <span class="nc">MemberListCommand</span> <span class="n">memberListCommand</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">MemberListCommand</span><span class="o">(</span><span class="n">memberList</span><span class="o">);</span>
    <span class="n">commandMap</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"/member/add"</span><span class="o">,</span> <span class="k">new</span> <span class="nc">MemberAddCommand</span><span class="o">(</span><span class="n">memberList</span><span class="o">));</span>
    <span class="n">commandMap</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"/member/list"</span><span class="o">,</span> <span class="n">memberListCommand</span><span class="o">);</span>
    <span class="n">commandMap</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"/member/detail"</span><span class="o">,</span> <span class="k">new</span> <span class="nc">MemberDetailCommand</span><span class="o">(</span><span class="n">memberList</span><span class="o">));</span>
    <span class="n">commandMap</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"/member/update"</span><span class="o">,</span> <span class="k">new</span> <span class="nc">MemberUpdateCommand</span><span class="o">(</span><span class="n">memberList</span><span class="o">));</span>
    <span class="n">commandMap</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"/member/delete"</span><span class="o">,</span> <span class="k">new</span> <span class="nc">MemberDeleteCommand</span><span class="o">(</span><span class="n">memberList</span><span class="o">));</span>

    <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Project</span><span class="o">&gt;</span> <span class="n">projectList</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">LinkedList</span><span class="o">&lt;&gt;();</span>
    <span class="n">commandMap</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"/project/add"</span><span class="o">,</span> <span class="k">new</span> <span class="nc">ProjectAddCommand</span><span class="o">(</span><span class="n">projectList</span><span class="o">,</span> <span class="n">memberListCommand</span><span class="o">));</span>
    <span class="n">commandMap</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"/project/list"</span><span class="o">,</span> <span class="k">new</span> <span class="nc">ProjectListCommand</span><span class="o">(</span><span class="n">projectList</span><span class="o">));</span>
    <span class="n">commandMap</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"/project/detail"</span><span class="o">,</span> <span class="k">new</span> <span class="nc">ProjectDetailCommand</span><span class="o">(</span><span class="n">projectList</span><span class="o">));</span>
    <span class="n">commandMap</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"/project/update"</span><span class="o">,</span> <span class="k">new</span> <span class="nc">ProjectUpdateCommand</span><span class="o">(</span><span class="n">projectList</span><span class="o">,</span> <span class="n">memberListCommand</span><span class="o">));</span>
    <span class="n">commandMap</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"/project/delete"</span><span class="o">,</span> <span class="k">new</span> <span class="nc">ProjectDeleteCommand</span><span class="o">(</span><span class="n">projectList</span><span class="o">));</span>

    <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Task</span><span class="o">&gt;</span> <span class="n">taskList</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;();</span>
    <span class="n">commandMap</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"/task/add"</span><span class="o">,</span> <span class="k">new</span> <span class="nc">TaskAddCommand</span><span class="o">(</span><span class="n">taskList</span><span class="o">,</span> <span class="n">memberListCommand</span><span class="o">));</span>
    <span class="n">commandMap</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"/task/list"</span><span class="o">,</span> <span class="k">new</span> <span class="nc">TaskListCommand</span><span class="o">(</span><span class="n">taskList</span><span class="o">));</span>
    <span class="n">commandMap</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"/task/detail"</span><span class="o">,</span> <span class="k">new</span> <span class="nc">TaskDetailCommand</span><span class="o">(</span><span class="n">taskList</span><span class="o">));</span>
    <span class="n">commandMap</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"/task/update"</span><span class="o">,</span> <span class="k">new</span> <span class="nc">TaskUpdateCommand</span><span class="o">(</span><span class="n">taskList</span><span class="o">,</span> <span class="n">memberListCommand</span><span class="o">));</span>
    <span class="n">commandMap</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"/task/delete"</span><span class="o">,</span> <span class="k">new</span> <span class="nc">TaskDeleteCommand</span><span class="o">(</span><span class="n">taskList</span><span class="o">));</span>
    <span class="n">commandMap</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"/hello"</span><span class="o">,</span> <span class="k">new</span> <span class="nc">HelloCommand</span><span class="o">());</span>

    <span class="nc">Deque</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">commandStack</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayDeque</span><span class="o">&lt;&gt;();</span>
    <span class="nc">Queue</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">commandQueue</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">LinkedList</span><span class="o">&lt;&gt;();</span>

    <span class="nl">loop:</span>
      <span class="k">while</span> <span class="o">(</span><span class="kc">true</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">String</span> <span class="n">inputStr</span> <span class="o">=</span> <span class="nc">Prompt</span><span class="o">.</span><span class="na">inputString</span><span class="o">(</span><span class="s">"명령&gt; "</span><span class="o">);</span>

        <span class="k">if</span> <span class="o">(</span><span class="n">inputStr</span><span class="o">.</span><span class="na">length</span><span class="o">()</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
          <span class="k">continue</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="c1">// 사용자가 입력한 명령을 보관한다.</span>
        <span class="n">commandStack</span><span class="o">.</span><span class="na">push</span><span class="o">(</span><span class="n">inputStr</span><span class="o">);</span>
        <span class="n">commandQueue</span><span class="o">.</span><span class="na">offer</span><span class="o">(</span><span class="n">inputStr</span><span class="o">);</span>

        <span class="k">switch</span> <span class="o">(</span><span class="n">inputStr</span><span class="o">)</span> <span class="o">{</span>
          <span class="k">case</span> <span class="s">"history"</span><span class="o">:</span> <span class="n">printCommandHistory</span><span class="o">(</span><span class="n">commandStack</span><span class="o">.</span><span class="na">iterator</span><span class="o">());</span> <span class="k">break</span><span class="o">;</span>
          <span class="k">case</span> <span class="s">"history2"</span><span class="o">:</span> <span class="n">printCommandHistory</span><span class="o">(</span><span class="n">commandQueue</span><span class="o">.</span><span class="na">iterator</span><span class="o">());</span> <span class="k">break</span><span class="o">;</span>
          <span class="k">case</span> <span class="s">"quit"</span><span class="o">:</span>
          <span class="k">case</span> <span class="s">"exit"</span><span class="o">:</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"안녕!"</span><span class="o">);</span>
            <span class="k">break</span> <span class="n">loop</span><span class="o">;</span>
          <span class="k">default</span><span class="o">:</span>
            <span class="nc">Command</span> <span class="n">command</span> <span class="o">=</span> <span class="n">commandMap</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">inputStr</span><span class="o">);</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">command</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
              <span class="n">command</span><span class="o">.</span><span class="na">execute</span><span class="o">();</span>
            <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
              <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"실행할 수 없는 명령입니다."</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">();</span> 
      <span class="o">}</span>

    <span class="nc">Prompt</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
  <span class="o">}</span>

  <span class="kd">static</span> <span class="kt">void</span> <span class="nf">printCommandHistory</span><span class="o">(</span><span class="nc">Iterator</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">iterator</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">try</span> <span class="o">{</span>
      <span class="kt">int</span> <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
      <span class="k">while</span> <span class="o">(</span><span class="n">iterator</span><span class="o">.</span><span class="na">hasNext</span><span class="o">())</span> <span class="o">{</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">iterator</span><span class="o">.</span><span class="na">next</span><span class="o">());</span>
        <span class="n">count</span><span class="o">++;</span>

        <span class="k">if</span> <span class="o">((</span><span class="n">count</span> <span class="o">%</span> <span class="mi">5</span><span class="o">)</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="nc">Prompt</span><span class="o">.</span><span class="na">inputString</span><span class="o">(</span><span class="s">":"</span><span class="o">).</span><span class="na">equalsIgnoreCase</span><span class="o">(</span><span class="s">"q"</span><span class="o">))</span> <span class="o">{</span>
          <span class="k">break</span><span class="o">;</span>
        <span class="o">}</span>
      <span class="o">}</span>
    <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"history 명령 처리 중 오류 발생!"</span><span class="o">);</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>

</pre></table></code></div></div></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/bitcamp/'>bitcamp</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/bitcamp/" class="post-tag no-text-decoration" >bitcamp</a> <a href="/tags/java/" class="post-tag no-text-decoration" >java</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=학원 #38일차: 익명 클래스, 커맨드 디자인 패턴, 상수 다루기 - 하연&url=https://hayeon17kim.github.io//posts/200911-38/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=학원 #38일차: 익명 클래스, 커맨드 디자인 패턴, 상수 다루기 - 하연&u=https://hayeon17kim.github.io//posts/200911-38/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=학원 #38일차: 익명 클래스, 커맨드 디자인 패턴, 상수 다루기 - 하연&url=https://hayeon17kim.github.io//posts/200911-38/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/system-deisign-capacity-estimation/">System Design: Capacity Estimate</a><li><a href="/posts/today-i-learned-2021-04-27/">주니어 성장일기: 2021.04.27</a><li><a href="/posts/today-i-learned-2021-04-26/">주니어 성장일기: 2021.04.26</a><li><a href="/posts/fastcampus-01/">자료구조와 알고리즘이란</a><li><a href="/posts/today-i-learned-2021-04-25/">주니어 성장일기: 2021.04.25</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/java/">java</a> <a class="post-tag" href="/tags/javascript/">JavaScript</a> <a class="post-tag" href="/tags/bitcamp/">bitcamp</a> <a class="post-tag" href="/tags/modernjs/">modernJS</a> <a class="post-tag" href="/tags/project/">project</a> <a class="post-tag" href="/tags/algorithm/">algorithm</a> <a class="post-tag" href="/tags/trouble-shooting/">trouble-shooting</a> <a class="post-tag" href="/tags/devil/">devil</a> <a class="post-tag" href="/tags/corejs/">corejs</a> <a class="post-tag" href="/tags/network/">network</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/201123-85/"><div class="card-body"> <span class="timeago small" > Nov 23, 2020 <i class="unloaded">2020-11-23T00:00:00+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>학원 #85일차:서블릿 프로그래밍, WAS, JavaEE와 Servlet 컨테이너, Servlet 인터페이스의 Life-cycle 메서드</h3><div class="text-muted small"><p> 서블릿 프로그래밍 웹 애플리케이션 서버 아키텍쳐의 개념 JavaEE와 Servlet API의 관계 JavaEE 구현체와 서블릿 컨테이너의 관계 eomcs-web-project/src-00 예제 실습 Servlet 인터페이스와 Life-cycle 메서드 WAS(Web Application Server) 아키텍처 이전까지는 사...</p></div></div></a></div><div class="card"> <a href="/posts/201124-86/"><div class="card-body"> <span class="timeago small" > Nov 24, 2020 <i class="unloaded">2020-11-24T00:00:00+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>학원 #86일차:서블릿 프로그래밍, 프로젝트를 WAS 아키텍처로 전환</h3><div class="text-muted small"><p> 서블릿 컨테이너가 관리하는 컴포넌트는 서블릿, 필터, 리스너로 3가지이다. Servlet 만들기 1. javax.servlet.Servlet 인터페이스 구현 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38...</p></div></div></a></div><div class="card"> <a href="/posts/201125-87/"><div class="card-body"> <span class="timeago small" > Nov 25, 2020 <i class="unloaded">2020-11-25T00:00:00+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>학원 #87일차: HTML 태그 사용법</h3><div class="text-muted small"><p> HTML/CSS 학습법: 결과 화면 먼저 보고 소스코드를 확인하자 UI와 UX UX(User Experience; 사용자 경험): 사용자 편의성 ex: 링크에 hover했을 때 커서가 손모양으로 바뀌어야 한다. UI(User Interface): 기능을 하는 화면이 있는가 HTML ...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/200908-35/" class="btn btn-outline-primary" prompt="Older"><p>학원 #35일차: 중첩 클래스: static nested class, inner class, local class</p></a> <a href="/posts/network05/" class="btn btn-outline-primary" prompt="Newer"><p>💻 HTTP #5: HTTP의 진화</p></a></div><div id="disqus" class="pt-2 pb-2"><p class="text-center text-muted small pb-5"> Loading comments from <a href="https://disqus.com/">Disqus</a> ...</p></div><script src="/assets/js/lib/jquery.disqusloader.min.js"></script> <script> const options = { scriptUrl: '//hayeon17kim-github-io.disqus.com/embed.js', disqusConfig: function() { this.page.title = '학원 #38일차: 익명 클래스, 커맨드 디자인 패턴, 상수 다루기'; this.page.url = 'https://hayeon17kim.github.io//posts/200911-38/'; this.page.identifier = '/posts/200911-38/'; } }; $.disqusLoader('#disqus', options); </script></div></div></div><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script> <script type="text/javascript"> const imgs = document.querySelectorAll('.post-content img'); const observer = lozad(imgs); observer.observe(); </script><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2021 <a href="https://twitter.com/MONI56219559">hayeon_kim</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/java/">java</a> <a class="post-tag" href="/tags/javascript/">JavaScript</a> <a class="post-tag" href="/tags/bitcamp/">bitcamp</a> <a class="post-tag" href="/tags/modernjs/">modernJS</a> <a class="post-tag" href="/tags/project/">project</a> <a class="post-tag" href="/tags/algorithm/">algorithm</a> <a class="post-tag" href="/tags/trouble-shooting/">trouble shooting</a> <a class="post-tag" href="/tags/devil/">devil</a> <a class="post-tag" href="/tags/corejs/">corejs</a> <a class="post-tag" href="/tags/network/">network</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://hayeon17kim.github.io/{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script>
