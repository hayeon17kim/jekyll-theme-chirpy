<!DOCTYPE html><html lang="kr-KR" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="pv-cache-enabled" content="false"><meta name="generator" content="Jekyll v4.2.0" /><meta property="og:title" content="학원 #41일차: 람다(Lambda)" /><meta name="author" content="hayeon_kim" /><meta property="og:locale" content="kr_KR" /><meta name="description" content="인터페이스" /><meta property="og:description" content="인터페이스" /><link rel="canonical" href="https://hayeon17kim.github.io//posts/200916-41/" /><meta property="og:url" content="https://hayeon17kim.github.io//posts/200916-41/" /><meta property="og:site_name" content="하연" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2020-09-16T00:00:00+08:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="학원 #41일차: 람다(Lambda)" /><meta name="twitter:site" content="@MONI56219559" /><meta name="twitter:creator" content="@hayeon_kim" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"author":{"@type":"Person","name":"hayeon_kim"},"headline":"학원 #41일차: 람다(Lambda)","dateModified":"2020-09-16T00:00:00+08:00","datePublished":"2020-09-16T00:00:00+08:00","description":"인터페이스","url":"https://hayeon17kim.github.io//posts/200916-41/","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://hayeon17kim.github.io//posts/200916-41/"},"@context":"https://schema.org"}</script><title>학원 #41일차: 람다(Lambda) | 하연</title><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon.png"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon-precomposed.png"><link rel="apple-touch-icon" sizes="57x57" href="/assets/img/favicons/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/assets/img/favicons/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicons/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/assets/img/favicons/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicons/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/assets/img/favicons/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicons/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/assets/img/favicons/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/assets/img/favicons/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/assets/img/favicons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/manifest.json"><meta name='msapplication-config' content='/assets/img/favicons/browserconfig.xml'><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/assets/img/favicons/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="cdn.jsdelivr.net"><link rel="dns-prefetch" href="cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=UA-173202420-1"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-173202420-1'); }); </script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/img/bio-photo.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">하연</a></div><div class="site-subtitle font-italic">어제보다 나은 코드를 위해</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/projects/" class="nav-link"> <i class="fa-fw fas fa-laptop-code ml-xl-3 mr-xl-3 unloaded"></i> <span>PROJECTS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/hayeon17kim" aria-label="github" class="order-3" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/MONI56219559" aria-label="twitter" class="order-4" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['hayeon17kim','gmail.com'].join('@')" aria-label="email" class="order-5" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" class="order-6" > <i class="fas fa-rss"></i> </a> <span class="icon-border order-2"></span> <span id="mode-toggle-wrapper" class="order-1"> <i class="mode-toggle fas fa-adjust"></i> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } var self = this; /* always follow the system prefers */ this.sysDarkPrefers.addListener(function() { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.updateMermaid(); }); } /* constructor() */ setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode == ModeToggle.DARK_MODE; } get isLightMode() { return this.mode == ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer) ) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } updateMermaid() { if (typeof mermaid !== "undefined") { let expectedTheme = (this.modeStatus === ModeToggle.DARK_MODE? "dark" : "default"); let config = { theme: expectedTheme }; /* re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function() { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.updateMermaid(); } /* flipMode() */ } /* ModeToggle */ let toggle = new ModeToggle(); $(".mode-toggle").click(function() { toggle.flipMode(); }); </script> </span></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Posts </a> </span> <span>학원 #41일차: 람다(Lambda)</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>학원 #41일차: 람다(Lambda)</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Wed, Sep 16, 2020, 12:00 AM +0800" > Sep 16, 2020 <i class="unloaded">2020-09-16T00:00:00+08:00</i> </span> by <span class="author"> hayeon_kim </span></div><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="8286 words">46 min</span></div></div><div class="post-content"><h2 id="인터페이스">인터페이스</h2><p>프로그래밍을 하다보면 <strong>인터페이스</strong>가 등장하는데, 이럴 땐 호출 규칙에 따라서 호출하는 쪽, caller 프로그램을 짤 것인지, 호출될 프로그램, callee을 짤 것인지 파악해야 한다.</p><h3 id="caller를-만드는-입장">caller를 만드는 입장</h3><p>다음 예제에서 Iterator는 인터페이스이다. ArrayList의 iterator() 메서드는 Iterator 인터페이스를 구현한 클래스의 객체를 만들어 리턴한다. main() 메서드에서는 이미 만들어진 Iterator 구현체를 Iterator 규칙(<code class="language-plaintext highlighter-rouge">hasNext()</code>와 <code class="language-plaintext highlighter-rouge">next()</code>)에 따라 사용하고 있다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Exam0110</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;();</span>
    <span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"홍길동"</span><span class="o">);</span>
    <span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"임꺽정"</span><span class="o">);</span>
    <span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"유관순"</span><span class="o">);</span>
    <span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"김구"</span><span class="o">);</span>

    <span class="nc">Iterator</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">iterator</span> <span class="o">=</span> <span class="n">list</span><span class="o">.</span><span class="na">iterator</span><span class="o">();</span>

    <span class="c1">// 인터페이스를 기준으로 한 개발자 입장:</span>
    <span class="c1">// =&gt; 인터페이스 호출 규칙에 따라 객체를 사용한다.</span>
    <span class="k">while</span> <span class="o">(</span><span class="n">iterator</span><span class="o">.</span><span class="na">hasNext</span><span class="o">())</span> <span class="o">{</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">iterator</span><span class="o">.</span><span class="na">next</span><span class="o">());</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><h3 id="callee를-만드는-입장">callee를 만드는 입장</h3><p>다음 예제는 File의 <code class="language-plaintext highlighter-rouge">list()</code> 메서드가 사용할 필터 객체를 만드는 코드이다. FilenameFilter 인터페이스 규칙에 따라 <code class="language-plaintext highlighter-rouge">MyFilter</code> 클래스를(메서드를) 작성한다. 이렇게 작성할 클래스는 <code class="language-plaintext highlighter-rouge">list()</code> 메서드 내에서 사용할 것이다. 즉 <code class="language-plaintext highlighter-rouge">list()</code> 메서드 내에서 호출할 <code class="language-plaintext highlighter-rouge">accept()</code> 메서드를 작성한다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Exam0120</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">File</span> <span class="n">file</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">File</span><span class="o">(</span><span class="s">"."</span><span class="o">);</span>


    <span class="c1">// 인터페이스를 기준으로 한 개발자 입장:</span>
    <span class="c1">// =&gt; File에 list() 메서드가 사용할 필터 객체를 만드는 입장이다.</span>
    <span class="c1">// =&gt; FilenameFilter 인터페이스 규칙에 따라 클래스를 작성한다.</span>
    <span class="c1">// =&gt; 이렇게 작성한 클래스는 list() 메서드에서 사용할 것이다.</span>

    <span class="kd">class</span> <span class="nc">MyFilter</span> <span class="kd">implements</span> <span class="nc">FilenameFilter</span> <span class="o">{</span>
      <span class="nd">@Override</span>
      <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">accept</span><span class="o">(</span><span class="nc">File</span> <span class="n">dir</span><span class="o">,</span> <span class="nc">String</span> <span class="n">name</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="o">(</span><span class="n">name</span><span class="o">.</span><span class="na">endsWith</span><span class="o">(</span><span class="s">".java"</span><span class="o">))</span> <span class="o">?</span> <span class="kc">true</span> <span class="o">:</span> <span class="kc">false</span><span class="o">;</span>
      <span class="o">}</span>

    <span class="o">}</span>

    <span class="nc">String</span><span class="o">[]</span> <span class="n">filenames</span> <span class="o">=</span> <span class="n">file</span><span class="o">.</span><span class="na">list</span><span class="o">(</span><span class="k">new</span> <span class="nc">MyFilter</span><span class="o">());</span>

    <span class="k">for</span> <span class="o">(</span><span class="nc">String</span> <span class="n">filename</span> <span class="o">:</span> <span class="n">filenames</span><span class="o">)</span> <span class="o">{</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">filename</span><span class="o">);</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>

</pre></table></code></div></div><blockquote><p>Spring을 통해 우리가 하는 일도 위와 같다. caller를 60퍼센트도 만들고 나머지는 callee를 작성할 것이다.</p></blockquote><h1 id="람다lambda">람다(lambda)</h1><blockquote><p>com.eomcs.oop.ex12</p></blockquote><blockquote><p>메서드 한 개짜리 인터페이스를 구현한 익명 클래스를 좀 더 간단히 표현하기 위해 만든 문법이다.</p></blockquote><blockquote><p>functional interface를 효과적으로 다루는 문법</p></blockquote><p>자바의 코딩 최소 단위는 <strong>클래스</strong>이다. 메서드를 만들 때도 클래스를 만들고 그 안에 만들어야 한다. 메서드만 따로 만들지는 못한다. C언어나 자바스크립트의 경우 클래스가 없이 함수를 바로 작성할 수 있다. 자바에서 클래스가 도입된 이유는 코드가 더 커지면서 다수의 함수를 적절한 역할과 기능에 따라 그룹으로 묶기 위해서이다. 즉 <strong>클래스 문법은 대량의 코드(메서드)를 쉽게 관리하기 위해서 등장</strong>하였다.</p><p>그러나 때로는 코딩을 할 때 간단한 함수를 다루고 싶을 때가 있다. 자바와 같이 클래스에 묶어주는 객체지향언어가 발전하다가 독립적인 함수로 간단하게 프로그래밍을 하고 싶다는 수요가 늘어났다. 요즘 functional 프로그래밍이 트렌드인 이유이다.</p><p>반면 자바는 C언어와 자바스크립트와 다르게 함수 하나를 만들더라도 클래스에 무조건 묶어야 하니 여간 귀찮은 것이 아니다. 그래서 함수형 프로그래밍을 흉내내는 문법이 생겼다. 이것이 바로 람다(Lambda) 문법이다.</p><p>람다는 <strong>메서드 한 개짜리 인터페이스를 구현한 익명 클래스를 좀 더 간단히 표현</strong>한다. 이때 추상 메서드가 한 개만 있는 인터페이스를 <strong>functional 인터페이스</strong>라고 부른다. 이 인터페이스를 구현하는 경우에만 람다 문법을 사용할 수 있다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Exam0110</span> <span class="o">{</span>

  <span class="c1">// 인터페이스는 static을 붙이지 않아도 static 멤버가 사용할 수 있다.</span>
  <span class="kd">interface</span> <span class="nc">Player</span> <span class="o">{</span>
    <span class="kt">void</span> <span class="nf">play</span><span class="o">();</span>
  <span class="o">}</span>
  
  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="c1">// 로컬 클래스로 인터페이스 구현하기</span>
    <span class="kd">class</span> <span class="nc">MyPlayter</span> <span class="kd">implements</span> <span class="nc">Player</span> <span class="o">{</span>
      <span class="nd">@Override</span>
      <span class="kd">public</span> <span class="kt">void</span> <span class="nf">play</span><span class="o">()</span> <span class="o">{</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"로컬 클래스"</span><span class="o">);</span>
      <span class="o">}</span>
    <span class="o">}</span>
    <span class="nc">MyPlayer</span> <span class="n">p1</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">MyPlayer</span><span class="o">();</span>
    <span class="n">p1</span><span class="o">.</span><span class="na">play</span><span class="o">();</span>
    
    <span class="c1">// 익명 클래스로 인터페이스 구현하기 </span>
    <span class="nc">Player</span> <span class="n">p2</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Player</span><span class="o">()</span> <span class="o">{</span>
      <span class="nd">@Override</span>
      <span class="kd">public</span> <span class="kt">void</span> <span class="nf">play</span><span class="o">()</span> <span class="o">{</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"익명 클래스"</span><span class="o">);</span>
      <span class="o">}</span>
    <span class="o">};</span>
    <span class="n">p2</span><span class="o">.</span><span class="na">play</span><span class="o">();</span>
    
    <span class="c1">// 람다 문법으로 인터페이스 구현하기</span>
    <span class="nc">Player</span> <span class="n">람다1</span> <span class="o">=</span> <span class="o">()</span> <span class="o">-&gt;</span> <span class="o">{</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"람다1"</span><span class="o">);</span>
    <span class="o">}</span>
    <span class="n">람다1</span><span class="o">.</span><span class="na">play</span><span class="o">();</span>
    
    <span class="c1">// 람다: 코드 정리</span>
    <span class="nc">Player</span> <span class="n">람다2</span> <span class="o">=</span> <span class="o">()</span> <span class="o">-&gt;</span> <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"람다2"</span><span class="o">);</span>
    <span class="n">람다2</span><span class="o">.</span><span class="na">play</span><span class="o">();</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><p>메서드 한 개짜리 인터페이스를 구현한 익명 클래스를 <strong>좀 더 간단히</strong> 만드는 문법이다. 처음에 람다가 별도 클래스로 정의가 되었다. 그러나 이제 바깥 클래스에서 내부적으로 처리한다. 별도 클래스가 생기지 않는다.</p><blockquote><p>functional Interface?</p></blockquote><h2 id="class-파일">.class 파일</h2><h3 id="익명-클래스와-class-파일">익명 클래스와 .class 파일</h3><ul><li>자바의 nested class는 모두 별도의 .class 파일을 갖는다.<li>위의 main() 메서드에 정의된 로컬 익명 클래스는 다음과 같은 이름의 .class 파일로 컴파일된다. <code class="language-plaintext highlighter-rouge">Exam0110$1.class</code></ul><h3 id="람다와-class-파일">람다와 .class 파일</h3><blockquote><p>람다를 호출하는 코드는 자동 생성된 메서드를 호출하는 코드로 변환된다.</p></blockquote><p><strong>람다는 해당 클래스 멤버 메서드로 정의된다.</strong> 즉 <strong>별도의 .class 파일을 생성하지 않는다.</strong> 람다 문법이 초기에 등장했을 때는 익명 클래스로 변환되었다. 그러나 최근에는 그냥 멤버 메서드로 변환된다.</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre>private static synthetic void lambda$0(); =&gt; 프라이빗 스태틱 메서드!
0  getstatic java.lang.System.out : java.io.PrintStream [33]
3  ldc &lt;String "람다"&gt; [39]
5  invokevirtual java.io.PrintStream.println(java.lang.String) : void [41]
8  return
  Line numbers:
    [pc: 0, line: 27]
    [pc: 8, line: 28]
</pre></table></code></div></div><h2 id="lambda-body">Lambda body</h2><h3 id="람다-body">람다 body</h3><ul><li>한 문장일 때는 중괄호를 생략할 수 있다.<li>파라미터가 없다고 괄호를 생략할 수는 없다.</ul><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Exam0120</span> <span class="o">{</span>
  <span class="kd">interface</span> <span class="nc">Player</span> <span class="o">{</span>
    <span class="kt">void</span> <span class="nf">play</span><span class="o">();</span>
  <span class="o">}</span>
  
  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">Player</span> <span class="n">p1</span> <span class="o">=</span> <span class="o">()</span> <span class="o">-&gt;</span> <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"테스트1"</span><span class="o">);</span>
    <span class="nc">Player</span> <span class="n">p2</span> <span class="o">=</span> <span class="o">()</span> <span class="o">-&gt;</span> <span class="o">{</span> <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"테스트2"</span><span class="o">);</span> <span class="o">}</span>
    <span class="c1">//Player p3 = -&gt; System.out.println("테스트3"); ==&gt; 컴파일 오류!</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><h3 id="람다-파라미터">람다 파라미터</h3><ul><li>파라미터는 괄호() 안에 선언한다.<li>파라미터 타입을 생략할 수 있다.<li>파라미터가 한 개일때는 괄호도 생략할 수 있다.<li>파라미터가 여러 개일때는 괄호를 생략할 수 없다.</ul><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Exam0120</span> <span class="o">{</span>
  <span class="kd">interface</span> <span class="nc">Player</span> <span class="o">{</span>
    <span class="kt">void</span> <span class="nf">play</span><span class="o">(</span><span class="nc">String</span> <span class="n">name</span><span class="o">);</span>
  <span class="o">}</span>
  
  <span class="kd">interface</span> <span class="nc">Runner</span> <span class="o">{</span>
    <span class="kt">void</span> <span class="nf">run</span><span class="o">(</span><span class="nc">String</span> <span class="n">name</span><span class="o">,</span> <span class="kt">int</span> <span class="n">age</span><span class="o">);</span>
  <span class="o">}</span>
  
  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="c1">// 파라미터 1개</span>
    <span class="nc">Player</span> <span class="n">p1</span> <span class="o">=</span> <span class="o">(</span><span class="nc">String</span> <span class="n">name</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">name</span> <span class="o">+</span> <span class="s">"님 환영합니다."</span><span class="o">);</span>
    <span class="n">p1</span><span class="o">.</span><span class="na">play</span><span class="o">();</span>
    <span class="nc">Player</span> <span class="n">p2</span> <span class="o">=</span> <span class="o">(</span><span class="n">name</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">name</span> <span class="o">+</span> <span class="s">"님 환영합니다."</span><span class="o">);</span>
    <span class="n">p2</span><span class="o">.</span><span class="na">play</span><span class="o">();</span>
    <span class="nc">Player</span> <span class="n">p3</span> <span class="o">=</span> <span class="n">name</span> <span class="o">-&gt;</span> <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">name</span> <span class="o">+</span> <span class="s">"님 환영합니다."</span><span class="o">);</span>
    <span class="n">p3</span><span class="o">.</span><span class="na">play</span><span class="o">();</span>
    
    <span class="c1">// 파라미터 여러개</span>
    <span class="nc">Runner</span> <span class="n">r1</span> <span class="o">=</span> <span class="o">(</span><span class="nc">String</span> <span class="n">name</span><span class="o">,</span> <span class="kt">int</span> <span class="n">age</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">printf</span><span class="o">(</span><span class="s">"%s(%d)님이 달립니다."</span><span class="o">,</span> <span class="n">name</span><span class="o">,</span> <span class="n">age</span><span class="o">);</span>
    <span class="n">r1</span><span class="o">.</span><span class="na">run</span><span class="o">();</span>
    <span class="nc">Runner</span> <span class="n">r2</span> <span class="o">=</span> <span class="o">(</span><span class="n">name</span><span class="o">,</span> <span class="n">age</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">printf</span><span class="o">(</span><span class="s">"%s(%d)님이 달립니다!"</span><span class="o">,</span> <span class="n">name</span><span class="o">,</span> <span class="n">age</span><span class="o">);</span>
    <span class="n">r2</span><span class="o">.</span><span class="na">run</span><span class="o">();</span>
    <span class="c1">//Runner r3 = name, age -&gt; System.out.printf("%s(%d)님이 달립니다!", name, age); ==&gt; 컴파일 에러! </span>
  <span class="o">}</span> 
<span class="o">}</span>
</pre></table></code></div></div><h2 id="람다-리턴">람다 리턴</h2><ul><li>리턴 값은 return 명령을 사용하여 처리한다.<li><strong>한 문장으로 된 표현식(=값을 리턴하는 한 문장의 코드)인 경우 괄호를 생략할 수 있다</strong>. 단 <code class="language-plaintext highlighter-rouge">return</code> 키워드도 함께 생략해야 한다. 있으면 컴파일 오류!</ul><blockquote><p>표현식(expression)? 문장은 문장인데, 값을 리턴하는 문장.</p></blockquote><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Exam0150</span> <span class="o">{</span>
  <span class="kd">interface</span> <span class="nc">Calculater</span> <span class="o">{</span>
    <span class="kt">int</span> <span class="nf">compute</span><span class="o">(</span><span class="kt">int</span> <span class="n">a</span><span class="o">,</span> <span class="kt">int</span> <span class="n">b</span><span class="o">);</span>
  <span class="o">}</span>
  
  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">Calculator</span> <span class="n">c1</span> <span class="o">=</span> <span class="o">(</span><span class="n">a</span><span class="o">,</span> <span class="n">b</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="o">{</span>
      <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="o">;</span>
    <span class="o">};</span>
    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">c1</span><span class="o">.</span><span class="na">compute</span><span class="o">(</span><span class="mi">10</span><span class="o">,</span> <span class="mi">20</span><span class="o">));</span>
    
    <span class="nc">Calculator</span> <span class="n">c2</span> <span class="o">=</span> <span class="o">(</span><span class="n">a</span><span class="o">,</span> <span class="n">b</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="n">a</span> <span class="o">-</span> <span class="n">b</span><span class="o">;</span>
    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">c2</span><span class="o">.</span><span class="na">compute</span><span class="o">(</span><span class="mi">10</span><span class="o">,</span> <span class="mi">20</span><span class="o">));</span>
    
    <span class="c1">// Max.max()는 int 값을 리턴한다. 그래서 이 메서드를 호출하는 문장은 표현식이다.</span>
    <span class="nc">Calculator</span> <span class="n">c3</span> <span class="o">=</span> <span class="o">(</span><span class="n">a</span><span class="o">,</span> <span class="n">b</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="nc">Math</span><span class="o">.</span><span class="na">max</span><span class="o">(</span><span class="n">a</span><span class="o">,</span> <span class="n">b</span><span class="o">);</span>
    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">c3</span><span class="o">.</span><span class="na">compute</span><span class="o">(</span><span class="mi">10</span><span class="o">,</span> <span class="mi">20</span><span class="o">));</span>
    
    <span class="c1">// 값을 리턴해야 하는데 람다 문장에서 값을 리턴하지 않으면 컴파일 오류!</span>
    <span class="c1">//Calculator c4 = (a, b) -&gt; System.out.println(a + ", " + b);</span>
    <span class="c1">//System.out.println(c4.compute(10, 20));</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><h2 id="람다-사용-가능-위치">람다 사용 가능 위치</h2><p><strong>익명 클래스를 사용할 수 있는 곳</strong>에서는 모두 람다를 사용할 수 있다. 즉 스태틱 필드, 인스턴스 필드, 로컬 변수, 파라미터 자리에 올 수 있다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Exam0160</span> <span class="o">{</span>
  <span class="kd">interface</span> <span class="nc">A</span> <span class="o">{</span> <span class="kt">void</span> <span class="nf">print</span><span class="o">();</span> <span class="o">}</span>
  
  <span class="kd">static</span> <span class="no">A</span> <span class="n">obj1</span> <span class="o">=</span> <span class="o">()</span> <span class="o">-&gt;</span> <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"스태틱 필드"</span><span class="o">);</span>
  <span class="no">A</span> <span class="n">obj2</span> <span class="o">=</span> <span class="o">()</span> <span class="o">-&gt;</span> <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"인스턴스 필드"</span><span class="o">);</span>
  
  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="kd">final</span> <span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="no">A</span> <span class="n">obj3</span> <span class="o">=</span> <span class="o">()</span> <span class="o">-&gt;</span> <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"로컬 변수"</span><span class="o">);</span>
    <span class="n">m1</span><span class="o">(()</span> <span class="o">-&gt;</span> <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"파라미터"</span><span class="o">));</span>
  <span class="o">}</span>
  
  <span class="kd">static</span> <span class="kt">void</span> <span class="nf">m1</span><span class="o">(</span><span class="kd">final</span> <span class="no">A</span> <span class="n">obj</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">obj</span><span class="o">.</span><span class="na">print</span><span class="o">();</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><h2 id="functional-interface의-자격">functional interface의 자격</h2><blockquote><p><strong>추상 메서드를 한 개만 갖고 있는 인터페이스</strong>에 대해 람다 문법으로 익명 클래스를 만들어줄 수 있다.</p></blockquote><p>추상 메서드를 한 개만 갖고 있는 인터페이스에 대해 람다 문법으로 익명 클래스를 만들 수 있다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Exam0210</span> <span class="o">{</span>
  <span class="kd">interface</span> <span class="nc">Player</span> <span class="o">{</span> <span class="kt">void</span> <span class="nf">play</span><span class="o">();</span> <span class="o">}</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">Player</span> <span class="n">p</span> <span class="o">=</span> <span class="o">()</span> <span class="o">-&gt;</span> <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"player..."</span><span class="o">);</span>
    <span class="n">p</span><span class="o">.</span><span class="na">play</span><span class="o">();</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><p>추상 메서드가 두 개 이상이면 람다 문법으로 구현할 수 없다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="kd">interface</span> <span class="nc">Player</span> <span class="o">{</span>
    <span class="kt">void</span> <span class="nf">play</span><span class="o">();</span>
    <span class="kt">void</span> <span class="nf">stop</span><span class="o">();</span>
<span class="o">}</span>
</pre></table></code></div></div><p>여러 개의 메서드가 있다 하더라도 추상 메서드가 한 개이면 된다<strong>. static 메서드나 default 메서드가 몇 개이든 그 개수는 중요하지 않다.</strong></p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Exam0230</span> <span class="o">{</span>
  <span class="kd">interface</span> <span class="nc">Player</span> <span class="o">{</span>
    <span class="kd">static</span> <span class="nc">String</span> <span class="nf">info</span><span class="o">()</span> <span class="o">{</span> <span class="k">return</span> <span class="s">"Player입니다."</span> <span class="o">}</span>
    <span class="k">default</span> <span class="kt">void</span> <span class="nf">stop</span><span class="o">();</span>
    <span class="kt">void</span> <span class="nf">play</span><span class="o">();</span>
  <span class="o">}</span>
  
  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">Player</span> <span class="n">p</span> <span class="o">=</span> <span class="o">()</span> <span class="o">-&gt;</span> <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Player..."</span><span class="o">);</span>
    <span class="n">p</span><span class="o">.</span><span class="na">play</span><span class="o">();</span>
    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="nc">Player</span><span class="o">.</span><span class="na">info</span><span class="o">());</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><p>인터페이스가 아닌 <strong>추상 클래스는 람다 구현의 대상이 아니다.</strong></p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="kd">static</span> <span class="kd">abstract</span> <span class="kd">class</span> <span class="nc">Player</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="kd">abstract</span> <span class="kt">void</span> <span class="nf">play</span><span class="o">();</span>
<span class="o">}</span>
</pre></table></code></div></div><h2 id="아규먼트에-람다-활용">아규먼트에 람다 활용</h2><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
</pre><td class="rouge-code"><pre><span class="kd">interface</span> <span class="nc">Player</span> <span class="o">{</span>
  <span class="kt">void</span> <span class="nf">play</span><span class="o">();</span>
<span class="o">}</span>

<span class="kd">static</span> <span class="kt">void</span> <span class="nf">testPlayer</span><span class="o">(</span><span class="nc">Player</span> <span class="n">p</span><span class="o">)</span> <span class="o">{</span>
  <span class="n">p</span><span class="o">.</span><span class="na">play</span><span class="o">();</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
  
  <span class="c1">// 로컬 클래스</span>
  <span class="kd">class</span> <span class="nc">MyPlayer</span> <span class="kd">implements</span> <span class="nc">Player</span> <span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">play</span><span class="o">()</span> <span class="o">{</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"실행!"</span><span class="o">);</span>
    <span class="o">}</span>
  <span class="o">}</span>
  <span class="n">testPlayer</span><span class="o">(</span><span class="k">new</span> <span class="nc">MyPlyaer</span><span class="o">());</span>
  
  <span class="c1">// 익명클래스</span>
  <span class="n">testPlayer</span><span class="o">(</span><span class="k">new</span> <span class="nc">Player</span><span class="o">()</span> <span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">play</span><span class="o">()</span> <span class="o">{</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"실행~"</span><span class="o">);</span>
    <span class="o">}</span>
  <span class="o">});</span>
  
  <span class="c1">// 람다</span>
  <span class="n">testPlayer</span><span class="o">(</span> <span class="o">()</span> <span class="o">-&gt;</span> <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"실행~"</span><span class="o">)</span> <span class="o">);</span>
<span class="o">}</span>
</pre></table></code></div></div><p>파라미터와 리턴 값이 있는 람다는 다음과 같이 만들어준다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
</pre><td class="rouge-code"><pre><span class="kd">static</span> <span class="kd">interface</span> <span class="nc">Calculator</span> <span class="o">{</span>
  <span class="kt">int</span> <span class="nf">compute</span><span class="o">(</span><span class="kt">int</span> <span class="n">a</span><span class="o">,</span> <span class="kt">int</span> <span class="n">b</span><span class="o">);</span>
<span class="o">}</span>

<span class="kd">static</span> <span class="kt">void</span> <span class="nf">test</span><span class="o">(</span><span class="nc">Calculator</span> <span class="n">c</span><span class="o">)</span> <span class="o">{</span>
  <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">c</span><span class="o">.</span><span class="na">compute</span><span class="o">(</span><span class="mi">100</span><span class="o">,</span> <span class="mi">200</span><span class="o">));</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
  <span class="c1">// 익명클래스</span>
  <span class="n">test</span><span class="o">(</span><span class="k">new</span> <span class="nc">Calculator</span><span class="o">()</span> <span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">compute</span><span class="o">(</span><span class="kt">int</span> <span class="n">a</span><span class="o">,</span> <span class="kt">int</span> <span class="n">b</span><span class="o">)</span> <span class="o">{</span>
      <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="o">;</span>
    <span class="o">}</span>
  <span class="o">});</span>
  
  <span class="c1">// 람다</span>
  <span class="n">test</span><span class="o">((</span><span class="n">a</span><span class="o">,</span> <span class="n">b</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="o">);</span>
<span class="o">}</span>
</pre></table></code></div></div><p>여러 문장을 실행하는 경우 블록으로 감싼다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
</pre><td class="rouge-code"><pre><span class="kd">static</span> <span class="kd">interface</span> <span class="nc">Calculator</span> <span class="o">{</span>
  <span class="kt">int</span> <span class="nf">compute</span><span class="o">(</span><span class="kt">int</span> <span class="n">a</span><span class="o">,</span> <span class="kt">int</span> <span class="n">b</span><span class="o">);</span>
<span class="o">}</span>

<span class="kd">static</span> <span class="kt">void</span> <span class="nf">test</span><span class="o">(</span><span class="nc">Calculator</span> <span class="n">c</span><span class="o">)</span> <span class="o">{</span>
  <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">c</span><span class="o">.</span><span class="na">compute</span><span class="o">(</span><span class="mi">100</span><span class="o">,</span> <span class="mi">200</span><span class="o">));</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
  
  <span class="n">test</span><span class="o">((</span><span class="n">a</span><span class="o">,</span> <span class="n">b</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="o">{</span>
  	<span class="kt">int</span> <span class="n">sum</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
    <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">b</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
      <span class="n">sum</span> <span class="o">+=</span> <span class="n">i</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="k">return</span> <span class="n">sum</span><span class="o">;</span>
  <span class="o">});</span>
<span class="o">}</span>
</pre></table></code></div></div><h2 id="리턴-문장에-람다-활용">리턴 문장에 람다 활용</h2><p>다음과 같은 예제가 있다. <code class="language-plaintext highlighter-rouge">getInterest(double rate)</code> 메서드는 Interest 인터페이스의 구현체를 로컬 클래스로 갖고 있고, 해당 클래스의 인스턴스를 리턴한다. InterestImpl은 생성자의 파라미터로 <code class="language-plaintext highlighter-rouge">getInterest()</code>의 로컬 변수(파라미터)를 받고 그 값을 가지고 작업한다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Exam0410</span> <span class="o">{</span>
  <span class="kd">static</span> <span class="kd">interface</span> <span class="nc">Interest</span> <span class="o">{</span>
    <span class="kt">double</span> <span class="nf">compute</span><span class="o">(</span><span class="kt">int</span> <span class="n">money</span><span class="o">);</span>
  <span class="o">}</span>
  
  <span class="kd">static</span> <span class="nc">Interest</span> <span class="nf">getInterest</span><span class="o">(</span><span class="kd">final</span> <span class="kt">double</span> <span class="n">rate</span><span class="o">)</span> <span class="o">{</span>
    <span class="kd">class</span> <span class="nc">InterestImpl</span> <span class="kd">implements</span> <span class="nc">Interest</span> <span class="o">{</span>
      <span class="kt">double</span> <span class="n">rate</span><span class="o">;</span>
      
      <span class="kd">public</span> <span class="nf">InterestImpl</span><span class="o">(</span><span class="kt">double</span> <span class="n">rate</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">rate</span> <span class="o">=</span> <span class="n">rate</span><span class="o">;</span>
      <span class="o">}</span>
      
      <span class="nd">@Override</span>
      <span class="kd">public</span> <span class="kt">double</span> <span class="nf">compute</span><span class="o">(</span><span class="kt">int</span> <span class="n">money</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">money</span> <span class="o">+</span> <span class="o">(</span><span class="n">money</span> <span class="o">*</span> <span class="n">rate</span> <span class="o">/</span> <span class="mi">100</span><span class="o">);</span>
      <span class="o">}</span>
    <span class="o">}</span>
    <span class="k">return</span> <span class="k">new</span> <span class="nf">InterestImpl</span><span class="o">(</span><span class="n">rate</span><span class="o">);</span>
  <span class="o">}</span>
  
  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">Interest</span> <span class="n">i1</span> <span class="o">=</span> <span class="n">getInterest</span><span class="o">(</span><span class="mf">1.5</span><span class="o">);</span>
    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">printf</span><span class="o">(</span><span class="s">"금액: %.2f\n"</span><span class="o">,</span> <span class="n">i1</span><span class="o">.</span><span class="na">compute</span><span class="o">(</span><span class="mi">1_0000_0000</span><span class="o">));</span>
    <span class="nc">Interest</span> <span class="n">i2</span> <span class="o">=</span> <span class="n">getInterest</span><span class="o">(</span><span class="mf">2.5</span><span class="o">);</span>
    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"금액: %.2f\n"</span><span class="o">,</span> <span class="n">i2</span><span class="o">.</span><span class="na">compute</span><span class="o">(</span><span class="mi">1_0000_0000</span><span class="o">));</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><p>그러나 로컬(또는 익명 로컬) 클래스 안에서 바깥 메서드의 로컬 변수를 사용하면 컴파일러는 자동으로 그 값을 보관하기 위해 필드를 추가한다. 또한 컴파일러는 그 값을 받을 수 있도록 생성자를 변경한다. 따라서 개발자가 직접 필드나 생성자를 정의해줄 필요가 없다. 즉, 개발자는 로컬 변수의 값을 로컬 클래스의 생성자에 전달하기 위해 직접 작성할 필요가 없다. 컴파일러가 자동으로 추가한다. 따라서 다음과 같이 <code class="language-plaintext highlighter-rouge">getInterest()</code>를 수정하였다.</p><p>단, 이때 로컬 변수는 상수이거나 상수에 준해야 한다. final로 선언되지 않은 변수에 여러번 값이 할당되었다면 해당 로컬 변수는 로컬 클래스에서 접근할 수 없다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre>  <span class="kd">static</span> <span class="nc">Interest</span> <span class="nf">getInterest</span><span class="o">(</span><span class="kd">final</span> <span class="kt">double</span> <span class="n">rate</span><span class="o">)</span> <span class="o">{</span>
    <span class="kd">class</span> <span class="nc">InterestImpl</span> <span class="kd">implements</span> <span class="nc">Interest</span> <span class="o">{</span>
      <span class="nd">@Override</span>
      <span class="kd">public</span> <span class="kt">double</span> <span class="nf">compute</span><span class="o">(</span><span class="kt">int</span> <span class="n">money</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">money</span> <span class="o">+</span> <span class="o">(</span><span class="n">money</span> <span class="o">*</span> <span class="n">rate</span> <span class="o">/</span> <span class="mi">100</span><span class="o">);</span>
      <span class="o">}</span>
    <span class="o">}</span>
    <span class="k">return</span> <span class="k">new</span> <span class="nf">InterestImpl</span><span class="o">(</span><span class="n">rate</span><span class="o">);</span>
  <span class="o">}</span>
</pre></table></code></div></div><p>객체를 한 개만 생성할 것이기 때문에 익명 클래스로 정의한다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre><td class="rouge-code"><pre><span class="kd">static</span> <span class="nc">Interest</span> <span class="nf">getInterest</span><span class="o">(</span><span class="kd">final</span> <span class="kt">double</span> <span class="n">rate</span><span class="o">)</span> <span class="o">{</span>
  <span class="nc">Interest</span> <span class="n">i</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Interest</span><span class="o">()</span> <span class="o">{</span>
    <span class="cm">/*
    상수에 준하는 로컬 변수에 접근할 수 있기 때문에 이러지 않아도 된다!
    
    double rate;
    {
      this.rate = rate;
    }
    */</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">double</span> <span class="nf">compute</span><span class="o">(</span><span class="kt">int</span> <span class="n">money</span><span class="o">)</span> <span class="o">{</span>
      <span class="k">return</span> <span class="n">money</span> <span class="o">+</span> <span class="o">(</span><span class="n">money</span> <span class="o">*</span> <span class="n">rate</span> <span class="o">/</span> <span class="mi">100</span><span class="o">);</span>
    <span class="o">}</span>
  <span class="o">}</span>
  <span class="k">return</span> <span class="n">i</span><span class="o">;</span>
<span class="o">}</span>
</pre></table></code></div></div><p>레퍼런스 변수에 담을 필요 없이 바로 리턴할 수 있다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre><span class="kd">static</span> <span class="nc">Interest</span> <span class="nf">getInterest</span><span class="o">(</span><span class="kd">final</span> <span class="kt">double</span> <span class="n">rate</span><span class="o">)</span> <span class="o">{</span>
  <span class="k">return</span> <span class="k">new</span> <span class="nf">Interest</span><span class="o">()</span> <span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">double</span> <span class="nf">compute</span><span class="o">(</span><span class="kt">int</span> <span class="n">money</span><span class="o">)</span> <span class="o">{</span>
      <span class="k">return</span> <span class="n">money</span> <span class="o">+</span> <span class="o">(</span><span class="n">money</span> <span class="o">*</span> <span class="n">rate</span> <span class="o">/</span> <span class="mi">10</span><span class="o">);</span>
    <span class="o">};</span>
  <span class="o">};</span>
<span class="o">}</span>
</pre></table></code></div></div><p>익명 클래스를 람다로 바꾼다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="kd">static</span> <span class="nc">Interest</span> <span class="nf">getInterest</span><span class="o">(</span><span class="kd">final</span> <span class="kt">double</span> <span class="n">rate</span><span class="o">)</span> <span class="o">{</span>
  <span class="k">return</span> <span class="n">money</span> <span class="o">-&gt;</span> <span class="n">money</span> <span class="o">+</span> <span class="o">(</span><span class="n">money</span> <span class="o">*</span> <span class="n">rate</span> <span class="o">/</span> <span class="mi">10</span><span class="o">);</span>
<span class="o">}</span>
</pre></table></code></div></div><h2 id="메서드-레퍼런스참조">메서드 레퍼런스(참조)</h2><p>가능한 중복코드를 제거하고 기존 코드(메서드)를 재활용하기 위해 메서드 레퍼런스 문법을 사용한다. 메서드 한 개 짜리 인터페이스의 구현체를 만들 때 기존 메서드를 람다 구현체로 사용할 수 있다. 단 인터페이스에 선언된 메서드의 규격과 일치해야 한다.</p><ul><li>규격: 파라미터 타입 및 개수, 리턴 타입<li>문법: <code class="language-plaintext highlighter-rouge">클래스명::메서드명</code></ul><h3 id="스태틱-메서드-레퍼런스">스태틱 메서드 레퍼런스</h3><p>메서드 한 개짜리 인터페이스의 구현체를 만들 때 기존 스태틱 메서드를 람다 구현체로 사용할 수 있다. 단 인터페이스에 선언된 메서드의 규격과 일치해야 한다.</p><blockquote><p>직접 람다 문법을 만드는 대신 이미 똑같은 규칙을 갖고 있는 어떤 클래스에 스태틱으로 갖고 있다면, 메서드 이름 빼고 시그너처가 일치하는 기존에 작성된 스태틱 메서드가 있다면 이렇게 사용할 수 있다.</p></blockquote><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Exam0510</span> <span class="o">{</span>
  <span class="kd">static</span> <span class="kd">class</span> <span class="nc">MyCalculator</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">int</span> <span class="nf">plus</span><span class="o">(</span><span class="kt">int</span> <span class="n">a</span><span class="o">,</span> <span class="kt">int</span> <span class="n">b</span><span class="o">)</span> <span class="o">{</span><span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="o">;}</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">int</span> <span class="nf">minus</span><span class="o">(</span><span class="kt">int</span> <span class="n">a</span><span class="o">,</span> <span class="kt">int</span> <span class="n">b</span><span class="o">)</span> <span class="o">{</span><span class="k">return</span> <span class="n">a</span> <span class="o">-</span> <span class="n">b</span><span class="o">;}</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">int</span> <span class="nf">multiple</span><span class="o">(</span><span class="kt">int</span> <span class="n">a</span><span class="o">,</span> <span class="kt">int</span> <span class="n">b</span><span class="o">)</span> <span class="o">{</span><span class="k">return</span> <span class="n">a</span> <span class="o">*</span> <span class="n">b</span><span class="o">;}</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">int</span> <span class="nf">divide</span><span class="o">(</span><span class="kt">int</span> <span class="n">a</span><span class="o">,</span> <span class="kt">int</span> <span class="n">b</span><span class="o">)</span> <span class="o">{</span><span class="k">return</span> <span class="n">a</span> <span class="o">/</span> <span class="n">b</span><span class="o">;}</span>
  <span class="o">}</span>

  <span class="kd">static</span> <span class="kd">interface</span> <span class="nc">Calculator</span> <span class="o">{</span>
    <span class="kt">int</span> <span class="nf">compute</span><span class="o">(</span><span class="kt">int</span> <span class="n">x</span><span class="o">,</span> <span class="kt">int</span> <span class="n">y</span><span class="o">);</span>
  <span class="o">}</span>

  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">Calculator</span> <span class="n">c1</span> <span class="o">=</span> <span class="nl">MyCalculater:</span><span class="o">:</span><span class="n">plus</span><span class="o">;</span>
    <span class="nc">Calculator</span> <span class="n">c2</span> <span class="o">=</span> <span class="nl">MyCalculator:</span><span class="o">:</span><span class="n">minus</span><span class="o">;</span>
    <span class="nc">Calculator</span> <span class="n">c3</span> <span class="o">=</span> <span class="nl">MyCalculator:</span><span class="o">:</span><span class="n">multiple</span><span class="o">;</span>
    <span class="nc">Calculator</span> <span class="n">c4</span> <span class="o">=</span> <span class="nl">MyCalculator:</span><span class="o">:</span><span class="n">divide</span><span class="o">;</span>
    
    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">c1</span><span class="o">.</span><span class="na">compute</span><span class="o">(</span><span class="mi">200</span><span class="o">,</span> <span class="mi">17</span><span class="o">));</span> <span class="c1">// compute() ==&gt; plus()</span>
    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">c2</span><span class="o">.</span><span class="na">compute</span><span class="o">(</span><span class="mi">200</span><span class="o">,</span> <span class="mi">17</span><span class="o">));</span> <span class="c1">// compute() ==&gt; minus()</span>
    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">c3</span><span class="o">.</span><span class="na">compute</span><span class="o">(</span><span class="mi">200</span><span class="o">,</span> <span class="mi">17</span><span class="o">));</span> <span class="c1">// compute() ==&gt; multiple()</span>
    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">c4</span><span class="o">.</span><span class="na">compute</span><span class="o">(</span><span class="mi">200</span><span class="o">,</span> <span class="mi">17</span><span class="o">));</span> <span class="c1">// compute() ==&gt; divide()</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><p>위의 <code class="language-plaintext highlighter-rouge">Calculator c1 = MyCalulator::plus</code>는 내부적으로 다음 코드와 같다.</p><blockquote><p>단, 내부적으로 람다에 관련된 것은 static 메서드로 처리가 된다. .class 파일이 만들어지지 않는다.</p></blockquote><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre><span class="nc">Calculator</span> <span class="n">c1</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Calculator</span><span class="o">()</span> <span class="o">{</span>
  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="kt">int</span> <span class="nf">compute</span><span class="o">(</span><span class="kt">int</span> <span class="n">a</span><span class="o">,</span> <span class="kt">int</span> <span class="n">b</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">return</span> <span class="nc">MyCalculator</span><span class="o">.</span><span class="na">plus</span><span class="o">(</span><span class="n">a</span><span class="o">,</span> <span class="n">b</span><span class="o">);</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><p>왜 메서드 레퍼런스가 가리키는 실제 메서드는 인터페이스에 선언된 메서드의 규격과 일치해야 할까?</p><p>인터페이스에 정의된 메서드(<code class="language-plaintext highlighter-rouge">compute()</code>)가 호출되었을 때, 그 <strong>파라미터 값</strong>은 메서드 레퍼런스로 지정된 스태틱 메서드(<code class="language-plaintext highlighter-rouge">plus()</code>)에게 전달될 것이다. 그래서 스태틱 메서드의 파라미터는 항상 인터페이스 메서드에 정의된 파라미터 값을 받을 수 있어야 한다.</p><p>스태틱 메서드의 <strong>리턴 값</strong>은 인스턴스 메서드에 정의된 대로 리턴할 수 있어야 한다. 그래서 스태틱 메서드의 리턴 타입은 인터페이스 리턴 타입과 일치하거나 그 타입으로 바꿀 수 있어야 한다.</p><h3 id="메서드-레퍼런스를-지정할-때-리턴-타입의-규칙">메서드 레퍼런스를 지정할 때 <em>리턴 타입</em>의 규칙</h3><p>메서드 레퍼런스가 가리키는 실제 메서드를 호출한 후 그 메서드가 <strong>리턴한 값이 인터페이스에 정의된 메서드의 리턴 값으로 사용할 수 있다면 문제가 없다.</strong></p><ul><li>같은 리턴 타입<li>암시적 형변환 가능한 타입<li>auto-boxing 가능한 타입<li>void</ul><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Exam0530</span> <span class="o">{</span>

  <span class="kd">static</span> <span class="kd">class</span> <span class="nc">MyCalculator</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">int</span> <span class="nf">plus</span><span class="o">(</span><span class="kt">int</span> <span class="n">a</span><span class="o">,</span> <span class="kt">int</span> <span class="n">b</span><span class="o">)</span> <span class="o">{</span>
      <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="o">;</span>
    <span class="o">}</span>

  <span class="kd">static</span> <span class="kd">interface</span> <span class="nc">Calculator1</span> <span class="o">{</span> <span class="kt">double</span> <span class="nf">compute</span><span class="o">(</span><span class="kt">int</span> <span class="n">a</span><span class="o">,</span> <span class="kt">int</span> <span class="n">b</span><span class="o">);</span> <span class="o">}</span>
  <span class="kd">static</span> <span class="kd">interface</span> <span class="nc">Calculator2</span> <span class="o">{</span> <span class="kt">float</span> <span class="nf">compute</span><span class="o">(</span><span class="kt">int</span> <span class="n">a</span><span class="o">,</span> <span class="kt">int</span> <span class="n">b</span><span class="o">);</span> <span class="o">}</span>
  <span class="kd">static</span> <span class="kd">interface</span> <span class="nc">Calculator3</span> <span class="o">{</span> <span class="kt">short</span> <span class="nf">compute</span><span class="o">(</span><span class="kt">int</span> <span class="n">a</span><span class="o">,</span> <span class="kt">int</span> <span class="n">b</span><span class="o">);</span> <span class="o">}</span>
  <span class="kd">static</span> <span class="kd">interface</span> <span class="nc">Calculator4</span> <span class="o">{</span> <span class="kt">void</span> <span class="nf">compute</span><span class="o">(</span><span class="kt">int</span> <span class="n">a</span><span class="o">,</span> <span class="kt">int</span> <span class="n">b</span><span class="o">);</span> <span class="o">}</span>
  <span class="kd">static</span> <span class="kd">interface</span> <span class="nc">Calculator5</span> <span class="o">{</span> <span class="nc">Object</span> <span class="nf">compute</span><span class="o">(</span><span class="kt">int</span> <span class="n">a</span><span class="o">,</span> <span class="kt">int</span> <span class="n">b</span><span class="o">);</span> <span class="o">}</span>
  <span class="kd">static</span> <span class="kd">interface</span> <span class="nc">Calculator6</span> <span class="o">{</span> <span class="nc">String</span> <span class="nf">compute</span><span class="o">(</span><span class="kt">int</span> <span class="n">a</span><span class="o">,</span> <span class="kt">int</span> <span class="n">b</span><span class="o">);</span> <span class="o">}</span>

  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>

    <span class="c1">// 리턴 타입 int ===&gt; double</span>
    <span class="nc">Calculator1</span> <span class="n">c1</span> <span class="o">=</span> <span class="nl">MyCalculator:</span><span class="o">:</span><span class="n">plus</span><span class="o">;</span> <span class="c1">// OK!</span>
    <span class="cm">/*
    위 문장은 다음 문장과 같다.
    Calculator1 c1 = new Calculator1() {
      @Override
      public double compute(int a, int b) {
        return MyCalculator.plus(a, b);//int
      }
    };
    */</span>
    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">c1</span><span class="o">.</span><span class="na">compute</span><span class="o">(</span><span class="mi">100</span><span class="o">,</span> <span class="mi">200</span><span class="o">));</span>

    <span class="c1">// 리턴 타입 int ===&gt; float</span>
    <span class="nc">Calculator2</span> <span class="n">c2</span> <span class="o">=</span> <span class="nl">MyCalculator:</span><span class="o">:</span><span class="n">plus</span><span class="o">;</span> <span class="c1">// OK!</span>
    <span class="cm">/*
    위 문장은 다음 문장과 같다.
    Calculator2 c2 = new Calculator2() {
    	@Override
    	public float compute(int a, int b) {
    		return MyCalculator(a, b);//int
    	}
    };
    */</span>
    
    <span class="c1">// 리턴 타입 int ===&gt; short</span>
    <span class="c1">// Calculator3 c3 = MyCalculator::plus; // 컴파일 오류!</span>
    <span class="cm">/*
    위 문장은 다음 문장과 같다.
    Calculator3 c3 = new Calculator3() {
      @Override
      public short compute(int a, int b) {
        return MyCalculator.plus(a, b);//int
      }
    };
    */</span>

    <span class="c1">// 리턴 타입 int ===&gt; void</span>
    <span class="nc">Calculator4</span> <span class="n">c4</span> <span class="o">=</span> <span class="nl">MyCalculator:</span><span class="o">:</span><span class="n">plus</span><span class="o">;</span> <span class="c1">// OK!</span>
    <span class="n">c4</span><span class="o">.</span><span class="na">compute</span><span class="o">(</span><span class="mi">100</span><span class="o">,</span> <span class="mi">200</span><span class="o">);</span> <span class="c1">// "plus() 메서드의 리턴 값은 무시한다!"</span>
    <span class="c1">//  위 문장은 다음과 같다.</span>
    <span class="cm">/*
    Calculator4 c4 = new Calculator(int a, int b) {
      @Override
      public void compute(int a, int b) {
        MyCalculator.plus(a, b);//int
      }
    };
    */</span>

    <span class="c1">// 리턴 타입 int ===&gt; Object</span>
    <span class="nc">Calculator5</span> <span class="n">c5</span> <span class="o">=</span> <span class="nl">MyCalculator:</span><span class="o">:</span><span class="n">plus</span><span class="o">;</span> <span class="c1">// OK!</span>
    <span class="c1">// 위 문장은 다음과 같다.</span>
    <span class="cm">/*
    Calculator5 xx = new Calculator(int a, int b) {
      @Override
      public void compute(int a, int b) {
        //오토박싱
        return Integer.valueOf(MyCalculator.plus(a, b));
      }
    };
    */</span>
    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">c5</span><span class="o">.</span><span class="na">compute</span><span class="o">(</span><span class="mi">100</span><span class="o">,</span> <span class="mi">200</span><span class="o">));</span>

    <span class="c1">// 리턴 타입 int ===&gt; String</span>
    <span class="c1">// Calculator6 c6 = MyCalculator::plus; // 컴파일 오류!</span>
    <span class="c1">// 위 문장은 다음과 같다.</span>
    <span class="cm">/*
    Calculator c6 = new Calculator(int a, int b) {
      @Override
      public String compute(int a, int b) {
        return MyCalculator.plus(a, b);
      }
    }
    */</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><h3 id="메서드-레퍼런스를-지정할-때-파라미터-타입의-규칙">메서드 레퍼런스를 지정할 때 파라미터 타입의 규칙</h3><p>인터페이스 규칙에 따라 받은 값을 실제 메서드에 <strong>그대로 전달</strong>할 수 있다면 가능하다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
</pre><td class="rouge-code"><pre><span class="c1">// 메서드 레퍼런스 - 스태틱 메서드 레퍼런스</span>
<span class="kn">package</span> <span class="nn">com.eomcs.oop.ex12</span><span class="o">;</span>


<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Exam0540</span> <span class="o">{</span>

  <span class="kd">static</span> <span class="kd">class</span> <span class="nc">MyCalculator</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">int</span> <span class="nf">plus</span><span class="o">(</span><span class="kt">int</span> <span class="n">a</span><span class="o">,</span> <span class="kt">int</span> <span class="n">b</span><span class="o">)</span> <span class="o">{</span> <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="o">;</span> <span class="o">}</span>
  <span class="o">}</span>

  <span class="kd">static</span> <span class="kd">interface</span> <span class="nc">Calculator1</span> <span class="o">{</span> <span class="kt">int</span> <span class="nf">compute</span><span class="o">(</span><span class="kt">byte</span> <span class="n">a</span><span class="o">,</span> <span class="kt">byte</span> <span class="n">b</span><span class="o">);</span> <span class="o">}</span>
  <span class="kd">static</span> <span class="kd">interface</span> <span class="nc">Calculator2</span> <span class="o">{</span> <span class="kt">int</span> <span class="nf">compute</span><span class="o">(</span><span class="kt">short</span> <span class="n">a</span><span class="o">,</span> <span class="kt">short</span> <span class="n">b</span><span class="o">);</span> <span class="o">}</span>
  <span class="kd">static</span> <span class="kd">interface</span> <span class="nc">Calculator3</span> <span class="o">{</span> <span class="kt">int</span> <span class="nf">compute</span><span class="o">(</span><span class="kt">long</span> <span class="n">a</span><span class="o">,</span> <span class="kt">long</span> <span class="n">b</span><span class="o">);</span> <span class="o">}</span>
  <span class="kd">static</span> <span class="kd">interface</span> <span class="nc">Calculator4</span> <span class="o">{</span> <span class="kt">int</span> <span class="nf">compute</span><span class="o">(</span><span class="kt">float</span> <span class="n">a</span><span class="o">,</span> <span class="kt">float</span> <span class="n">b</span><span class="o">);</span> <span class="o">}</span>
  <span class="kd">static</span> <span class="kd">interface</span> <span class="nc">Calculator5</span> <span class="o">{</span> <span class="kt">int</span> <span class="nf">compute</span><span class="o">(</span><span class="nc">Object</span> <span class="n">a</span><span class="o">,</span> <span class="nc">Object</span> <span class="n">b</span><span class="o">);</span> <span class="o">}</span>
  <span class="kd">static</span> <span class="kd">interface</span> <span class="nc">Calculator6</span> <span class="o">{</span> <span class="kt">int</span> <span class="nf">compute</span><span class="o">(</span><span class="nc">String</span> <span class="n">a</span><span class="o">,</span> <span class="nc">String</span> <span class="n">b</span><span class="o">);</span> <span class="o">}</span>
  <span class="kd">static</span> <span class="kd">interface</span> <span class="nc">Calculator7</span> <span class="o">{</span> <span class="kt">int</span> <span class="nf">compute</span><span class="o">(</span><span class="nc">Integer</span> <span class="n">a</span><span class="o">,</span> <span class="nc">Integer</span> <span class="n">b</span><span class="o">);</span> <span class="o">}</span>
  <span class="kd">static</span> <span class="kd">interface</span> <span class="nc">Calculator8</span> <span class="o">{</span> <span class="kt">int</span> <span class="nf">compute</span><span class="o">(</span><span class="kt">int</span> <span class="n">a</span><span class="o">);</span> <span class="o">}</span>
  <span class="kd">static</span> <span class="kd">interface</span> <span class="nc">Calculator9</span> <span class="o">{</span> <span class="kt">int</span> <span class="nf">compute</span><span class="o">(</span><span class="kt">int</span> <span class="n">a</span><span class="o">,</span> <span class="kt">int</span> <span class="n">b</span><span class="o">,</span> <span class="kt">int</span> <span class="n">c</span><span class="o">);</span> <span class="o">}</span>

  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>

    <span class="c1">// 파라미터 타입: byte ===&gt; int</span>
    <span class="nc">Calculator1</span> <span class="n">c1</span> <span class="o">=</span> <span class="nl">MyCalculator:</span><span class="o">:</span><span class="n">plus</span><span class="o">;</span> <span class="c1">// OK!</span>

    <span class="c1">// 파라미터 타입: short ===&gt; int</span>
    <span class="nc">Calculator2</span> <span class="n">c2</span> <span class="o">=</span> <span class="nl">MyCalculator:</span><span class="o">:</span><span class="n">plus</span><span class="o">;</span> <span class="c1">// OK!</span>

    <span class="c1">// 파라미터 타입: long ===&gt; int</span>
    <span class="c1">// Calculator3 c3 = MyCalculator::plus; // 컴파일 오류!</span>

    <span class="c1">// 파라미터 타입: float ===&gt; int</span>
    <span class="c1">// Calculator4 c4 = MyCalculator::plus; // 컴파일 오류!</span>

    <span class="c1">// 파라미터 타입: Object ===&gt; int</span>
    <span class="c1">// Calculator5 c5 = MyCalculator::plus; // 컴파일 오류!</span>

    <span class="c1">// 파라미터 타입: String ===&gt; int</span>
    <span class="c1">// Calculator6 c6 = MyCalculator::plus; // 컴파일 오류!</span>

    <span class="c1">// 파라미터 타입: Integer ===&gt; int</span>
    <span class="nc">Calculator7</span> <span class="n">c7</span> <span class="o">=</span> <span class="nl">MyCalculator:</span><span class="o">:</span><span class="n">plus</span><span class="o">;</span> <span class="c1">// OK</span>
    <span class="cm">/*
    오토 언박싱
    Calculaotor7 c7 = new Calculcator() {
      @Override
      public int compute(Integer a, Integer b) {
        return MyCalculator(a.intValue(), b.intValue());
      }
    };
    */</span>

    <span class="c1">// 파라미터 타입: int ===&gt; int, int</span>
    <span class="c1">// Calculator8 c8 = MyCalculator::plus; // 컴파일 오류!</span>
    <span class="cm">/*
    Calculator c8 = new Calculator8() {
      @Override
      public int compute(int a) {
        return MyCalculator.plus(a, ?); 
        // compute()는 int 값 한 개만 받는데, plus()는 int 값 두개를 요구한다.
      }
    };
    */</span>

    <span class="c1">// 파라미터 타입: int, int, int ===&gt; int, int</span>
    <span class="c1">// Calculator9 c9 = MyCalculator::plus; // 컴파일 오류!</span>
    <span class="cm">/*
    Calculator9 c9 = new Calculator9() {
      @Override
      public int compute(int a, int b, int c) {
        return MyCalculator.plus(a, b, c); // 컴파일 오류!
        // compute()는 int 값 세 개를 받아서 plus()에 세 개 모두 전달한다.
        // 그러나 plus()는 int 파라미터가 두 개만 있다.
      }
    };
    */</span>
  <span class="o">}</span>
<span class="o">}</span>



</pre></table></code></div></div><h2 id="메서드-레퍼런스---인스턴스-메서드-레퍼런스">메서드 레퍼런스 - 인스턴스 메서드 레퍼런스</h2><p>메서드 한 개짜리 인터페이스의 구현체를 만들 때 기존 인스턴스 메서드를 람다 구현체로 사용할 수 있다. 단 인터페이스에 선언된 메서드의 규격과 일치해야 한다. 보통 <strong>특정 인스턴스 값을 가지고 작업해야 할 경우</strong>에 이 방식을 사용한다. 위의 스태틱 메서드 레퍼런스 예제에서는 메서드를 값 없이 지정했기 때문에 메서드가 사용해야 하는 외부 값을 파라미터로 넘겨줘야 했다. 그러나 인스턴스 메서드를 지정하면 값과 함께 메서드를 지정하는 것이다. 다음 코드에서 보통예금 인스턴스의 메서드를 메서드 레퍼런스로 가리키면 인스턴스 필드의 값을 메서드에서 마음대로 다룰 수 있다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Exam0610</span> <span class="o">{</span>
  <span class="kd">static</span> <span class="kd">class</span> <span class="nc">Calculator</span> <span class="o">{</span>
    <span class="kt">double</span> <span class="n">rate</span><span class="o">;</span>
    <span class="kd">public</span> <span class="nf">Calculator</span><span class="o">(</span><span class="kt">double</span> <span class="n">rate</span><span class="o">)</span> <span class="o">{</span> <span class="k">this</span><span class="o">.</span><span class="na">rate</span> <span class="o">=</span> <span class="n">rate</span><span class="o">;</span> <span class="o">}</span>
    <span class="kd">public</span> <span class="kt">double</span> <span class="nf">year</span><span class="o">(</span><span class="kt">int</span> <span class="n">money</span><span class="o">)</span> <span class="o">{</span> <span class="k">return</span> <span class="n">money</span> <span class="o">*</span> <span class="n">rate</span> <span class="o">/</span> <span class="mi">100</span><span class="o">;</span> <span class="o">}</span>
    <span class="kd">public</span> <span class="kt">double</span> <span class="nf">month</span><span class="o">(</span><span class="kt">int</span> <span class="n">money</span><span class="o">)</span> <span class="o">{</span> <span class="k">return</span> <span class="n">money</span> <span class="o">*</span> <span class="n">rate</span> <span class="o">/</span> <span class="mi">100</span> <span class="o">/</span> <span class="mi">12</span><span class="o">;</span> <span class="o">}</span>
    <span class="kd">public</span> <span class="kt">double</span> <span class="nf">day</span><span class="o">(</span><span class="kt">int</span> <span class="n">money</span><span class="o">)</span> <span class="o">{</span> <span class="k">return</span> <span class="n">money</span> <span class="o">*</span> <span class="n">rate</span> <span class="o">/</span> <span class="mi">100</span> <span class="o">/</span> <span class="mi">365</span><span class="o">;</span> <span class="o">}</span>
  <span class="o">}</span>
  
  <span class="kd">static</span> <span class="kd">interface</span> <span class="nc">Interest</span> <span class="o">{</span> <span class="kt">double</span> <span class="nf">compute</span><span class="o">(</span><span class="kt">int</span> <span class="n">money</span><span class="o">);</span> <span class="o">}</span>
  
  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">Calculator</span> <span class="n">보통예금</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Calculator</span><span class="o">(</span><span class="mf">0.5</span><span class="o">);</span>
    <span class="nc">Calculator</span> <span class="n">정기예금</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Calculator</span><span class="o">(</span><span class="mf">1.5</span><span class="o">);</span>
    <span class="nc">Calculator</span> <span class="n">청년행복예금</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Calculator</span><span class="o">(</span><span class="mi">10</span><span class="o">);</span>
    
    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"[보통예금]"</span><span class="o">);</span>
    <span class="nc">Interest</span> <span class="n">i1</span> <span class="o">=</span> <span class="nl">보통예금:</span><span class="o">:</span><span class="n">year</span><span class="o">;</span>
    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">printf</span><span class="o">(</span><span class="s">"년 이자: %s\n"</span><span class="o">,</span> <span class="n">i1</span><span class="o">.</span><span class="na">compute</span><span class="o">(</span><span class="mi">10_0000_0000</span><span class="o">));</span>
    <span class="cm">/*
    위의 코드는 내부적으로 다음과 같다.
    Interest i1 = new Interest() {
      @Override
      public double compute(int money) {
        // 인터페이스 메서드 레퍼런스는 실제
        // 인터페이스 구현체에서 다음과 같이 메서드로 호출된다.
        return 보통예금.year(money);
      }
    };
    */</span>
    
    <span class="n">i1</span> <span class="o">=</span> <span class="nl">보통예금:</span><span class="o">:</span><span class="n">month</span><span class="o">;</span>
    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">printf</span><span class="o">(</span><span class="s">"월 이자: %s\n"</span><span class="o">,</span> <span class="n">i1</span><span class="o">.</span><span class="na">compute</span><span class="o">(</span><span class="mi">10_0000_0000</span><span class="o">));</span>
    
    <span class="n">i1</span> <span class="o">=</span> <span class="nl">보통예금:</span><span class="o">:</span><span class="n">day</span><span class="o">;</span>
    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">printf</span><span class="o">(</span><span class="s">"일 이자: %s\n"</span><span class="o">,</span> <span class="n">i1</span><span class="o">.</span><span class="na">compute</span><span class="o">(</span><span class="mi">10_0000_0000</span><span class="o">));</span>
    
    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"[정기예금]"</span><span class="o">);</span>
    <span class="nc">Interest</span> <span class="n">i2</span> <span class="o">=</span> <span class="nl">정기예금:</span><span class="o">:</span><span class="n">year</span><span class="o">;</span>
    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">printf</span><span class="o">(</span><span class="s">"년 이자: %s\n"</span><span class="o">,</span> <span class="n">i1</span><span class="o">.</span><span class="na">compute</span><span class="o">(</span><span class="mi">10_0000_0000</span><span class="o">));</span>
    
    <span class="n">i2</span> <span class="o">=</span> <span class="nl">정기예금:</span><span class="o">:</span><span class="n">month</span><span class="o">;</span>
    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">printf</span><span class="o">(</span><span class="s">"월 이자: %s\n"</span><span class="o">,</span> <span class="n">i1</span><span class="o">.</span><span class="na">compute</span><span class="o">(</span><span class="mi">10_0000_0000</span><span class="o">));</span>
    
    <span class="n">i3</span> <span class="o">=</span> <span class="nl">정기예금:</span><span class="o">:</span><span class="n">day</span><span class="o">;</span>
    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">printf</span><span class="o">(</span><span class="s">"일 이자: %s\n"</span><span class="o">,</span> <span class="n">i1</span><span class="o">.</span><span class="na">compute</span><span class="o">(</span><span class="mi">10_0000_0000</span><span class="o">));</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><p>다음과 같이 활용할 수 있다. 다음 예제에서 java.util.function.Predicate 인터페이스를 String 클래스의 isEmpty() 메서드를 참조하여 구현하고 있다.</p><p><code class="language-plaintext highlighter-rouge">java.util.function</code></p><ul><li><p>표준 API Functional Interface</p><li>람다로 많이 쓸만한 인터페이스를 자바에서 정의해주었다.<li>오로직 람다식만을 지원하기 위해 만들어진 인터페이스 모음이다.<li>람다식 타겟 타입은 표준 API 함수적 인터페이스와 사용자 정의 인터페이스로 나뉘어진다.</ul><p><code class="language-plaintext highlighter-rouge">Predicate&lt;String&gt; p = String::isEmpty</code></p><ul><li>predicate 인터페이스를 String의 <code class="language-plaintext highlighter-rouge">isEmpty()</code>메서드로 구현한 것이다.</ul><blockquote><p>Predicate 인터페이스? 매개변수와 boolean 리턴값이 있는 testXXX() 메서드를 가지고 있다. 매개값을 조사해서 boolean값을 리턴하는 역할을 한다.</p></blockquote><blockquote><p>표준 API Functional Interface? 함수적 인터페이스 집합 패키지로 java.util.function 패키지에 있다. 오로지 람다식만을 지원하기 위해 만들어진 인터페이스 모음이다. 람다식 타겟 타입은 표준 API 함수적 인터페이스와 사용자 정의 인터페이스로 나뉘어진다.</p></blockquote><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
</pre><td class="rouge-code"><pre><span class="kn">import</span> <span class="nn">java.util.function.Predicate</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Exam0630</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="c1">// Predicate&lt;String&gt; 인터페이스 구현체 준비하기</span>
    
    <span class="c1">// 1) 로컬 클래스로 인터페이스 구현체 만들기</span>
    <span class="kd">class</span> <span class="nc">MyPredicate</span><span class="o">&lt;</span><span class="no">T</span><span class="o">&gt;</span> <span class="kd">implements</span> <span class="nc">Predicate</span><span class="o">&lt;</span><span class="no">T</span><span class="o">&gt;</span> <span class="o">{</span>
      <span class="nd">@Override</span>
      <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">test</span><span class="o">(</span><span class="no">T</span> <span class="n">value</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="o">((</span><span class="nc">String</span><span class="o">)</span><span class="n">value</span><span class="o">).</span><span class="na">isEmpty</span><span class="o">();</span>
      <span class="o">}</span>
    <span class="o">}</span>
    
    <span class="c1">// 2) 익명 클래스로 인터페이스 구현체 만들기</span>
    <span class="nc">Predicate</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">p1</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Predicate</span><span class="o">&lt;&gt;()</span> <span class="o">{</span>
      <span class="nd">@Override</span>
      <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">test</span><span class="o">(</span><span class="nc">String</span> <span class="n">value</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">value</span><span class="o">.</span><span class="na">isEmpty</span><span class="o">();</span>
      <span class="o">}</span>
    <span class="o">};</span>
    
    <span class="c1">// 3) 람다로 인터페이스 구현체 만들기</span>
    <span class="nc">Predicate</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">p1</span> <span class="o">=</span> <span class="n">value</span> <span class="o">-&gt;</span> <span class="n">value</span><span class="o">.</span><span class="na">isEmpty</span><span class="o">();</span>
    
    <span class="c1">// 4) 메서드 레퍼런스를 사용하여 기존 클래스의 메서드를 인터페이스 구현체로 사용한다.</span>
    <span class="nc">Predicate</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">p4</span> <span class="o">=</span> <span class="nl">String:</span><span class="o">:</span><span class="n">isEmpty</span><span class="o">;</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><h2 id="생성자-레퍼런스">생성자 레퍼런스</h2><p><strong>인터페이스에 정의된 메서드가 생성자의 형식과 일치</strong>한다면 <strong>메서드 레퍼런스로 생성자를 지정할 수 있다</strong>. 그러면 인터페이스의 메서드를 호출하면 지정된 클래스의 인스턴스를 만든 후 생성자를 호출한다.</p><blockquote><p>다시 한번! 메서드 레퍼런스는? 인터페이스를 직접 구현하지 않고 이미 구현된 메서드를 인터페이스 구현체로 재활용하는 문법이다. 인터페이스의 메서드를 호출하면 지정된 클래스의 인스턴스를 만든 후 생성자를 호출한다.</p></blockquote><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Exam0710</span> <span class="o">{</span>
  <span class="kd">static</span> <span class="kd">interface</span> <span class="nc">ListFactory</span> <span class="o">{</span>
    <span class="nc">List</span> <span class="nf">create</span><span class="o">();</span>
  <span class="o">}</span>
  
  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">ListFactory</span> <span class="n">f1</span> <span class="o">=</span> <span class="nl">ArrayList:</span><span class="o">:</span><span class="k">new</span><span class="o">;</span>
    <span class="cm">/*
    생성자 레퍼런스를 지정하는 것은
    다음과 같이 익명 클래스를 만드는 것과 같다.
    ListFactory f1 = new ListFactory() {
      @Override
      public List create() {
        return new ArrayList();
      }
    }
    */</span>
    <span class="nc">List</span> <span class="n">list</span> <span class="o">=</span> <span class="n">f1</span><span class="o">.</span><span class="na">create</span><span class="o">();</span> <span class="c1">// new ArrayList();</span>
    
    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">list</span> <span class="k">instanceof</span> <span class="nc">ArrayList</span><span class="o">);</span> <span class="c1">//true</span>
    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">list</span><span class="o">.</span><span class="na">getClass</span><span class="o">().</span><span class="na">getName</span><span class="o">());</span> <span class="c1">//java.util.ArrayList</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><p>생성자 레퍼런스를 지정할 때, 인터페이스 메서드에 따라 호출할 생성자가 결정된다. 만약 클래스가 인터페이스의 메서드의 규격과 같은 생성자를 가지고 있지 않다면 해당 클래스로 생성자 레퍼런스를 지정할 수 없다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Exam0730</span> <span class="o">{</span>
  <span class="kd">static</span> <span class="kd">class</span> <span class="nc">Message</span> <span class="o">{</span>
    <span class="nc">String</span> <span class="n">name</span><span class="o">;</span>
    
    <span class="kd">public</span> <span class="nf">Message</span><span class="o">()</span> <span class="o">{</span> <span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="s">"이름없음"</span><span class="o">;</span> <span class="o">}</span>
    <span class="kd">public</span> <span class="nf">Message</span><span class="o">(</span><span class="nc">String</span> <span class="n">name</span><span class="o">)</span> <span class="o">{</span> <span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">;</span> <span class="o">}</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">print</span><span class="o">()</span> <span class="o">{</span> <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">printf</span><span class="o">(</span><span class="s">"%s님 반갑습니다!\n"</span><span class="o">,</span> <span class="n">name</span><span class="o">);</span> <span class="o">}</span>
  <span class="o">}</span>
  
  <span class="kd">static</span> <span class="kd">interface</span> <span class="nc">Factory1</span> <span class="o">{</span> <span class="nc">Message</span> <span class="nf">get</span><span class="o">();</span> <span class="o">}</span>
  <span class="kd">static</span> <span class="kd">interface</span> <span class="nc">Factory2</span> <span class="o">{</span> <span class="nc">Message</span> <span class="nf">get</span><span class="o">(</span><span class="nc">String</span> <span class="n">name</span><span class="o">);</span> <span class="o">}</span>
  <span class="kd">static</span> <span class="kd">interface</span> <span class="nc">Factory3</span> <span class="o">{</span> <span class="nc">Message</span> <span class="nf">get</span><span class="o">(</span><span class="nc">String</span> <span class="n">name</span><span class="o">,</span> <span class="kt">int</span> <span class="n">age</span><span class="o">);</span> <span class="o">}</span>
  
  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">Factory1</span> <span class="n">f1</span> <span class="o">=</span> <span class="nl">Message:</span><span class="o">:</span><span class="k">new</span><span class="o">;</span> <span class="c1">//Factory() 생성자를 가리킨다.</span>
    <span class="c1">// 컴파일러는 Message의 기본 생성자를 호출하는 Factory 구현체를 만들어 리턴한다.</span>
    
    <span class="nc">Factory2</span> <span class="n">f2</span> <span class="o">=</span> <span class="nl">Message:</span><span class="o">:</span><span class="k">new</span><span class="o">;</span> <span class="c1">//Factory(String name) 생성자를 가리킨다.</span>
    <span class="c1">// 컴파일러는 Message의 생성자 중에서</span>
    <span class="c1">// String을 파라미터로 받는 생성자를 호출하는 Factory 구현체를 만들어 리턴한다.</span>
    
    <span class="c1">//Factory3 f3 = Message::new; </span>
    <span class="c1">// Message(String, int) 생성자가 없기 때문에 컴파일 오류!</span>
    <span class="c1">// 즉 컴파일러는 Message의 생성자 중에서</span>
    <span class="c1">// String과 int를 파라미터로 받는 생성자를 호출하는 Factory 구현체를 만들어야 하는데,</span>
    <span class="c1">// Message 클래스에는 String과 int를 파라미터로 받는 생성자가 없기 때문에</span>
    <span class="c1">// Factory 구현체를 만들 수 없다.</span>
    <span class="c1">// 그래서 컴파일 오류가 발생한다.</span>
    
    <span class="nc">Message</span> <span class="n">msg</span> <span class="o">=</span> <span class="n">f1</span><span class="o">.</span><span class="na">get</span><span class="o">();</span> <span class="c1">// ==&gt; new Message()</span>
    <span class="n">msg</span><span class="o">.</span><span class="na">print</span><span class="o">();</span> <span class="c1">//이름없음님 반갑습니다!</span>
    
    <span class="n">msg</span> <span class="o">=</span> <span class="n">f2</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"김하연"</span><span class="o">);</span> <span class="c1">// ==&gt; new Message("홍길동")</span>
    <span class="n">msg</span><span class="o">.</span><span class="na">print</span><span class="o">();</span> <span class="c1">//김하연님 반갑습니다!</span>
    
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><p>‘람다’는 새로 메서드를 구현해야 하지만, ‘메서드 레퍼런스’는 기존 클래스의 메서드를 재활용할 수 있다. 인터페이스 구현체를 직접 만들지 않고 기존에 존재하는 메서드를 구현체로 사용하는 문법이 메서드 레퍼런스이다. 메서드 레퍼런스에는 스태틱 메서드 레퍼런스, 인스턴스 메서드 레퍼런스, 생성자 레퍼런스가 있다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Exam0750</span> <span class="o">{</span>
  <span class="nd">@SuppressWarnings</span><span class="o">(</span><span class="s">"unchecked"</span><span class="o">)</span>
  <span class="kd">static</span> <span class="o">&lt;</span><span class="no">T</span><span class="o">&gt;</span> <span class="nc">Collection</span><span class="o">&lt;</span><span class="no">T</span><span class="o">&gt;</span> <span class="nf">prepareNames</span><span class="o">(</span><span class="nc">Supplier</span><span class="o">&lt;</span><span class="nc">Collection</span><span class="o">&lt;</span><span class="no">T</span><span class="o">&gt;&gt;</span> <span class="n">factory</span><span class="o">,</span> <span class="no">T</span><span class="o">...</span> <span class="n">values</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">for</span> <span class="o">(</span><span class="no">T</span> <span class="n">value</span> <span class="o">:</span> <span class="n">values</span><span class="o">)</span> <span class="o">{</span>
      <span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">value</span><span class="o">);</span>
    <span class="o">}</span>
    <span class="k">return</span> <span class="n">list</span><span class="o">;</span>
  <span class="o">}</span>
  
  <span class="kd">static</span> <span class="o">&lt;</span><span class="no">T</span><span class="o">&gt;</span> <span class="kt">void</span> <span class="nf">print</span><span class="o">(</span><span class="nc">Iterator</span><span class="o">&lt;</span><span class="no">T</span><span class="o">&gt;</span> <span class="n">i</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">while</span> <span class="o">(</span><span class="n">i</span><span class="o">.</span><span class="na">hasNext</span><span class="o">())</span> <span class="o">{</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">i</span><span class="o">.</span><span class="na">next</span><span class="o">()</span> <span class="o">+</span> <span class="s">","</span><span class="o">);</span>
    <span class="o">}</span>
    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">();</span>
  <span class="o">}</span>
  
  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">Collection</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">c1</span> <span class="o">=</span> <span class="n">prepareNames</span><span class="o">(</span><span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;::</span><span class="k">new</span><span class="o">,</span> <span class="s">"monica"</span><span class="o">,</span> <span class="s">"phoebe"</span><span class="o">,</span> <span class="s">"rachel"</span><span class="o">,</span> <span class="s">"monica"</span><span class="o">);</span>
    <span class="n">print</span><span class="o">(</span><span class="n">c1</span><span class="o">.</span><span class="na">iterator</span><span class="o">());</span>
    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"----------------"</span><span class="o">);</span>
    <span class="nc">Collection</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">c2</span> <span class="o">=</span> <span class="n">prepareNames</span><span class="o">(</span><span class="nc">HashSet</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;::</span><span class="k">new</span><span class="o">,</span> <span class="s">"monica"</span><span class="o">,</span> <span class="s">"phoebe"</span><span class="o">,</span> <span class="s">"rachel"</span><span class="o">,</span> <span class="s">"monica"</span><span class="o">);</span>
    <span class="n">print</span><span class="o">(</span><span class="n">c2</span><span class="o">.</span><span class="na">iterator</span><span class="o">());</span>
  <span class="o">}</span>
<span class="o">}</span>

<span class="cm">/*
monica, phoebe, rachel, monica,
----------------
monica, rachel, phoebe,
*/</span>
</pre></table></code></div></div><p><code class="language-plaintext highlighter-rouge">prepareNames()</code>는 T 타입 객체를 다루는 목록인 Collection 객체를 리턴한다. 단, prepareNames() 안에 Collection 객체를 만드는 코드는 없다. 대신 T를 담는 컬렉션 객체를 만들어주는 Supplier를 파라미터로 담는다. 메인 메서드에서 <code class="language-plaintext highlighter-rouge">Supplier&lt;Collection&lt;T&gt;&gt; factory</code> 자리에 ArrayList를 만들어주는 생성자를 참조하게 하였다. 그러면 내부적으로 <code class="language-plaintext highlighter-rouge">Supplier&lt;Collction&lt;T&gt;&gt;</code>를 구현하는 익명클래스를 작성하고, 익명클래스 안에서 <code class="language-plaintext highlighter-rouge">Supplier</code> 인터페이스의 <code class="language-plaintext highlighter-rouge">T get()</code> 메서드를 오버라이딩하는데 그 return 자리에 <code class="language-plaintext highlighter-rouge">new ArrayList&lt;T&gt;()</code>를 호출하게 된다.</p><blockquote><p><code class="language-plaintext highlighter-rouge">Collection &lt;T&gt; list = factory.get();</code>: =&gt;<code class="language-plaintext highlighter-rouge"> new ArrayList&lt;String&gt;()</code></p></blockquote><p>위의 코드가 어떤 과정의 결과인지 다음 코드를 통해 알아보자.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Exam0751</span> <span class="o">{</span>
  <span class="nd">@SuppressWarnings</span> <span class="o">(</span><span class="s">"unchecked"</span><span class="o">)</span>
  <span class="kd">static</span> <span class="o">&lt;</span><span class="no">T</span><span class="o">&gt;</span> <span class="nc">Collection</span><span class="o">&lt;</span><span class="no">T</span><span class="o">&gt;</span> <span class="nf">prepareNames</span><span class="o">(</span><span class="nc">Supplier</span><span class="o">&lt;</span><span class="nc">Collection</span><span class="o">&lt;</span><span class="no">T</span><span class="o">&gt;&gt;</span> <span class="n">factory</span><span class="o">,</span> <span class="no">T</span><span class="o">...</span> <span class="n">values</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">Collection</span><span class="o">&lt;</span><span class="no">T</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="n">factory</span><span class="o">.</span><span class="na">get</span><span class="o">();</span> <span class="c1">// =&gt; new ArrayList&lt;String&gt;()</span>
    <span class="k">for</span> <span class="o">(</span><span class="no">T</span> <span class="n">value</span> <span class="o">:</span> <span class="n">values</span><span class="o">)</span> <span class="o">{</span>
      <span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">value</span><span class="o">);</span>
    <span class="o">}</span>
  <span class="o">}</span>
  
  <span class="kd">static</span> <span class="o">&lt;</span><span class="no">T</span><span class="o">&gt;</span> <span class="kt">void</span> <span class="nf">print</span><span class="o">(</span><span class="nc">Iterator</span><span class="o">&lt;</span><span class="no">T</span><span class="o">&gt;</span> <span class="n">i</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">while</span> <span class="o">(</span><span class="n">i</span><span class="o">.</span><span class="na">hasNext</span><span class="o">())</span> <span class="o">{</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="n">i</span><span class="o">.</span><span class="na">next</span><span class="o">()</span> <span class="o">+</span> <span class="s">","</span><span class="o">);</span>
    <span class="o">}</span>
    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">();</span>
  <span class="o">}</span>
  
  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="c1">// 1) 로컬 클래스를 사용하여 Supplier 구현체 만들기</span>
    <span class="kd">class</span> <span class="nc">MySupplier</span><span class="o">&lt;</span><span class="no">T</span><span class="o">&gt;</span> <span class="kd">implements</span> <span class="nc">Supplier</span><span class="o">&lt;</span><span class="no">T</span><span class="o">&gt;</span> <span class="o">{</span>
      <span class="nd">@Override</span>
      <span class="kd">public</span> <span class="no">T</span> <span class="nf">get</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="o">(</span><span class="no">T</span><span class="o">)</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;();</span>
      <span class="o">}</span>
    <span class="o">};</span>
    <span class="nc">Supplier</span><span class="o">&lt;</span><span class="nc">Collection</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;&gt;</span> <span class="n">supplier1</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">MySupplier</span><span class="o">&lt;</span><span class="nc">Collection</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;&gt;();</span>
    <span class="nc">Collection</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">list1</span> <span class="o">=</span> <span class="n">prepareNames</span><span class="o">(</span><span class="n">supplier1</span><span class="o">,</span> <span class="s">"monica"</span><span class="o">,</span> <span class="s">"phoebe"</span><span class="o">,</span> <span class="s">"rachel"</span><span class="o">,</span> <span class="s">"monica"</span><span class="o">);</span>
    
    <span class="c1">// 2) 익명 클래스를 사용하여 Supplier 구현체 만들기    </span>
    <span class="nc">Supplier</span><span class="o">&lt;</span><span class="nc">Collection</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;&gt;</span> <span class="n">supplier2</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Supplier</span><span class="o">&lt;</span><span class="nc">Collection</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;()</span> <span class="o">{</span>
      <span class="nd">@Override</span>
      <span class="kd">public</span> <span class="nc">Collection</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="nf">get</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;();</span>
      <span class="o">}</span>
    <span class="o">};</span>    
    <span class="nc">Collection</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">list2</span> <span class="o">=</span> <span class="n">prepareNames</span><span class="o">(</span><span class="n">supplier2</span><span class="o">,</span> <span class="s">"monica"</span><span class="o">,</span> <span class="s">"phoebe"</span><span class="o">,</span> <span class="s">"rachel"</span><span class="o">,</span> <span class="s">"monica"</span><span class="o">);</span>
    
    
    <span class="c1">// 3) 익명 클래스를 사용하여 Supplier 구현체 만들기2  </span>
    <span class="nc">Collection</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">list3</span> <span class="o">=</span> <span class="n">prepareNames</span><span class="o">(</span>
      <span class="k">new</span> <span class="nc">Supplier</span><span class="o">&lt;</span><span class="nc">Collection</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;()</span> <span class="o">{</span>
      	<span class="nd">@Override</span>
      	<span class="kd">public</span> <span class="nc">Collection</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="nf">get</span><span class="o">()</span> <span class="o">{</span>
        	<span class="k">return</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;();</span>
      	<span class="o">}</span>
    	<span class="o">},</span> 
      <span class="s">"monica"</span><span class="o">,</span> <span class="s">"phoebe"</span><span class="o">,</span> <span class="s">"rachel"</span><span class="o">,</span> <span class="s">"monica"</span><span class="o">);</span>
    
    <span class="c1">// 4) 람다 문법으로 Supplier 구현체 만들기</span>
    <span class="nc">Collection</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">list4</span> <span class="o">=</span> <span class="n">prepareNames</span><span class="o">(()</span> <span class="o">-&gt;</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;(),</span> <span class="s">"monica"</span><span class="o">,</span> <span class="s">"phoebe"</span><span class="o">,</span> <span class="s">"rachel"</span><span class="o">,</span> <span class="s">"monica"</span><span class="o">);</span>
    
    <span class="c1">// 5) 메서드 레퍼런스 문법으로 Supplier 구현체 만들기</span>
    <span class="nc">Collection</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">list5</span> <span class="o">=</span> <span class="n">prepareNames</span><span class="o">(()</span> <span class="o">-&gt;</span> <span class="nl">ArrayList:</span><span class="o">:</span><span class="k">new</span><span class="o">),</span> <span class="s">"monica"</span><span class="o">,</span> <span class="s">"phoebe"</span><span class="o">,</span> <span class="s">"rachel"</span><span class="o">,</span> <span class="s">"monica"</span><span class="o">);</span>
    
    <span class="n">print</span><span class="o">(</span><span class="n">list</span><span class="o">.</span><span class="na">iterator</span><span class="o">());</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/bitcamp/'>bitcamp</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/bitcamp/" class="post-tag no-text-decoration" >bitcamp</a> <a href="/tags/java/" class="post-tag no-text-decoration" >java</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=학원 #41일차: 람다(Lambda) - 하연&url=https://hayeon17kim.github.io//posts/200916-41/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=학원 #41일차: 람다(Lambda) - 하연&u=https://hayeon17kim.github.io//posts/200916-41/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=학원 #41일차: 람다(Lambda) - 하연&url=https://hayeon17kim.github.io//posts/200916-41/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/system-deisign-capacity-estimation/">System Design: Capacity Estimate</a><li><a href="/posts/today-i-learned-2021-04-27/">주니어 성장일기: 2021.04.27</a><li><a href="/posts/today-i-learned-2021-04-26/">주니어 성장일기: 2021.04.26</a><li><a href="/posts/fastcampus-01/">자료구조와 알고리즘이란</a><li><a href="/posts/today-i-learned-2021-04-25/">주니어 성장일기: 2021.04.25</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/java/">java</a> <a class="post-tag" href="/tags/javascript/">JavaScript</a> <a class="post-tag" href="/tags/bitcamp/">bitcamp</a> <a class="post-tag" href="/tags/modernjs/">modernJS</a> <a class="post-tag" href="/tags/project/">project</a> <a class="post-tag" href="/tags/algorithm/">algorithm</a> <a class="post-tag" href="/tags/trouble-shooting/">trouble-shooting</a> <a class="post-tag" href="/tags/devil/">devil</a> <a class="post-tag" href="/tags/corejs/">corejs</a> <a class="post-tag" href="/tags/network/">network</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/201123-85/"><div class="card-body"> <span class="timeago small" > Nov 23, 2020 <i class="unloaded">2020-11-23T00:00:00+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>학원 #85일차:서블릿 프로그래밍, WAS, JavaEE와 Servlet 컨테이너, Servlet 인터페이스의 Life-cycle 메서드</h3><div class="text-muted small"><p> 서블릿 프로그래밍 웹 애플리케이션 서버 아키텍쳐의 개념 JavaEE와 Servlet API의 관계 JavaEE 구현체와 서블릿 컨테이너의 관계 eomcs-web-project/src-00 예제 실습 Servlet 인터페이스와 Life-cycle 메서드 WAS(Web Application Server) 아키텍처 이전까지는 사...</p></div></div></a></div><div class="card"> <a href="/posts/201124-86/"><div class="card-body"> <span class="timeago small" > Nov 24, 2020 <i class="unloaded">2020-11-24T00:00:00+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>학원 #86일차:서블릿 프로그래밍, 프로젝트를 WAS 아키텍처로 전환</h3><div class="text-muted small"><p> 서블릿 컨테이너가 관리하는 컴포넌트는 서블릿, 필터, 리스너로 3가지이다. Servlet 만들기 1. javax.servlet.Servlet 인터페이스 구현 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38...</p></div></div></a></div><div class="card"> <a href="/posts/201125-87/"><div class="card-body"> <span class="timeago small" > Nov 25, 2020 <i class="unloaded">2020-11-25T00:00:00+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>학원 #87일차: HTML 태그 사용법</h3><div class="text-muted small"><p> HTML/CSS 학습법: 결과 화면 먼저 보고 소스코드를 확인하자 UI와 UX UX(User Experience; 사용자 경험): 사용자 편의성 ex: 링크에 hover했을 때 커서가 손모양으로 바뀌어야 한다. UI(User Interface): 기능을 하는 화면이 있는가 HTML ...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/200915-40/" class="btn btn-outline-primary" prompt="Older"><p>학원 #40일차: 파일 입출력</p></a> <a href="/posts/200918-43/" class="btn btn-outline-primary" prompt="Newer"><p>학원 #43일차: 파일 입출력 API</p></a></div><div id="disqus" class="pt-2 pb-2"><p class="text-center text-muted small pb-5"> Loading comments from <a href="https://disqus.com/">Disqus</a> ...</p></div><script src="/assets/js/lib/jquery.disqusloader.min.js"></script> <script> const options = { scriptUrl: '//hayeon17kim-github-io.disqus.com/embed.js', disqusConfig: function() { this.page.title = '학원 #41일차: 람다(Lambda)'; this.page.url = 'https://hayeon17kim.github.io//posts/200916-41/'; this.page.identifier = '/posts/200916-41/'; } }; $.disqusLoader('#disqus', options); </script></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2021 <a href="https://twitter.com/MONI56219559">hayeon_kim</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/java/">java</a> <a class="post-tag" href="/tags/javascript/">JavaScript</a> <a class="post-tag" href="/tags/bitcamp/">bitcamp</a> <a class="post-tag" href="/tags/modernjs/">modernJS</a> <a class="post-tag" href="/tags/project/">project</a> <a class="post-tag" href="/tags/algorithm/">algorithm</a> <a class="post-tag" href="/tags/trouble-shooting/">trouble shooting</a> <a class="post-tag" href="/tags/devil/">devil</a> <a class="post-tag" href="/tags/corejs/">corejs</a> <a class="post-tag" href="/tags/network/">network</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://hayeon17kim.github.io/{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script>
