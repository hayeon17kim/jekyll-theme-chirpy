<!DOCTYPE html><html lang="kr-KR" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="pv-cache-enabled" content="false"><meta name="generator" content="Jekyll v4.2.0" /><meta property="og:title" content="학원 #39일차: 예외처리" /><meta name="author" content="hayeon_kim" /><meta property="og:locale" content="kr_KR" /><meta name="description" content="인터페이스란 객체 사용 규칙을 정의하는 문법이다. 인터페이스를 마주치면 누가 호출하고 누가 호출 당하는지 빨리 파악해야 한다. 그리고 우리가 호출당하는 프로그램을 짜는 입장인지, 호출 당하는 프로그램을 짜는 입장인지 빨리 파악해야 한다." /><meta property="og:description" content="인터페이스란 객체 사용 규칙을 정의하는 문법이다. 인터페이스를 마주치면 누가 호출하고 누가 호출 당하는지 빨리 파악해야 한다. 그리고 우리가 호출당하는 프로그램을 짜는 입장인지, 호출 당하는 프로그램을 짜는 입장인지 빨리 파악해야 한다." /><link rel="canonical" href="https://hayeon17kim.github.io//posts/200914-39/" /><meta property="og:url" content="https://hayeon17kim.github.io//posts/200914-39/" /><meta property="og:site_name" content="하연" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2020-09-14T00:00:00+08:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="학원 #39일차: 예외처리" /><meta name="twitter:site" content="@MONI56219559" /><meta name="twitter:creator" content="@hayeon_kim" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"author":{"@type":"Person","name":"hayeon_kim"},"headline":"학원 #39일차: 예외처리","dateModified":"2020-09-14T00:00:00+08:00","datePublished":"2020-09-14T00:00:00+08:00","description":"인터페이스란 객체 사용 규칙을 정의하는 문법이다. 인터페이스를 마주치면 누가 호출하고 누가 호출 당하는지 빨리 파악해야 한다. 그리고 우리가 호출당하는 프로그램을 짜는 입장인지, 호출 당하는 프로그램을 짜는 입장인지 빨리 파악해야 한다.","url":"https://hayeon17kim.github.io//posts/200914-39/","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://hayeon17kim.github.io//posts/200914-39/"},"@context":"https://schema.org"}</script><title>학원 #39일차: 예외처리 | 하연</title><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon.png"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon-precomposed.png"><link rel="apple-touch-icon" sizes="57x57" href="/assets/img/favicons/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/assets/img/favicons/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicons/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/assets/img/favicons/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicons/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/assets/img/favicons/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicons/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/assets/img/favicons/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/assets/img/favicons/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/assets/img/favicons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/manifest.json"><meta name='msapplication-config' content='/assets/img/favicons/browserconfig.xml'><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/assets/img/favicons/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="cdn.jsdelivr.net"><link rel="dns-prefetch" href="cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=UA-173202420-1"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-173202420-1'); }); </script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/img/bio-photo.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">하연</a></div><div class="site-subtitle font-italic">어제보다 나은 코드를 위해</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/projects/" class="nav-link"> <i class="fa-fw fas fa-laptop-code ml-xl-3 mr-xl-3 unloaded"></i> <span>PROJECTS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/hayeon17kim" aria-label="github" class="order-3" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/MONI56219559" aria-label="twitter" class="order-4" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['hayeon17kim','gmail.com'].join('@')" aria-label="email" class="order-5" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" class="order-6" > <i class="fas fa-rss"></i> </a> <span class="icon-border order-2"></span> <span id="mode-toggle-wrapper" class="order-1"> <i class="mode-toggle fas fa-adjust"></i> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } var self = this; /* always follow the system prefers */ this.sysDarkPrefers.addListener(function() { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.updateMermaid(); }); } /* constructor() */ setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode == ModeToggle.DARK_MODE; } get isLightMode() { return this.mode == ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer) ) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } updateMermaid() { if (typeof mermaid !== "undefined") { let expectedTheme = (this.modeStatus === ModeToggle.DARK_MODE? "dark" : "default"); let config = { theme: expectedTheme }; /* re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function() { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.updateMermaid(); } /* flipMode() */ } /* ModeToggle */ let toggle = new ModeToggle(); $(".mode-toggle").click(function() { toggle.flipMode(); }); </script> </span></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Posts </a> </span> <span>학원 #39일차: 예외처리</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>학원 #39일차: 예외처리</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Mon, Sep 14, 2020, 12:00 AM +0800" > Sep 14, 2020 <i class="unloaded">2020-09-14T00:00:00+08:00</i> </span> by <span class="author"> hayeon_kim </span></div><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="7312 words">40 min</span></div></div><div class="post-content"><p>인터페이스란 객체 사용 규칙을 정의하는 문법이다. 인터페이스를 마주치면 누가 호출하고 누가 호출 당하는지 빨리 파악해야 한다. 그리고 우리가 호출당하는 프로그램을 짜는 입장인지, 호출 당하는 프로그램을 짜는 입장인지 빨리 파악해야 한다.</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/50407047/93036001-8b7e3000-f679-11ea-9f40-76a61cc91cfe.JPG" alt="IMG_0104" /></p><p>나중에 배울 Servlet도 마찬가지이다. Servlet은 호출 규칙이고, 개발자는 호출 당하는 프로그램을 짜면 된다. 그러면 Tomcat Server와 같은 웹서버가 이를 호출하게 된다.</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/50407047/93036006-8caf5d00-f679-11ea-882e-9e6b49c5bd7e.JPG" alt="IMG_0105" /></p><h1 id="mini-pms-v-29-예외처리">mini pms v. 29: 예외처리</h1><p>현재 프로그램은 다음과 같이 잘못된 값을 입력하면 시스템이 다운된다. 이제 예외 처리 문법으로 시스템이 다운되는 것을 방지할 것이다.</p><div class="language-console highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre><span class="gp">명령&gt;</span><span class="w"> </span>/board/add
<span class="go">번호? okok
Exception in thread "main" java.lang.NumberFormatException: For input string: "okok"
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)
	at java.lang.Integer.parseInt(Integer.java:580)
	at java.lang.Integer.parseInt(Integer.java:615)
	at com.eomcs.util.Prompt.inputInt(Prompt.java:16)
	at com.eomcs.pms.handler.BoardAddCommand.execute(BoardAddCommand.java:20)
	at com.eomcs.pms.App.main(App.java:107)
</span></pre></table></code></div></div><p>무엇 때문에 오류가 나오는지 <code class="language-plaintext highlighter-rouge">e.getClass().getName()</code>, <code class="language-plaintext highlighter-rouge">e.getMessage()</code>를 출력하도록 한다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
</pre><td class="rouge-code"><pre><span class="c1">//...</span>
<span class="k">switch</span> <span class="o">(</span><span class="n">inputStr</span><span class="o">)</span> <span class="o">{</span>
    <span class="c1">//...</span>
  <span class="k">default</span><span class="o">:</span>
    <span class="nc">Command</span> <span class="n">command</span> <span class="o">=</span> <span class="n">commandMap</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">inputStr</span><span class="o">);</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">command</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
      <span class="k">try</span> <span class="o">{</span>
        <span class="n">command</span><span class="o">.</span><span class="na">execute</span><span class="o">();</span>
      <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">printf</span><span class="o">(</span><span class="s">"명령 처리 중 오류 발생: %s\n%s\n"</span><span class="o">,</span>
                          <span class="n">e</span><span class="o">.</span><span class="na">getClass</span><span class="o">().</span><span class="na">getName</span><span class="o">(),</span> <span class="n">e</span><span class="o">.</span><span class="na">getMessage</span><span class="o">());</span>
      <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"실행할 수 없는 명령입니다."</span><span class="o">);</span>
      <span class="o">}</span>
    <span class="o">}</span>
    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">();</span>
<span class="o">}</span>
<span class="c1">//...</span>
</pre></table></code></div></div><p>이제 다음과 같이 예외가 발생하더라도 시스템이 멈추지 않고 적절하게 예외 조치를 한 후 계속 실행할 수 있게 한 것이 예외 처리 문법의 목적이다.</p><div class="language-console highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="gp">명령&gt;</span><span class="w"> </span>/board/add
<span class="go">번호? okok
명령 처리 중 오류 발생: java.lang.NumberFormatException
For input string: "okok"
</span></pre></table></code></div></div><p>이제 잘못된 형식으로 값을 입력하더라도 시스템을 멈추지 않고 계속 실행하게 한다.</p><h1 id="예외-처리">예외 처리</h1><h2 id="배경">배경</h2><p>예외처리 문법은 메서드 실행 중에 예외 상황을 만났을 때 리턴 값으로 알려주는 방식의 한계를 극복하기 위한, 그리고 예외가 발생하더라도 시스템을 멈추지 않고 적절한 조치를 취한 후 계속 실행하기 위한 문법이다.</p><h3 id="리턴-값으로-오류-여부를-알려줄-때의-한계">리턴 값으로 오류 여부를 알려줄 때의 한계</h3><p>예외 처리 문법이 없을 때는 리턴 값으로 오류 여부를 알려 줬다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Calculator</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">int</span> <span class="nf">compute</span><span class="o">(</span><span class="nc">String</span> <span class="n">op</span><span class="o">,</span> <span class="kt">int</span> <span class="n">a</span><span class="o">,</span> <span class="kt">int</span> <span class="n">b</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">switch</span> <span class="o">(</span><span class="n">op</span><span class="o">)</span> <span class="o">{</span>
      <span class="k">case</span> <span class="s">"+"</span><span class="o">:</span> <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="o">;</span>
      <span class="k">case</span> <span class="s">"-"</span><span class="o">:</span> <span class="k">return</span> <span class="n">a</span> <span class="o">-</span> <span class="n">b</span><span class="o">;</span>
      <span class="k">case</span> <span class="s">"*"</span><span class="o">:</span> <span class="k">return</span> <span class="n">a</span> <span class="o">*</span> <span class="n">b</span><span class="o">;</span>
      <span class="k">case</span> <span class="s">"/"</span><span class="o">:</span> <span class="k">return</span> <span class="n">a</span> <span class="o">/</span> <span class="n">b</span><span class="o">;</span>
      <span class="k">case</span> <span class="s">"%"</span><span class="o">:</span> <span class="k">return</span> <span class="n">a</span> <span class="o">%</span> <span class="n">b</span><span class="o">;</span>
      <span class="k">default</span><span class="o">:</span>
        <span class="c1">// 만약 유효한 연산자가 아닐 경우 계산 결과는?</span>
        <span class="c1">// =&gt; 보통 리턴 값으로 알린다.</span>
        <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="o">;</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><p>그러나 리턴 값을 검사하여 오류 여부를 파악하는 방식은, 다음과 같이 정상적인 계산 결과도 오류로 취급할 수 있다는 단점이 있다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Exam0121</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="kt">int</span> <span class="n">result</span> <span class="o">=</span> <span class="nc">Calculator</span><span class="o">.</span><span class="na">compute</span><span class="o">(</span><span class="s">"-"</span><span class="o">,</span> <span class="mi">6</span><span class="o">,</span> <span class="mi">7</span><span class="o">);</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">result</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="o">)</span> <span class="o">{</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"유효하지 않은 연산자입니다!"</span><span class="o">);</span>
    <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">result</span><span class="o">);</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>

</pre></table></code></div></div><p>이에 오류일 때 리턴하는 값을 <code class="language-plaintext highlighter-rouge">-1212121212</code>와 같은 희귀한 값으로 지정할 수 있다. 그러나 아무리 희귀한 값을 리턴한다 하더라도 그 희귀한 값 또한 정상 값일 수 있다. 결국 리턴 값을 검사하여 오류 여부를 처리하는 것으로는 문제를 해결할 수 없다.</p><h3 id="예외-발생-시-시스템-멈춤-문제">예외 발생 시 시스템 멈춤 문제</h3><p>일반적인 예외의 경우 리턴 값을 검사하여 처리하면 된다. 문제는 0으로 나누는 것처럼 계산할 수 없는 예외 상황이 발생한 경우 JVM은 실행을 종료하게 된다. 0으로 나눌 때처럼 예외가 발생하더라도 JVM을 멈추지 않고 계속 정상적으로 실행되게 만드는 문법이 “예외처리”이다.</p><blockquote><p>next(), nextInt()와 같은 메서드는 공백을 기준으로 나눠진다. 공백이 몇 개이든 상관 없다.</p></blockquote><div class="language-console highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="gp">입력&gt;</span><span class="w"> </span>/
<span class="go">1 0
Exception in thread "main" java.lang.ArithmeticException: / by zero
	at com.eomcs.exception.ex1.Calculator2.compute(Calculator2.java:10)
	at com.eomcs.exception.ex1.Exam0210.main(Exam0210.java:22)
</span></pre></table></code></div></div><h2 id="예외처리">예외처리</h2><p><strong>예외를 호출자에게 알려주는 문법</strong></p><p>유효하지 않은 연산자인 경우 throw 명령을 이용하여 호출자에게 오류 상황을 알린다. 리턴하지 않는다. 던진 순간 메서드는 실행이 끝난다.</p><p>택배에서 물건을 담을 때 사용되는 박스 규격이 있는 것처럼, throw로는 <code class="language-plaintext highlighter-rouge">Throwable</code> 객체만 던질 수 있다. 즉 Throwable의 서브 클래스만을 던질 수 있다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Calculator3</span> <span class="o">{</span>

  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">int</span> <span class="nf">compute</span><span class="o">(</span><span class="nc">String</span> <span class="n">op</span><span class="o">,</span> <span class="kt">int</span> <span class="n">a</span><span class="o">,</span> <span class="kt">int</span> <span class="n">b</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">switch</span> <span class="o">(</span><span class="n">op</span><span class="o">)</span> <span class="o">{</span>
      <span class="k">case</span> <span class="s">"+"</span><span class="o">:</span> <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="o">;</span>
      <span class="k">case</span> <span class="s">"-"</span><span class="o">:</span> <span class="k">return</span> <span class="n">a</span> <span class="o">-</span> <span class="n">b</span><span class="o">;</span>
      <span class="k">case</span> <span class="s">"*"</span><span class="o">:</span> <span class="k">return</span> <span class="n">a</span> <span class="o">*</span> <span class="n">b</span><span class="o">;</span>
      <span class="k">case</span> <span class="s">"/"</span><span class="o">:</span> <span class="k">return</span> <span class="n">a</span> <span class="o">/</span> <span class="n">b</span><span class="o">;</span>
      <span class="k">case</span> <span class="s">"%"</span><span class="o">:</span> <span class="k">return</span> <span class="n">a</span> <span class="o">%</span> <span class="n">b</span><span class="o">;</span>
      <span class="k">default</span><span class="o">:</span>
        <span class="c1">// 유효하지 않은 연산자인 경우 throw 명령을 이용하여 호출자에게 </span>
        <span class="c1">// 오류 상황을 알린다.</span>
        <span class="k">throw</span> <span class="k">new</span> <span class="nf">RuntimeException</span><span class="o">(</span><span class="s">"해당 연산자를 지원하지 않습니다."</span><span class="o">);</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><p><strong>예외를 받는 문법</strong></p><p>예외를 던질 수도 있는 메서드를 호출할 때는 try 블록 안에서 호출하고 메서드가 던지는 예외를 받을 수 있는 catch 블록도 만들어야 한다. 즉 <strong>try 블록 안에서 메서드를 호출</strong>하다가 <strong>예외가 발생하면</strong> catch 블록에서 <strong>파라미터로 받는다.</strong></p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Exam0120</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">Scanner</span> <span class="n">keyScan</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Scanner</span><span class="o">(</span><span class="nc">System</span><span class="o">.</span><span class="na">in</span><span class="o">);</span>
    <span class="k">while</span> <span class="o">(</span><span class="kc">true</span><span class="o">)</span> <span class="o">{</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="s">"입력&gt; "</span><span class="o">);</span>
      <span class="nc">String</span> <span class="n">op</span> <span class="o">=</span> <span class="n">keyScan</span><span class="o">.</span><span class="na">next</span><span class="o">();</span>
      <span class="k">if</span> <span class="o">(</span><span class="n">op</span><span class="o">.</span><span class="na">equalsIgnoreCase</span><span class="o">(</span><span class="s">"quit"</span><span class="o">))</span>
        <span class="k">break</span><span class="o">;</span>

      <span class="k">try</span> <span class="o">{</span>
        <span class="kt">int</span> <span class="n">v1</span> <span class="o">=</span> <span class="n">keyScan</span><span class="o">.</span><span class="na">nextInt</span><span class="o">();</span>
        <span class="kt">int</span> <span class="n">v2</span> <span class="o">=</span> <span class="n">keyScan</span><span class="o">.</span><span class="na">nextInt</span><span class="o">();</span>

        <span class="kt">int</span> <span class="n">result</span> <span class="o">=</span> <span class="nc">Calculator3</span><span class="o">.</span><span class="na">compute</span><span class="o">(</span><span class="n">op</span><span class="o">,</span> <span class="n">v1</span><span class="o">,</span> <span class="n">v2</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">result</span><span class="o">);</span>

      <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">InputMismatchException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"입력 값이 유효하지 않습니다."</span><span class="o">);</span>
        <span class="n">keyScan</span><span class="o">.</span><span class="na">nextLine</span><span class="o">();</span> <span class="c1">// 입력이 잘못되었을 경우, 나머지 입력을 무시한다.</span>

      <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">RuntimeException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">e</span><span class="o">.</span><span class="na">getMessage</span><span class="o">());</span>
      <span class="o">}</span> 
    <span class="o">}</span>
    <span class="n">keyScan</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><h2 id="개념">개념</h2><p><strong>예외를 호출자에게 알려주는 문법</strong></p><ul><li><p><code class="language-plaintext highlighter-rouge">throw [Throwable 객체];</code></p><p>예: Throwable &lt;- Exception &lt;- RuntimeException</p><blockquote><p>서브 클래스는 직계자식 및 밑의 자식들을 퉁쳐서 말하는 것</p></blockquote></ul><p><strong>예외를 받았을 때 처리하는 문법</strong></p><ul><li><p>다형적 변수에 입각해서 부모 클래스의 참조 변수로 받을 수 있다.</p><li><p>예외가 발생하면 catch 블록이 실행된다. 코드에서 던진 예외 객체는 catch의 파라미터가 받는다.</p></ul><p>예외를 받지 않으면</p><ul><li>즉시 현재 메서드의 실행을 멈추고 호출자에게 예외 처리를 위임한다. 만약에 그 호출자가 JVM이라면 프로그램 실행을 종료한다.</ul><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Exam0110</span> <span class="o">{</span>
  <span class="kd">static</span> <span class="kt">void</span> <span class="nf">m</span><span class="o">()</span> <span class="o">{</span>
    <span class="c1">// 예외를 호출자에게 알려주는 문법</span>
    <span class="k">throw</span> <span class="k">new</span> <span class="nf">RuntimeException</span><span class="o">(</span><span class="s">"예외가 발생했습니다!"</span><span class="o">);</span>
  <span class="o">}</span>
  
  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="c1">// 예외를 받았을 때 처리하는 문법</span>
    <span class="k">try</span> <span class="o">{</span>
      <span class="n">m</span><span class="o">();</span>
    <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">RuntimeException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">e</span><span class="o">.</span><span class="na">getMessage</span><span class="o">());</span>
    <span class="o">}</span>
    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"시스템을 종료합니다."</span><span class="o">);</span>
    
    <span class="c1">// 예외를 받지 않으면?</span>
    <span class="n">m</span><span class="o">();</span>
    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"시스템을 종료합니다."</span><span class="o">);</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><h2 id="예외-던지기-예외-상황을-호출자에게-알려주기">예외 던지기: 예외 상황을 호출자에게 알려주기</h2><h3 id="throwable-객체">Throwable 객체</h3><p>throw 명령어를 사용하여 예외 정보를 호출자에게 던질 때, Throwable 타입의 객체를 던져야 한다(<code class="language-plaintext highlighter-rouge">throw [java.lang.Throwable 타입의 객체]</code>). 이 Throwable에는 <code class="language-plaintext highlighter-rouge">java.lang.Error</code>와 <code class="language-plaintext highlighter-rouge">java.lang.Exception</code> 두 부류의 서브 클래스가 있다.</p><h4 id="javalangerror시스템-오류">java.lang.Error(시스템 오류)</h4><ul><li>JVM에서 발생된 오류이다.<li>개발자가 사용하는 클래스가 아니다.<li>이 오류가 발생하면 현재의 시스템 상태를 즉시 백업하고, 실행을 멈춰야 한다. JVM에서 오류가 발생한 경우에는 계속 실행해봐야 근본적으로 문제를 해결할 수 없어 소용이 없기 때문이다.<li>ex) 스택 오버플로우 오류, VM 관련 오류, AWT 윈도우 관련 오류, 스레드 종료 오류 등</ul><h4 id="javalangexception애플리케이션-오류">java.lang.Exception(애플리케이션 오류)</h4><ul><li>애플리케이션에서 발생시킨 오류이다.<li>개발자가 사용하는 클래스이다.<li>적절한 조치를 취한 후 계속 시스템을 실행하게 만들 수 있다.<li>ex) 배열의 인덱스가 무효한 오류, I/O 오류, SQL 오류, Parse 오류, 데이터 포맷 오류 등</ul><h3 id="문법">문법</h3><p>오류를 던진다면 반드시 메서드 선언부에 어떤 오류를 던지는지 선언해야 한다. 어떤 오류를 던지는지 선언함으로써 메서드 호출자에게 이런 오류가 발생할 수 있다고 알려줄 수 있다.</p><p>throw로 던질 수 있는 객체는 오직 java.lang.Throwable 타입만 가능하다. 메서드의 throws에 선언할 수 있는 클래스도 마찬가지로 Throwable 타입만 가능하다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="kd">static</span> <span class="kt">void</span> <span class="nf">m3</span><span class="o">()</span> <span class="kd">throws</span> <span class="nc">String</span> <span class="o">{</span> <span class="c1">// 컴파일 오류!</span>
  <span class="c1">//throw new String(); // 컴파일 오류!</span>
<span class="o">}</span>
</pre></table></code></div></div><p>예외를 던질 때는 Throwable 클래스를 직접 사용할 수 있지만, 그 하위 클래스, 특히 Exception 클래스를 사용하는 것이 권장된다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="kd">static</span> <span class="kt">void</span> <span class="nf">m1</span><span class="o">()</span> <span class="kd">throws</span> <span class="nc">Throwable</span> <span class="o">{</span>
  <span class="k">throw</span> <span class="k">new</span> <span class="nf">Throwable</span><span class="o">();</span> <span class="c1">// ok!</span>
<span class="o">}</span>
</pre></table></code></div></div><p>여러 개의 오류를 던지는 경우에도 메서드 선언부에 그대로 나열해야 한다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre><span class="kd">static</span> <span class="kt">void</span> <span class="nf">m2</span><span class="o">()</span> <span class="kd">throws</span> <span class="nc">FileNotFoundException</span><span class="o">,</span> <span class="nc">RuntimeException</span> <span class="o">{</span>
    <span class="kt">int</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">100</span><span class="o">;</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">a</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="o">)</span>
      <span class="k">throw</span> <span class="k">new</span> <span class="nf">FileNotFoundException</span><span class="o">();</span>
    <span class="k">else</span>
      <span class="k">throw</span> <span class="k">new</span> <span class="nf">RuntimeException</span><span class="o">();</span>
  <span class="o">}</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">){}</span>
<span class="o">}</span>
</pre></table></code></div></div><p>Error 계열의 예외를 던질 경우, 메서드 선언부에 표시하는 것은 선택사항이다. 그러나 Error 계열의 클래스는 JVM 관련 오류일 때 사용하는 클래스이기 때문에 사용하지 않는 것이 권장된다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="kd">static</span> <span class="kt">void</span> <span class="nf">m1</span><span class="o">()</span> <span class="cm">/*throws Error*/</span> <span class="o">{</span>
  <span class="k">throw</span> <span class="k">new</span> <span class="nf">Error</span><span class="o">();</span>
<span class="o">}</span>
</pre></table></code></div></div><p>Exception 계열의 예외를 던질 경우, 반드시 메서드 선언부에 어떤 예외를 던지는지 지정해야 한다. 보통 개발자가 애플리케이션을 작성ㄷ하면서 예외를 던질 경우 이 클래스 및 하위 클래스를 사용한다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="kd">static</span> <span class="kt">void</span> <span class="nf">m1</span><span class="o">()</span> <span class="kd">throws</span> <span class="nc">Exception</span> <span class="o">{</span>
  <span class="k">throw</span> <span class="k">new</span> <span class="nf">Exception</span><span class="o">();</span>
<span class="o">}</span>
</pre></table></code></div></div><p>RuntimeException 예외를 던질 경우, 메서드 선언부에 예외를 던진다고 표시하지 않아도 된다. 스텔스 모드를 지원하기 위해 만든 예외이기 때문이다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="kd">static</span> <span class="kt">void</span> <span class="nf">m</span><span class="o">()</span> <span class="kd">throws</span> <span class="cm">/*RuntimeException*/</span> <span class="o">{</span>
  <span class="k">throw</span> <span class="k">new</span> <span class="nf">RuntimeException</span><span class="o">();</span> <span class="c1">// ok!</span>
<span class="o">}</span>
</pre></table></code></div></div><h2 id="던지는-예외를-메서드에-선언하기">던지는 예외를 메서드에 선언하기</h2><p>메서드에서 발생되는 예외는 메서드 선언부에 모두 나열해야 한다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre><span class="kd">static</span> <span class="kt">void</span> <span class="nf">m</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">Exception</span><span class="o">,</span> <span class="nc">RuntimeException</span><span class="o">,</span> <span class="nc">SQLException</span><span class="o">,</span> <span class="nc">IOException</span> <span class="o">{</span>
  <span class="k">if</span> <span class="o">(</span><span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span> <span class="k">throw</span> <span class="k">new</span> <span class="nc">Exception</span><span class="o">();</span>
  <span class="k">else</span> <span class="nf">if</span> <span class="o">(</span><span class="k">if</span> <span class="o">==</span> <span class="mi">1</span><span class="o">)</span> <span class="k">throw</span> <span class="k">new</span> <span class="nc">RuntimeException</span><span class="o">();</span>
  <span class="k">else</span> <span class="nf">if</span> <span class="o">(</span><span class="k">if</span> <span class="o">==</span> <span class="mi">2</span><span class="o">)</span> <span class="k">throw</span> <span class="k">new</span> <span class="nc">SQLException</span><span class="o">();</span>
  <span class="k">else</span> <span class="nf">if</span> <span class="o">(</span><span class="k">if</span> <span class="o">==</span> <span class="mi">3</span><span class="o">)</span> <span class="k">throw</span> <span class="k">new</span> <span class="nc">IOException</span><span class="o">();</span>
<span class="o">}</span>
</pre></table></code></div></div><h3 id="공통분모를-사용하여-퉁치는-방법">공통분모를 사용하여 퉁치는 방법</h3><p>메서드에서 발생하는 예외의 공통 수퍼클래스를 지정하여 여러 개를 나열하지 않을 수 있다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre><span class="kd">static</span> <span class="kt">void</span> <span class="nf">m</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">Exception</span> <span class="o">{</span>
  <span class="k">if</span> <span class="o">(</span><span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span> <span class="k">throw</span> <span class="k">new</span> <span class="nc">Exception</span><span class="o">();</span>
  <span class="k">else</span> <span class="nf">if</span> <span class="o">(</span><span class="k">if</span> <span class="o">==</span> <span class="mi">1</span><span class="o">)</span> <span class="k">throw</span> <span class="k">new</span> <span class="nc">RuntimeException</span><span class="o">();</span>
  <span class="k">else</span> <span class="nf">if</span> <span class="o">(</span><span class="k">if</span> <span class="o">==</span> <span class="mi">2</span><span class="o">)</span> <span class="k">throw</span> <span class="k">new</span> <span class="nc">SQLException</span><span class="o">();</span>
  <span class="k">else</span> <span class="nf">if</span> <span class="o">(</span><span class="k">if</span> <span class="o">==</span> <span class="mi">3</span><span class="o">)</span> <span class="k">throw</span> <span class="k">new</span> <span class="nc">IOException</span><span class="o">();</span>
<span class="o">}</span>
</pre></table></code></div></div><p>그러나 호출자에게 어떤 오류가 발생하는지 정확하게 알려주는 것이 유지 보수에 도움이 된다. 따라서 가능한 해당 메서드에서 발생하는 예외는 모두 나열하는 것이 좋다!</p><h2 id="던지는-예외-받기">던지는 예외 받기</h2><p>다음과 같이 예외를 던지는 메서드가 있다고 하자.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre><span class="kd">static</span> <span class="kt">void</span> <span class="nf">m</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">Exception</span><span class="o">,</span> <span class="nc">RuntimeException</span><span class="o">,</span> <span class="nc">SQLException</span><span class="o">,</span> <span class="nc">IOException</span> <span class="o">{</span>
  <span class="k">if</span> <span class="o">(</span><span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span> <span class="k">throw</span> <span class="k">new</span> <span class="nc">Exception</span><span class="o">();</span>
  <span class="k">else</span> <span class="nf">if</span> <span class="o">(</span><span class="k">if</span> <span class="o">==</span> <span class="mi">1</span><span class="o">)</span> <span class="k">throw</span> <span class="k">new</span> <span class="nc">RuntimeException</span><span class="o">();</span>
  <span class="k">else</span> <span class="nf">if</span> <span class="o">(</span><span class="k">if</span> <span class="o">==</span> <span class="mi">2</span><span class="o">)</span> <span class="k">throw</span> <span class="k">new</span> <span class="nc">SQLException</span><span class="o">();</span>
  <span class="k">else</span> <span class="nf">if</span> <span class="o">(</span><span class="k">if</span> <span class="o">==</span> <span class="mi">3</span><span class="o">)</span> <span class="k">throw</span> <span class="k">new</span> <span class="nc">IOException</span><span class="o">();</span>
  <span class="k">else</span> <span class="nf">if</span> <span class="o">(</span><span class="n">i</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="o">)</span>
      <span class="k">throw</span> <span class="k">new</span> <span class="nf">Error</span><span class="o">();</span> <span class="c1">// 시스템 오류가 발생하다고 가정하자!</span>
<span class="o">}</span>
</pre></table></code></div></div><p>예외를 던질 수 있다고 선언된 메서드를 호출할 때, 예외 처리를 하지 않으면 컴파일 오류가 발생한다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
  <span class="c1">//m(1); =&gt; 컴파일 오류</span>
<span class="o">}</span>
</pre></table></code></div></div><h3 id="방법1-예외-처리-책임을-상위-호출자에게-위임">방법1: 예외 처리 책임을 상위 호출자에게 위임</h3><p>예외를 처리하고 싶지 않다면 예외 처리 책임을 상위 호출자에게 위임할 수 있다.</p><p>위 코드에서 컴파일 오류는 발생하지 않지만, main()의 상위 호출자에게 예외 처리 책임을 위임하고 있다. main()의 호출자는 JVM이고, JVM은 main()에서 던지는 예외를 받는 순간 즉시 실행을 멈춘다. 그래서 main()의 호출자에게 책임을 넘기는 것은 바람직하지 않다. main()은 예외 처리의 마지막 보루라고 할 수 있다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">Exception</span><span class="o">{</span>
  <span class="n">m</span><span class="o">(</span><span class="mi">1</span><span class="o">);</span>
<span class="o">}</span>
</pre></table></code></div></div><h3 id="방법2-try--catch">방법2: try ~ catch</h3><p><code class="language-plaintext highlighter-rouge">try ~ catch</code>를 사용하여 코드 실행 중에 발생된 예외를 중간에 가로챈다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
  <span class="k">try</span> <span class="o">{</span>
    <span class="c1">// try 블록에서 예외가 발생할 수 있는 메서드를 호출한다.</span>
    <span class="n">m</span><span class="o">(</span><span class="mi">1</span><span class="o">);</span>
  <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">IOException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"IOException 발생"</span><span class="o">);</span>
  <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">SQLException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"SQLException 발생"</span><span class="o">);</span>
  <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">RuntimeException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"RuntimeException 발생"</span><span class="o">);</span>
  <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"기타 Exception 발생"</span><span class="o">);</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><p>catch 블록을 여러 개 사용할 때는 순서에 주의한다. 여러 개의 예외를 받을 때 수퍼 클래스의 변수로 먼저 받지 말아야 한다. 만약 받는다면 그 클래스의 모든 서브 클래스 객체도 다 받게 된다. 즉 서브 클래스의 변수에서 받을 기회조차 없다. 예외 객체를 정확하게 받으려면 위의 코드처럼 서브 클래스 예외부터 받아야 한다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
  <span class="k">try</span> <span class="o">{</span>
    <span class="n">m</span><span class="o">(</span><span class="mi">1</span><span class="o">);</span>
  <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>    
  <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">IOException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span> <span class="c1">// 컴파일 오류! </span>
  <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">SQLException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
  <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">RuntimeException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
  <span class="o">}</span> 
<span class="o">}</span>
</pre></table></code></div></div><p>다형적 변수의 특징을 이용하여 여러 예외를 한 catch에서 받을 수 있다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
  <span class="k">try</span> <span class="o">{</span>
    <span class="n">m1</span><span class="o">();</span>
  <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
    <span class="c1">//RuntimeException, SQLException, IOException 모두</span>
    <span class="c1">//Exception의 서브 클래스이기 때문에 이 블록에서 모두 처리할 수 있다.</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><p>OR 연산자를 사용하여 여러 개의 예외를 묶어 받을 수 있다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
  <span class="k">try</span> <span class="o">{</span>
    <span class="n">m</span><span class="o">(</span><span class="mi">1</span><span class="o">);</span>
  <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">RuntimeException</span> <span class="o">|</span> <span class="nc">SQLException</span> <span class="o">|</span> <span class="nc">IOException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
    
  <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
    
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><p>가능한 Error 계열의 시스템 예외를 받지 말자. 받더라도 현재의 프로그램을 종료하기 전에 필수적으로 수행해야 하는 마무리 작업만 수행하도록 하자. 시스템 예외는 당장 프로그램을 정상적으로 실행할 수 없는 상태일 때 발생하기 때문이다. 정상적인 복구가 안 되는 예외임으로 이 예외를 처리해서는 안 된다. 시스템을 멈출 수밖에 없다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
  <span class="k">try</span> <span class="o">{</span>
    <span class="n">m</span><span class="o">(-</span><span class="mi">1</span><span class="o">);</span>
  <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"애플리케이션 예외 발생!"</span><span class="o">);</span>
  <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">Error</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"시스템 예외 발생!"</span><span class="o">);</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><p>Throwable 변수로 예외를 받지 않도록 주의하자. catch문을 작성할 때 Throwable 변수로 선언하면 시스템 오류인 Error까지 받기 때문에 JVM에서 발생된 오류에 대해서도 예외 처리를 하는 문제가 발생한다. 시스템 오류는 애플리케이션에서 처리할 수 없으므로 실무에서는 예외를 받을 때 Throwable 변수를 사용하지 않는다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
  <span class="k">try</span> <span class="o">{</span>
    <span class="n">m</span><span class="o">(-</span><span class="mi">1</span><span class="o">);</span>
  <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">Throwable</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"애플리케이션 예외 발생!"</span><span class="o">);</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><p>다음과 같이 Exception 변수를 사용하면 애플리케이션 예외를 처리하고, 시스템 예외는 main() 호출자인 JVM에게 위임하게 된다. 이렇게 Exception 계열의 애플리케이션 예외만 처리하자.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
  <span class="k">try</span> <span class="o">{</span>
    <span class="n">m</span><span class="o">(-</span><span class="mi">1</span><span class="o">);</span>
  <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"애플리케이션 예외 발생!"</span><span class="o">);</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><h2 id="예외-처리-후-마무리-작업">예외 처리 후 마무리 작업</h2><h3 id="finally-블록">finally 블록</h3><p>정상적으로 실행하든, 아니면 예외가 발생하여 catch 블록을 실행하든 finally 블록은 무조건 실행한다. 즉 try ~ catch ~ 블록을 나가기 전에 반드시 실행한다. 그래서 이 블록에는 try에서 사용한 자원을 해제시키는 코드를 주로 둔다. 자원에는 파일, DB 커넥션, 소켓 커넥션, 대량의 메모리 등이 있다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
  <span class="k">try</span> <span class="o">{</span>
    <span class="n">m</span><span class="o">(</span><span class="mi">0</span><span class="o">);</span>
    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"try"</span><span class="o">);</span>
  <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">RuntimeException</span> <span class="o">|</span> <span class="nc">SQLException</span> <span class="o">|</span> <span class="nc">IOException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"catch 1"</span><span class="o">);</span>
  <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"catch 2"</span><span class="o">);</span>
  <span class="o">}</span> <span class="k">finally</span> <span class="o">{</span>
    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"finally"</span><span class="o">);</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><p>try 블록을 나가기 전에 무조건 실행해야 할 작업이 있다면 catch 블록이 없어도 finally 블록만 사용할 수 있다. 만약 여기서 try 블록이 없이 <code class="language-plaintext highlighter-rouge">m(1); System.out.println("마무리 작업 실행!");</code>이라고 정의되어 있다면, m(1)에서 예외가 발생했을 경우 그 다음 코드는 실행되지 않을 것이다. 예외가 발생할 수 있는 메서드를 사용할 때 반드시 실행되어야 하는 작업이 있다면 finally 블록을 사용할 수밖에 없다.</p><p>다음 코드에서 m()에서 발생된 예외는 try 블록에서 받지 않고 main() 호출자에게 위임한다. main() 선언부에 위임할 예외의 종류를 표시해야 한다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">Exception</span> <span class="o">{</span>
  <span class="k">try</span> <span class="o">{</span>
    <span class="n">m</span><span class="o">(</span><span class="mi">1</span><span class="o">);</span>
  <span class="o">}</span> <span class="k">finally</span> <span class="o">{</span>
    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"마무리 작업 실행!"</span><span class="o">);</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><h4 id="자원-해제">자원 해제</h4><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
  <span class="c1">// 키보드 입력을 읽어들이는 도구 준비</span>
  <span class="nc">Scanner</span> <span class="n">keyScan</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Scanner</span><span class="o">(</span><span class="nc">System</span><span class="o">.</span><span class="na">in</span><span class="o">);</span>
  
  <span class="c1">// 스캐너 객체를 사요애하여 키보드 입력을 읽어들인다.</span>
  <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="s">"입력&gt; "</span><span class="o">);</span>
  <span class="kt">int</span> <span class="n">value</span> <span class="o">=</span> <span class="n">keyScan</span><span class="o">.</span><span class="na">nextInt</span><span class="o">();</span>
  <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">value</span> <span class="o">*</span> <span class="n">value</span><span class="o">);</span>
  <span class="n">keyScan</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
<span class="o">}</span>
</pre></table></code></div></div><p>프로그램을 즉시 종료한다면 <code class="language-plaintext highlighter-rouge">Scanner</code>를 다 사용하고 난 다음에 굳이 스캐너에 연결된 키보드와 연결을 끊을 필요는 없다. JVM이 종료되면 OS는 JVM이 사용한 모든 자원을 자동으로 회수하기 때문에 굳이 <code class="language-plaintext highlighter-rouge">close()</code>를 호출하지 않아도 된다.</p><p>그러나 365일 24시간 내내 실행되는 시스템이라면, 키보드 입력을 사용하지 않는 동안에는 다른 프로그램에서 사용할 수 있도록 스캐너와 연결된 키보드를 풀어줘야 한다. 이것을 <strong>자원 해제</strong>라고 한다. 보통 자원해제시키는 메서드의 이름은 <code class="language-plaintext highlighter-rouge">close()</code>이다. 지금까지 짠 프로그램은 바로 종료되는 프로그램이기 때문에 <code class="language-plaintext highlighter-rouge">close()</code>를 사용하여 자원을 해제하지 않아도 괜찮았지만, 앞으로 자바로 프로그램을 짤 영역은 서버 쪽이다. 즉 365일 24시간 내내 실행되는 서버쪽 프로그램을 개발하는 것이기 때문에, 항상 자원을 사용한 후 해제시키는 것을 습관적으로 해야 한다.</p><p>문제는 <code class="language-plaintext highlighter-rouge">close()</code>를 호출하기 전에 예외가 발생한다면 제대로 자원을 해제시키지도 못한다는 것이다. 그러나 정상적으로 실행되든 예외가 발생하든 상관 없이 자원해제 같은 일은 반드시 실행해야 한다. <code class="language-plaintext highlighter-rouge">finally</code> 블록을 사용하면 이 문제를 해결할 수 있다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
  <span class="nc">Scanner</span> <span class="n">keyScan</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
  <span class="k">try</span> <span class="o">{</span>
    <span class="n">keyScan</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Scanner</span><span class="o">(</span><span class="nc">System</span><span class="o">.</span><span class="na">in</span><span class="o">);</span>
    
    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="s">"입력&gt; "</span><span class="o">);</span>
    <span class="kt">int</span> <span class="n">value</span> <span class="o">=</span> <span class="n">keyScan</span><span class="o">.</span><span class="na">nextInt</span><span class="o">();</span>
    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">value</span> <span class="o">*</span> <span class="n">value</span><span class="o">);</span>
  <span class="o">}</span> <span class="k">finally</span> <span class="o">{</span>
    <span class="n">keyScan</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"스캐너 자원 해제!"</span><span class="o">);</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><h3 id="try-with-resources">try-with-resources</h3><p>자원해제시키는 코드를 매번 작성하기 귀찮다면 <code class="language-plaintext highlighter-rouge">try-with-resources</code> 문법을 사용하자. 자동으로 자원해제하기 때문에 굳이 finally 블록에서 <code class="language-plaintext highlighter-rouge">close()</code>를 직접 호출할 필요가 없다. 단, <code class="language-plaintext highlighter-rouge">java.lang.AutoCloseable</code> 구현체에 대해서만 가능하다. <code class="language-plaintext highlighter-rouge">AutoCloseable</code> 인터페이스 구현체는 <code class="language-plaintext highlighter-rouge">close()</code> 메서드를 가지고 있음을 보증하고 있다.</p><p>문법: <code class="language-plaintext highlighter-rouge">try (java.lang.AutoCloseable 구현체) {...}</code></p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
</pre><td class="rouge-code"><pre><span class="kd">static</span> <span class="kt">void</span> <span class="nf">m</span><span class="o">()</span> <span class="kd">throws</span> <span class="nc">Exception</span> <span class="o">{</span>
  <span class="k">try</span> <span class="o">(</span><span class="nc">Scanner</span> <span class="n">keyScan</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Scanner</span><span class="o">(</span><span class="nc">System</span><span class="o">.</span><span class="na">in</span><span class="o">);</span>
      <span class="nc">FileReader</span> <span class="n">in</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">FileReader</span><span class="o">(</span><span class="s">"Hello.java"</span><span class="o">);</span>
 
      <span class="c1">// 반드시 AutoCloseable 구현체여야 한다.</span>
      <span class="c1">//String s = "Hello"</span>
      
      <span class="c1">// 변수 선언만 올 수 있다.</span>
      <span class="c1">//if (true) {}</span>
      <span class="o">)</span> <span class="o">{</span>
    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"입력&gt; "</span><span class="o">);</span>
    <span class="kt">int</span> <span class="n">value</span> <span class="o">=</span> <span class="n">keyScan</span><span class="o">.</span><span class="na">nextInt</span><span class="o">();</span>
    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">value</span> <span class="o">*</span> <span class="n">value</span><span class="o">);</span>
  <span class="o">}</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">Exception</span> <span class="o">{</span>
  <span class="n">m</span><span class="o">();</span>
<span class="o">}</span>
</pre></table></code></div></div><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
</pre><td class="rouge-code"><pre><span class="kd">static</span> <span class="kd">class</span> <span class="nc">A</span> <span class="o">{}</span>
<span class="kd">static</span> <span class="kd">class</span> <span class="nc">B</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">close</span><span class="o">()</span> <span class="kd">throws</span> <span class="nc">Exception</span> <span class="o">{</span>
    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"B 클래스의 자원을 해제하였습니다."</span><span class="o">)</span>
  <span class="o">}</span>
<span class="o">}</span>
<span class="kd">static</span> <span class="kd">class</span> <span class="nc">C</span> <span class="kd">implements</span> <span class="nc">AutoCloseable</span> <span class="o">{</span>
  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">close</span><span class="o">()</span> <span class="kd">throws</span> <span class="nc">Exception</span> <span class="o">{</span>
    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"C 클래스의 자원을 해제하였습니다."</span><span class="o">);</span>
  <span class="o">}</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
  <span class="c1">// A클래스는 AutoCloseable 구현체가 아니기 때문에 여기에 선언할 수 없다.</span>
  <span class="c1">// B클래스에 close() 메서드가 있어도 </span>
  <span class="c1">// AutoCloseable 구현체가 아니기 때문에 선언할 수 없다.</span>
  <span class="k">try</span> <span class="o">(</span><span class="no">C</span> <span class="n">obj</span> <span class="o">=</span> <span class="k">new</span> <span class="no">C</span><span class="o">())</span> <span class="o">{</span>
    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"try 블록 실행..."</span><span class="o">);</span>
  <span class="o">}</span>
  <span class="c1">// finally 블록에서 C의 close()를 호출하지 않아도 자동으로 호출한다.</span>
<span class="o">}</span>

<span class="cm">/*
try 블록 실행...
B 클래스의 자원을 해제하였습니다.
*/</span>
</pre></table></code></div></div><p>예외가 발생하면 try 블록을 나가기 전에 close()가 먼저 호출된다. 그 후 catch 블록이 실행된다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
</pre><td class="rouge-code"><pre><span class="kd">static</span> <span class="kd">class</span> <span class="nc">B</span> <span class="kd">implements</span> <span class="nc">AutoCloseable</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">m</span><span class="o">(</span><span class="kt">int</span> <span class="n">value</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">Exception</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">value</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="o">)</span>
      <span class="k">throw</span> <span class="k">new</span> <span class="nf">Exception</span><span class="o">(</span><span class="s">"음수입니다."</span><span class="o">);</span>
    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"m() 호출!"</span><span class="o">);</span>
  <span class="o">}</span>
  
  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">close</span><span class="o">()</span> <span class="kd">throws</span> <span class="nc">Exception</span> <span class="o">{</span>
    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"close() 호출!"</span><span class="o">);</span>
  <span class="o">}</span>
  
  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">try</span> <span class="o">(</span><span class="no">B</span> <span class="n">obj</span> <span class="o">=</span> <span class="k">new</span> <span class="no">B</span><span class="o">())</span> <span class="o">{</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"try 블록 실행.. 시작"</span><span class="o">);</span>
      <span class="n">obj</span><span class="o">.</span><span class="na">m</span><span class="o">(-</span><span class="mi">100</span><span class="o">);</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"try 블록 실행... 종료"</span><span class="o">);</span>
    <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"예외 발생!: "</span> <span class="o">+</span> <span class="n">e</span><span class="o">.</span><span class="na">getMessage</span><span class="o">());</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>
<span class="cm">/*
try 블록 실행.. 시작
close() 호출!
예외 발생!: 음수입니다.
*/</span>
</pre></table></code></div></div><p>변수 선언은 반드시 괄호 안에 해야 한다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
  <span class="no">B</span> <span class="n">obj</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
  <span class="k">try</span> <span class="o">(</span><span class="n">obj</span> <span class="o">=</span> <span class="k">new</span> <span class="no">B</span><span class="o">())</span> <span class="o">{</span> <span class="c1">// 컴파일 오류!</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><h2 id="exception-예외-던지고-받기">Exception 예외 던지고 받기</h2><p>메서드에서 발생된 예외를 상위 호출자에게 던지려면 상위 호출자 또한 메서드 선언부에 해당 예외를 기술해야 한다. 해당 메서드를 사용할 개발자에게 “이 메서드 안에서 예외가 발생합니다”라고 알려주는 역할을 한다. 이처럼 예외를 상위 호출자에게 전달하려면, 그 호출 경로에 있는 모든 메서드에 throws 문장을 선언해야 하는 번거로움이 있다. 다른 방법이 없다. 무조건 선언해야 한다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Exam0120</span> <span class="o">{</span>
  <span class="kd">static</span> <span class="kt">void</span> <span class="n">m1</span> <span class="kd">throws</span> <span class="nc">Exception</span> <span class="o">{</span> <span class="n">m2</span><span class="o">();</span> <span class="o">}</span>
  <span class="kd">static</span> <span class="kt">void</span> <span class="n">m2</span> <span class="kd">throws</span> <span class="nc">Exception</span> <span class="o">{</span> <span class="n">m3</span><span class="o">();</span> <span class="o">}</span>
  <span class="kd">static</span> <span class="kt">void</span> <span class="n">m3</span> <span class="kd">throws</span> <span class="nc">Exception</span> <span class="o">{</span> <span class="n">m4</span><span class="o">();</span> <span class="o">}</span>
  <span class="kd">static</span> <span class="kt">void</span> <span class="n">m4</span> <span class="kd">throws</span> <span class="nc">Exception</span> <span class="o">{</span>
    <span class="k">throw</span> <span class="k">new</span> <span class="nf">Exception</span><span class="o">(</span><span class="s">"m4()에서 예외 발생!"</span><span class="o">);</span>
  <span class="o">}</span>
  
  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">try</span> <span class="o">{</span>
      <span class="n">m1</span><span class="o">();</span>
    <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">e</span><span class="o">.</span><span class="na">getMessage</span><span class="o">());</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><p>### RuntimeException</p><p>RuntimeException을 상위 호출자에게 전달할 때는 굳이 메서드 선언부에 지정하지 않아도 된다. 상위 호출자도 RuntimeException 예외를 받을 경우, try ~ catch 예외를 처리하지 않으면 자동으로 그 상위 호출자에게 예외를 던질 것이다. 즉 RuntimeException 계열의 예외를 던지는 메서드를 사용할 때는 그 호출 경로에 있는 모든 메서드에 굳이 throws 문장을 선언할 필요가 없다. 예외를 처리하고 싶은 곳에서 catch 블록으로 받아 처리하면 된다. 이러면 중간에 끼어 있는 메서드를 만들 때 throws 문장을 선언하지 않아도 되어서 편하다. 스텔스처럼 조용히 예외를 전달한다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Exam0120</span> <span class="o">{</span>
  <span class="kd">static</span> <span class="kt">void</span> <span class="n">m1</span> <span class="o">{</span> <span class="n">m2</span><span class="o">();</span> <span class="o">}</span>
  <span class="kd">static</span> <span class="kt">void</span> <span class="n">m2</span> <span class="o">{</span> <span class="n">m3</span><span class="o">();</span> <span class="o">}</span>
  <span class="kd">static</span> <span class="kt">void</span> <span class="n">m3</span> <span class="o">{</span> <span class="n">m4</span><span class="o">();</span> <span class="o">}</span>
  <span class="kd">static</span> <span class="kt">void</span> <span class="n">m4</span> <span class="o">{</span>
    <span class="k">throw</span> <span class="k">new</span> <span class="nf">RuntimeException</span><span class="o">(</span><span class="s">"m4()에서 예외 발생!"</span><span class="o">);</span>
  <span class="o">}</span>
  
  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">try</span> <span class="o">{</span>
      <span class="n">m1</span><span class="o">();</span>
    <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">RuntimeException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">e</span><span class="o">.</span><span class="na">getMessage</span><span class="o">());</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><h2 id="사용자-정의-예외-만들기-예외에-의미-부여">사용자 정의 예외 만들기: 예외에 의미 부여</h2><p>RuntimeException 계열의 예외는 굳이 throws 문장을 선언하지 않아도 되지만, 실행 예외가 발생할 가능성이 있는 메서드를 호출하는 개발자에게 어떤 예외가 발생할 수 있는지 명확하게 제시해주는 것이 유지보수에 도움이 되기 때문에 메서드 선언부에 발생되는 예외를 명시하는 것이 좋다.</p><p>그러나 다음 코드에서 read() 메서드를 사용하는 개발자가 이 메서드에서 RuntimeException을 던진다는 의미에 대해 직관적으로 이해하기는 힘들다. 예외를 던지는 것은 이해하지만, 그 예외가 의미하는 바를 즉시 알아보기 힘들다는 말이다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Exam0120</span> <span class="o">{</span>
  <span class="kd">static</span> <span class="nc">Board</span> <span class="nf">read</span><span class="o">()</span> <span class="kd">throws</span> <span class="nc">RuntimeException</span> <span class="o">{</span>
    <span class="k">try</span> <span class="o">(</span><span class="nc">Scanner</span> <span class="n">keyScan</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Scanner</span><span class="o">(</span><span class="nc">System</span><span class="o">.</span><span class="na">in</span><span class="o">))</span> <span class="o">{</span>
      <span class="nc">Board</span> <span class="n">board</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Board</span><span class="o">();</span>

      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="s">"번호&gt; "</span><span class="o">);</span>
      <span class="n">board</span><span class="o">.</span><span class="na">setNo</span><span class="o">(</span><span class="nc">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">keyScan</span><span class="o">.</span><span class="na">nextLine</span><span class="o">()));</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="s">"제목&gt; "</span><span class="o">);</span>
      <span class="n">board</span><span class="o">.</span><span class="na">setTitle</span><span class="o">(</span><span class="n">keyScan</span><span class="o">.</span><span class="na">nextLine</span><span class="o">());</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="s">"내용&gt; "</span><span class="o">);</span>
      <span class="n">board</span><span class="o">.</span><span class="na">setContent</span><span class="o">(</span><span class="n">keyScan</span><span class="o">.</span><span class="na">nextLine</span><span class="o">());</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="s">"등록일&gt; "</span><span class="o">);</span>
      <span class="n">board</span><span class="o">.</span><span class="na">setCreatedDate</span><span class="o">(</span><span class="nc">Date</span><span class="o">.</span><span class="na">valueOf</span><span class="o">(</span><span class="n">keyScan</span><span class="o">.</span><span class="na">nextLine</span><span class="o">()));</span>

      <span class="k">return</span> <span class="n">board</span><span class="o">;</span>
    <span class="o">}</span>
  <span class="o">}</span>

  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">try</span> <span class="o">{</span>
      <span class="nc">Board</span> <span class="n">board</span> <span class="o">=</span> <span class="n">read</span><span class="o">();</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"---------------------"</span><span class="o">);</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">printf</span><span class="o">(</span><span class="s">"번호: %d\n"</span><span class="o">,</span> <span class="n">board</span><span class="o">.</span><span class="na">getNo</span><span class="o">());</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">printf</span><span class="o">(</span><span class="s">"제목: %s\n"</span><span class="o">,</span> <span class="n">board</span><span class="o">.</span><span class="na">getTitle</span><span class="o">());</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">printf</span><span class="o">(</span><span class="s">"내용: %s\n"</span><span class="o">,</span> <span class="n">board</span><span class="o">.</span><span class="na">getContent</span><span class="o">());</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">printf</span><span class="o">(</span><span class="s">"등록일: %s\n"</span><span class="o">,</span> <span class="n">board</span><span class="o">.</span><span class="na">getCreatedDate</span><span class="o">());</span>

    <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">RuntimeException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">e</span><span class="o">.</span><span class="na">getMessage</span><span class="o">());</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"게시물 입력 중에 오류 발생!"</span><span class="o">);</span>
      <span class="c1">// e.printStackTrace();</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><p>실무에서는 개발자에게 예외의 의미를 직관적으로 알 수 있도록 RuntimeException같은 평범한, 의미가 모호한 이름의 클래스를 사용하지 않는다. 대신에 기존 예외를 상속받아 의미있는 이름으로 서브 클래스를 정의한 다음 그 예외 클래스를 사용한다. 즉 <strong>사용자 정의 예외를 만들어 사용한다.</strong> 원본 예외 대신 BoardException이 발생하면 게시물 관리 작업을 하다가 오류가 발생했음을 직관적으로 알게 될 것이다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Exam0130</span> <span class="o">{</span>
  <span class="kd">static</span> <span class="nc">Board</span> <span class="nf">read</span><span class="o">()</span> <span class="kd">throws</span> <span class="nc">BoardException</span> <span class="o">{</span>
    <span class="k">try</span> <span class="o">(</span><span class="nc">Scanner</span> <span class="n">keyScan</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Scanner</span><span class="o">(</span><span class="nc">System</span><span class="o">.</span><span class="na">in</span><span class="o">))</span> <span class="o">{</span>
      <span class="nc">Board</span> <span class="n">board</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Board</span><span class="o">();</span>

      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="s">"번호&gt; "</span><span class="o">);</span>
      <span class="n">board</span><span class="o">.</span><span class="na">setNo</span><span class="o">(</span><span class="nc">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">keyScan</span><span class="o">.</span><span class="na">nextLine</span><span class="o">()));</span>

      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="s">"제목&gt; "</span><span class="o">);</span>
      <span class="n">board</span><span class="o">.</span><span class="na">setTitle</span><span class="o">(</span><span class="n">keyScan</span><span class="o">.</span><span class="na">nextLine</span><span class="o">());</span>

      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="s">"내용&gt; "</span><span class="o">);</span>
      <span class="n">board</span><span class="o">.</span><span class="na">setContent</span><span class="o">(</span><span class="n">keyScan</span><span class="o">.</span><span class="na">nextLine</span><span class="o">());</span>

      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="s">"등록일&gt; "</span><span class="o">);</span>
      <span class="n">board</span><span class="o">.</span><span class="na">setCreatedDate</span><span class="o">(</span><span class="nc">Date</span><span class="o">.</span><span class="na">valueOf</span><span class="o">(</span><span class="n">keyScan</span><span class="o">.</span><span class="na">nextLine</span><span class="o">()));</span>

      <span class="k">return</span> <span class="n">board</span><span class="o">;</span>
    <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">원본오류</span><span class="o">)</span> <span class="o">{</span>

      <span class="k">throw</span> <span class="k">new</span> <span class="nf">BoardException</span><span class="o">(</span><span class="s">"게시물 입력 도중 오류 발생!"</span><span class="o">,</span> <span class="n">원본오류</span><span class="o">);</span>
    <span class="o">}</span>
  <span class="o">}</span>

  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">try</span> <span class="o">{</span>
      <span class="nc">Board</span> <span class="n">board</span> <span class="o">=</span> <span class="n">read</span><span class="o">();</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"---------------------"</span><span class="o">);</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">printf</span><span class="o">(</span><span class="s">"번호: %d\n"</span><span class="o">,</span> <span class="n">board</span><span class="o">.</span><span class="na">getNo</span><span class="o">());</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">printf</span><span class="o">(</span><span class="s">"제목: %s\n"</span><span class="o">,</span> <span class="n">board</span><span class="o">.</span><span class="na">getTitle</span><span class="o">());</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">printf</span><span class="o">(</span><span class="s">"내용: %s\n"</span><span class="o">,</span> <span class="n">board</span><span class="o">.</span><span class="na">getContent</span><span class="o">());</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">printf</span><span class="o">(</span><span class="s">"등록일: %s\n"</span><span class="o">,</span> <span class="n">board</span><span class="o">.</span><span class="na">getCreatedDate</span><span class="o">());</span>

    <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">BoardException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">e</span><span class="o">.</span><span class="na">getMessage</span><span class="o">());</span>
      <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
    <span class="o">}</span>

  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><p>다음 클래스는 생성자가 호출될 때 그와 대응하는 수퍼 클래스의 생성자를 호출하는 일 외에는 다른 작업을 수행하지 않는다. 이 클래스는 예외 클래스 기능을 확장하기 위함이 아니라, 의미 있는 이름을 가진 예외 클래스를 만드는 것이 목적이다. 즉, 예외가 발생했을 때 클래스 이름으로 어떤 예외인지 쉽게 추측하기 위함이다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
</pre><td class="rouge-code"><pre><span class="kn">package</span> <span class="nn">com.eomcs.exception.ex5</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">BoardException</span> <span class="kd">extends</span> <span class="nc">RuntimeException</span> <span class="o">{</span>

  <span class="kd">public</span> <span class="nf">BoardException</span><span class="o">()</span> <span class="o">{</span>
    <span class="kd">super</span><span class="o">();</span>
  <span class="o">}</span>

  <span class="kd">public</span> <span class="nf">BoardException</span><span class="o">(</span><span class="nc">String</span> <span class="n">message</span><span class="o">,</span> <span class="nc">Throwable</span> <span class="n">cause</span><span class="o">,</span> <span class="kt">boolean</span> <span class="n">enableSuppression</span><span class="o">,</span>
      <span class="kt">boolean</span> <span class="n">writableStackTrace</span><span class="o">)</span> <span class="o">{</span>
    <span class="kd">super</span><span class="o">(</span><span class="n">message</span><span class="o">,</span> <span class="n">cause</span><span class="o">,</span> <span class="n">enableSuppression</span><span class="o">,</span> <span class="n">writableStackTrace</span><span class="o">);</span>
  <span class="o">}</span>

  <span class="kd">public</span> <span class="nf">BoardException</span><span class="o">(</span><span class="nc">String</span> <span class="n">message</span><span class="o">,</span> <span class="nc">Throwable</span> <span class="n">cause</span><span class="o">)</span> <span class="o">{</span>
    <span class="kd">super</span><span class="o">(</span><span class="n">message</span><span class="o">,</span> <span class="n">cause</span><span class="o">);</span>
  <span class="o">}</span>

  <span class="kd">public</span> <span class="nf">BoardException</span><span class="o">(</span><span class="nc">String</span> <span class="n">message</span><span class="o">)</span> <span class="o">{</span>
    <span class="kd">super</span><span class="o">(</span><span class="n">message</span><span class="o">);</span>
  <span class="o">}</span>

  <span class="kd">public</span> <span class="nf">BoardException</span><span class="o">(</span><span class="nc">Throwable</span> <span class="n">cause</span><span class="o">)</span> <span class="o">{</span>
    <span class="kd">super</span><span class="o">(</span><span class="n">cause</span><span class="o">);</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/bitcamp/'>bitcamp</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/bitcamp/" class="post-tag no-text-decoration" >bitcamp</a> <a href="/tags/java/" class="post-tag no-text-decoration" >java</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=학원 #39일차: 예외처리 - 하연&url=https://hayeon17kim.github.io//posts/200914-39/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=학원 #39일차: 예외처리 - 하연&u=https://hayeon17kim.github.io//posts/200914-39/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=학원 #39일차: 예외처리 - 하연&url=https://hayeon17kim.github.io//posts/200914-39/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/system-deisign-capacity-estimation/">System Design: Capacity Estimate</a><li><a href="/posts/today-i-learned-2021-04-27/">주니어 성장일기: 2021.04.27</a><li><a href="/posts/today-i-learned-2021-04-26/">주니어 성장일기: 2021.04.26</a><li><a href="/posts/fastcampus-01/">자료구조와 알고리즘이란</a><li><a href="/posts/today-i-learned-2021-04-25/">주니어 성장일기: 2021.04.25</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/java/">java</a> <a class="post-tag" href="/tags/javascript/">JavaScript</a> <a class="post-tag" href="/tags/bitcamp/">bitcamp</a> <a class="post-tag" href="/tags/modernjs/">modernJS</a> <a class="post-tag" href="/tags/project/">project</a> <a class="post-tag" href="/tags/algorithm/">algorithm</a> <a class="post-tag" href="/tags/trouble-shooting/">trouble-shooting</a> <a class="post-tag" href="/tags/devil/">devil</a> <a class="post-tag" href="/tags/corejs/">corejs</a> <a class="post-tag" href="/tags/network/">network</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/201123-85/"><div class="card-body"> <span class="timeago small" > Nov 23, 2020 <i class="unloaded">2020-11-23T00:00:00+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>학원 #85일차:서블릿 프로그래밍, WAS, JavaEE와 Servlet 컨테이너, Servlet 인터페이스의 Life-cycle 메서드</h3><div class="text-muted small"><p> 서블릿 프로그래밍 웹 애플리케이션 서버 아키텍쳐의 개념 JavaEE와 Servlet API의 관계 JavaEE 구현체와 서블릿 컨테이너의 관계 eomcs-web-project/src-00 예제 실습 Servlet 인터페이스와 Life-cycle 메서드 WAS(Web Application Server) 아키텍처 이전까지는 사...</p></div></div></a></div><div class="card"> <a href="/posts/201124-86/"><div class="card-body"> <span class="timeago small" > Nov 24, 2020 <i class="unloaded">2020-11-24T00:00:00+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>학원 #86일차:서블릿 프로그래밍, 프로젝트를 WAS 아키텍처로 전환</h3><div class="text-muted small"><p> 서블릿 컨테이너가 관리하는 컴포넌트는 서블릿, 필터, 리스너로 3가지이다. Servlet 만들기 1. javax.servlet.Servlet 인터페이스 구현 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38...</p></div></div></a></div><div class="card"> <a href="/posts/201125-87/"><div class="card-body"> <span class="timeago small" > Nov 25, 2020 <i class="unloaded">2020-11-25T00:00:00+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>학원 #87일차: HTML 태그 사용법</h3><div class="text-muted small"><p> HTML/CSS 학습법: 결과 화면 먼저 보고 소스코드를 확인하자 UI와 UX UX(User Experience; 사용자 경험): 사용자 편의성 ex: 링크에 hover했을 때 커서가 손모양으로 바뀌어야 한다. UI(User Interface): 기능을 하는 화면이 있는가 HTML ...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/network05/" class="btn btn-outline-primary" prompt="Older"><p>💻 HTTP #5: HTTP의 진화</p></a> <a href="/posts/200915-40/" class="btn btn-outline-primary" prompt="Newer"><p>학원 #40일차: 파일 입출력</p></a></div><div id="disqus" class="pt-2 pb-2"><p class="text-center text-muted small pb-5"> Loading comments from <a href="https://disqus.com/">Disqus</a> ...</p></div><script src="/assets/js/lib/jquery.disqusloader.min.js"></script> <script> const options = { scriptUrl: '//hayeon17kim-github-io.disqus.com/embed.js', disqusConfig: function() { this.page.title = '학원 #39일차: 예외처리'; this.page.url = 'https://hayeon17kim.github.io//posts/200914-39/'; this.page.identifier = '/posts/200914-39/'; } }; $.disqusLoader('#disqus', options); </script></div></div></div><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script> <script type="text/javascript"> const imgs = document.querySelectorAll('.post-content img'); const observer = lozad(imgs); observer.observe(); </script><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2021 <a href="https://twitter.com/MONI56219559">hayeon_kim</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/java/">java</a> <a class="post-tag" href="/tags/javascript/">JavaScript</a> <a class="post-tag" href="/tags/bitcamp/">bitcamp</a> <a class="post-tag" href="/tags/modernjs/">modernJS</a> <a class="post-tag" href="/tags/project/">project</a> <a class="post-tag" href="/tags/algorithm/">algorithm</a> <a class="post-tag" href="/tags/trouble-shooting/">trouble shooting</a> <a class="post-tag" href="/tags/devil/">devil</a> <a class="post-tag" href="/tags/corejs/">corejs</a> <a class="post-tag" href="/tags/network/">network</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://hayeon17kim.github.io/{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script>
