<!DOCTYPE html><html lang="kr-KR" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="pv-cache-enabled" content="false"><meta name="generator" content="Jekyll v4.2.0" /><meta property="og:title" content="Do it! 자료구조와 함께 배우는 알고리즘 #4장: 스택과 큐(+ 링 버퍼)" /><meta name="author" content="hayeon_kim" /><meta property="og:locale" content="kr_KR" /><meta name="description" content="스택" /><meta property="og:description" content="스택" /><link rel="canonical" href="https://hayeon17kim.github.io//posts/doit04/" /><meta property="og:url" content="https://hayeon17kim.github.io//posts/doit04/" /><meta property="og:site_name" content="하연" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2020-10-19T00:00:00+08:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Do it! 자료구조와 함께 배우는 알고리즘 #4장: 스택과 큐(+ 링 버퍼)" /><meta name="twitter:site" content="@MONI56219559" /><meta name="twitter:creator" content="@hayeon_kim" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"author":{"@type":"Person","name":"hayeon_kim"},"headline":"Do it! 자료구조와 함께 배우는 알고리즘 #4장: 스택과 큐(+ 링 버퍼)","dateModified":"2020-10-19T00:00:00+08:00","datePublished":"2020-10-19T00:00:00+08:00","description":"스택","url":"https://hayeon17kim.github.io//posts/doit04/","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://hayeon17kim.github.io//posts/doit04/"},"@context":"https://schema.org"}</script><title>Do it! 자료구조와 함께 배우는 알고리즘 #4장: 스택과 큐(+ 링 버퍼) | 하연</title><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon.png"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon-precomposed.png"><link rel="apple-touch-icon" sizes="57x57" href="/assets/img/favicons/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/assets/img/favicons/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicons/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/assets/img/favicons/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicons/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/assets/img/favicons/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicons/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/assets/img/favicons/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/assets/img/favicons/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/assets/img/favicons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/manifest.json"><meta name='msapplication-config' content='/assets/img/favicons/browserconfig.xml'><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/assets/img/favicons/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="cdn.jsdelivr.net"><link rel="dns-prefetch" href="cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=UA-173202420-1"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-173202420-1'); }); </script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/img/bio-photo.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">하연</a></div><div class="site-subtitle font-italic">어제보다 나은 코드를 위해</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/projects/" class="nav-link"> <i class="fa-fw fas fa-laptop-code ml-xl-3 mr-xl-3 unloaded"></i> <span>PROJECTS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/hayeon17kim" aria-label="github" class="order-3" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/MONI56219559" aria-label="twitter" class="order-4" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['hayeon17kim','gmail.com'].join('@')" aria-label="email" class="order-5" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" class="order-6" > <i class="fas fa-rss"></i> </a> <span class="icon-border order-2"></span> <span id="mode-toggle-wrapper" class="order-1"> <i class="mode-toggle fas fa-adjust"></i> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } var self = this; /* always follow the system prefers */ this.sysDarkPrefers.addListener(function() { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.updateMermaid(); }); } /* constructor() */ setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode == ModeToggle.DARK_MODE; } get isLightMode() { return this.mode == ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer) ) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } updateMermaid() { if (typeof mermaid !== "undefined") { let expectedTheme = (this.modeStatus === ModeToggle.DARK_MODE? "dark" : "default"); let config = { theme: expectedTheme }; /* re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function() { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.updateMermaid(); } /* flipMode() */ } /* ModeToggle */ let toggle = new ModeToggle(); $(".mode-toggle").click(function() { toggle.flipMode(); }); </script> </span></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Posts </a> </span> <span>Do it! 자료구조와 함께 배우는 알고리즘 #4장: 스택과 큐(+ 링 버퍼)</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Do it! 자료구조와 함께 배우는 알고리즘 #4장: 스택과 큐(+ 링 버퍼)</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Mon, Oct 19, 2020, 12:00 AM +0800" > Oct 19, 2020 <i class="unloaded">2020-10-19T00:00:00+08:00</i> </span> by <span class="author"> hayeon_kim </span></div><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="5191 words">28 min</span></div></div><div class="post-content"><h2 id="스택">스택</h2><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/50407047/96389115-810b0500-11e8-11eb-93bb-d3170fca5fea.png" alt="image" /></p><ul><li>데이터를 일시적으로 저장하기 위한 자료구조로<li>LIFO: 가장 나중에 넣은 데이터를 가장 먼저 꺼낸다.<li>푸시와 팝을 하는 위치를 top이라고 하고, 스택의 가장 아랫부분을 bottom이라고 한다.</ul><p><strong>실습4-1.</strong> IntStack</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
</pre><td class="rouge-code"><pre><span class="kn">package</span> <span class="nn">algorithm.doit.ch04</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">IntStack</span> <span class="o">{</span>
  <span class="kd">private</span> <span class="kt">int</span> <span class="n">max</span><span class="o">;</span> <span class="c1">// 스택 용량</span>
  <span class="kd">private</span> <span class="kt">int</span> <span class="n">ptr</span><span class="o">;</span> <span class="c1">// 스택 포인터</span>
  <span class="kd">private</span> <span class="kt">int</span><span class="o">[]</span> <span class="n">stk</span><span class="o">;</span> <span class="c1">// 스택 본체</span>

  <span class="c1">// 실행 시 예외: 스택이 비어 있음 </span>
  <span class="kd">public</span> <span class="kd">class</span> <span class="nc">EmptyIntStackException</span> <span class="kd">extends</span> <span class="nc">RuntimeException</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="nf">EmptyIntStackException</span><span class="o">()</span> <span class="o">{}</span>
  <span class="o">}</span>
  
  <span class="c1">// 실행 시 예외: 스택이 가득 </span>
  <span class="kd">public</span> <span class="kd">class</span> <span class="nc">OverflowIntStackException</span> <span class="kd">extends</span> <span class="nc">RuntimeException</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="nf">OverflowIntStackException</span><span class="o">()</span> <span class="o">{</span>
    <span class="o">}</span>
  <span class="o">}</span>
  
  <span class="kd">public</span> <span class="nf">IntStack</span><span class="o">(</span><span class="kt">int</span> <span class="n">capacity</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">ptr</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
    <span class="n">max</span> <span class="o">=</span> <span class="n">capacity</span><span class="o">;</span>
    <span class="k">try</span> <span class="o">{</span>
      <span class="n">stk</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="n">max</span><span class="o">];</span>
    <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">OutOfMemoryError</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
      <span class="n">max</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
    <span class="o">}</span>
  <span class="o">}</span>
  
  <span class="kd">public</span> <span class="kt">int</span> <span class="nf">push</span><span class="o">(</span><span class="kt">int</span> <span class="n">x</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">OverflowIntStackException</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">ptr</span> <span class="o">==</span> <span class="n">max</span><span class="o">)</span>
      <span class="k">throw</span> <span class="k">new</span> <span class="nf">OverflowIntStackException</span><span class="o">();</span>
    <span class="k">return</span> <span class="n">stk</span><span class="o">[</span><span class="n">ptr</span><span class="o">++]</span> <span class="o">=</span> <span class="n">x</span><span class="o">;</span>
  <span class="o">}</span>
  
  <span class="kd">public</span> <span class="kt">int</span> <span class="nf">pop</span><span class="o">()</span> <span class="kd">throws</span> <span class="nc">EmptyIntStackException</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">ptr</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span>
      <span class="k">throw</span> <span class="k">new</span> <span class="nf">EmptyIntStackException</span><span class="o">();</span>
    <span class="k">return</span> <span class="n">stk</span><span class="o">[--</span><span class="n">ptr</span><span class="o">];</span>
  <span class="o">}</span>
  
  <span class="kd">public</span> <span class="kt">int</span> <span class="nf">peek</span><span class="o">()</span> <span class="kd">throws</span> <span class="nc">EmptyIntStackException</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">ptr</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span>
      <span class="k">throw</span> <span class="k">new</span> <span class="nf">EmptyIntStackException</span><span class="o">();</span>
    <span class="k">return</span> <span class="n">stk</span><span class="o">[</span><span class="n">ptr</span> <span class="o">-</span><span class="mi">1</span><span class="o">];</span>
  <span class="o">}</span>
  
  <span class="kd">public</span> <span class="kt">int</span> <span class="nf">indexOf</span><span class="o">(</span><span class="kt">int</span> <span class="n">key</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">ptr</span> <span class="o">-</span> <span class="mi">1</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span><span class="o">--)</span> <span class="o">{</span>
      <span class="k">if</span> <span class="o">(</span><span class="n">stk</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">==</span> <span class="n">key</span><span class="o">)</span>
        <span class="k">return</span> <span class="n">i</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="o">;</span>
  <span class="o">}</span>
  
  <span class="c1">// 스택에 대한 푸시와 팝 등 모든 작업은 스택 포인터를 바탕으로 이루어진다.</span>
  <span class="c1">// 따라서 스택의 배열 요솟값을 변경할 필요가 없다.</span>
  <span class="c1">// 모든 요소의 삭제는 스택 포인터 ptr 값을 0으로 하면된다.</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">clear</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">ptr</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
  <span class="o">}</span>
  
  <span class="kd">public</span> <span class="kt">int</span> <span class="nf">capacity</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">max</span><span class="o">;</span>
  <span class="o">}</span>
  
  <span class="kd">public</span> <span class="kt">int</span> <span class="nf">size</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">ptr</span><span class="o">;</span> 
  <span class="o">}</span>
  
  <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">isEmpty</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">ptr</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="o">;</span>
  <span class="o">}</span>
  
  <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">isFull</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">ptr</span> <span class="o">&gt;=</span> <span class="n">max</span><span class="o">;</span>
  <span class="o">}</span>
  
  <span class="c1">// 스택 안의 모든 데이터를 바닥 -&gt; 꼭대기 순서로 출력</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">dump</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">ptr</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"스택이 비어있습니다."</span><span class="o">);</span>
    <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
      <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">ptr</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">stk</span><span class="o">[</span><span class="n">i</span><span class="o">]);</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">();</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><p><strong>실습 4-2.</strong> IntStackTester</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">IntStackTester</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">Scanner</span> <span class="n">sc</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Scanner</span><span class="o">(</span><span class="nc">System</span><span class="o">.</span><span class="na">in</span><span class="o">);</span>
    <span class="nc">IntStack</span> <span class="n">s</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">IntStack</span><span class="o">(</span><span class="mi">64</span><span class="o">);</span>
    
    <span class="k">while</span> <span class="o">(</span><span class="kc">true</span><span class="o">)</span> <span class="o">{</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"현재 데이터 수: "</span> <span class="o">+</span> <span class="n">s</span><span class="o">.</span><span class="na">size</span><span class="o">()</span> <span class="o">+</span><span class="s">" / "</span> <span class="o">+</span> <span class="n">s</span><span class="o">.</span><span class="na">capacity</span><span class="o">());</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"(1) 푸시  (2) 팝  (3) 피크  (4) 덤프  (0) 종료 "</span><span class="o">);</span>
      <span class="kt">int</span> <span class="n">menu</span> <span class="o">=</span> <span class="n">sc</span><span class="o">.</span><span class="na">nextInt</span><span class="o">();</span>
      <span class="k">if</span> <span class="o">(</span><span class="n">menu</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span> <span class="k">return</span><span class="o">;</span>
      <span class="k">switch</span> <span class="o">(</span><span class="n">menu</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">case</span> <span class="mi">1</span><span class="o">:</span>
          <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="s">"데이터: "</span><span class="o">);</span>
          <span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="n">sc</span><span class="o">.</span><span class="na">nextInt</span><span class="o">();</span>
          <span class="k">try</span> <span class="o">{</span>
            <span class="n">s</span><span class="o">.</span><span class="na">push</span><span class="o">(</span><span class="n">x</span><span class="o">);</span>            
          <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">IntStack</span><span class="o">.</span><span class="na">OverflowIntStackException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"스택이 가득 찼습니다."</span><span class="o">);</span>
          <span class="o">}</span>
          <span class="k">break</span><span class="o">;</span>
        <span class="k">case</span> <span class="mi">2</span><span class="o">:</span>
          <span class="k">try</span> <span class="o">{</span>
            <span class="n">x</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="na">pop</span><span class="o">();</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"팝한 데이터는 "</span> <span class="o">+</span> <span class="n">x</span> <span class="o">+</span> <span class="s">"입니다."</span><span class="o">);</span>
          <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">IntStack</span><span class="o">.</span><span class="na">EmptyIntStackException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"스택이 비어 있습니다."</span><span class="o">);</span>
          <span class="o">}</span>
          <span class="k">break</span><span class="o">;</span>
        <span class="k">case</span> <span class="mi">3</span><span class="o">:</span>
          <span class="k">try</span> <span class="o">{</span>
            <span class="n">x</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="na">peek</span><span class="o">();</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"피크한 데이터는 "</span> <span class="o">+</span> <span class="n">x</span> <span class="o">+</span> <span class="s">"입니다."</span><span class="o">);</span>
          <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">IntStack</span><span class="o">.</span><span class="na">EmptyIntStackException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"스택이 비어 있습니다."</span><span class="o">);</span>
          <span class="o">}</span>
          <span class="k">break</span><span class="o">;</span>
        <span class="k">case</span> <span class="mi">4</span><span class="o">:</span>
          <span class="n">s</span><span class="o">.</span><span class="na">dump</span><span class="o">();</span>
          <span class="k">break</span><span class="o">;</span>
      <span class="o">}</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><p><strong>연습문제 Q1.</strong> IntStack의 모든 메서드를 사용하는 프로그램 작성</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Q1</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">Scanner</span> <span class="n">sc</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Scanner</span><span class="o">(</span><span class="nc">System</span><span class="o">.</span><span class="na">in</span><span class="o">);</span>
    <span class="nc">IntStack</span> <span class="n">s</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">IntStack</span><span class="o">(</span><span class="mi">64</span><span class="o">);</span>
    
    <span class="k">while</span> <span class="o">(</span><span class="kc">true</span><span class="o">)</span> <span class="o">{</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"현재 데이터 수: "</span> <span class="o">+</span> <span class="n">s</span><span class="o">.</span><span class="na">size</span><span class="o">()</span> <span class="o">+</span><span class="s">" / "</span> <span class="o">+</span> <span class="n">s</span><span class="o">.</span><span class="na">capacity</span><span class="o">());</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"(1) 푸시  (2) 팝  (3) 피크  (4) 덤프 (0) 종료 "</span><span class="o">);</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"(5) 클리어 (6) 용량 (7) 사이즈 (8) empty (9) full"</span><span class="o">);</span>
      <span class="kt">int</span> <span class="n">menu</span> <span class="o">=</span> <span class="n">sc</span><span class="o">.</span><span class="na">nextInt</span><span class="o">();</span>
      <span class="k">if</span> <span class="o">(</span><span class="n">menu</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span> <span class="k">return</span><span class="o">;</span>
      <span class="k">switch</span> <span class="o">(</span><span class="n">menu</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">case</span> <span class="mi">1</span><span class="o">:</span>
          <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="s">"데이터: "</span><span class="o">);</span>
          <span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="n">sc</span><span class="o">.</span><span class="na">nextInt</span><span class="o">();</span>
          <span class="k">try</span> <span class="o">{</span>
            <span class="n">s</span><span class="o">.</span><span class="na">push</span><span class="o">(</span><span class="n">x</span><span class="o">);</span>            
          <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">IntStack</span><span class="o">.</span><span class="na">OverflowIntStackException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"스택이 가득 찼습니다."</span><span class="o">);</span>
          <span class="o">}</span>
          <span class="k">break</span><span class="o">;</span>
        <span class="k">case</span> <span class="mi">2</span><span class="o">:</span>
          <span class="k">try</span> <span class="o">{</span>
            <span class="n">x</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="na">pop</span><span class="o">();</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"팝한 데이터는 "</span> <span class="o">+</span> <span class="n">x</span> <span class="o">+</span> <span class="s">"입니다."</span><span class="o">);</span>
          <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">IntStack</span><span class="o">.</span><span class="na">EmptyIntStackException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"스택이 비어 있습니다."</span><span class="o">);</span>
          <span class="o">}</span>
          <span class="k">break</span><span class="o">;</span>
        <span class="k">case</span> <span class="mi">3</span><span class="o">:</span>
          <span class="k">try</span> <span class="o">{</span>
            <span class="n">x</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="na">peek</span><span class="o">();</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"피크한 데이터는 "</span> <span class="o">+</span> <span class="n">x</span> <span class="o">+</span> <span class="s">"입니다."</span><span class="o">);</span>
          <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">IntStack</span><span class="o">.</span><span class="na">EmptyIntStackException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"스택이 비어 있습니다."</span><span class="o">);</span>
          <span class="o">}</span>
          <span class="k">break</span><span class="o">;</span>
        <span class="k">case</span> <span class="mi">4</span><span class="o">:</span>
          <span class="n">s</span><span class="o">.</span><span class="na">dump</span><span class="o">();</span>
          <span class="k">break</span><span class="o">;</span>
        <span class="k">case</span> <span class="mi">5</span><span class="o">:</span>
          <span class="n">s</span><span class="o">.</span><span class="na">clear</span><span class="o">();</span>
          <span class="k">break</span><span class="o">;</span>
        <span class="k">case</span> <span class="mi">6</span><span class="o">:</span>
          <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"스택의 용량은 "</span> <span class="o">+</span> <span class="n">s</span><span class="o">.</span><span class="na">capacity</span><span class="o">()</span> <span class="o">+</span> <span class="s">"입니다."</span><span class="o">);</span>
          <span class="k">break</span><span class="o">;</span>
        <span class="k">case</span> <span class="mi">7</span><span class="o">:</span>
          <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"스택의 사이즈는 "</span> <span class="o">+</span> <span class="n">s</span><span class="o">.</span><span class="na">size</span><span class="o">()+</span> <span class="s">"입니다."</span><span class="o">);</span>
          <span class="k">break</span><span class="o">;</span>
        <span class="k">case</span> <span class="mi">8</span><span class="o">:</span>
          <span class="k">if</span> <span class="o">(</span><span class="n">s</span><span class="o">.</span><span class="na">isEmpty</span><span class="o">())</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"네, 스택은 비어있습니다."</span><span class="o">);</span>
          <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"아니오, 스택은 비어있지 않습니다."</span><span class="o">);</span>
          <span class="k">break</span><span class="o">;</span>
        <span class="k">case</span> <span class="mi">9</span><span class="o">:</span> 
          <span class="k">if</span> <span class="o">(</span><span class="n">s</span><span class="o">.</span><span class="na">isFull</span><span class="o">())</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"네, 스택이 꽉 찼습니다."</span><span class="o">);</span>
          <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"아니오, 스택이 꽉 차지 않았습니다."</span><span class="o">);</span>
          <span class="k">break</span><span class="o">;</span>
      <span class="o">}</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><p><strong>연습문제 Q2.</strong> 임의의 객체형 데이터를 쌓을 수 있는 제네릭 클래스 <code class="language-plaintext highlighter-rouge">Gstack&lt;E&gt;</code>를 작성하세요.</p><p>IntStack을 만들 때와 달리 Gstack에서 중첩 클래스 EmptyGstackException, OverflowGstackException을 만들 때는 주의해야 했다. 처음에 IntStack에서 한 것과 똑같이 각각의 중첩 클래스를 static 없이 non-static중첩 클래스(inner class)로 선언하였다. 그러나 컴파일 에러가 발생하였다. 에러 내용은 “<code class="language-plaintext highlighter-rouge">Gstack&lt;E&gt;.EmptyGstackException</code> may not subclass java.lang.Throwable”이었다. 찾아보니 <strong>제네릭 클래스의 경우 Throwable 객체를 상속할 수 없다</strong>는 규칙이 있었다.</p><p>그렇다면 왜 EmptyGstackException은 제네릭 클래스도 아닌데 non-static 클래스일 경우 컴파일 에러가 발생하는 걸까? 그것은 중첩 클래스를 non-static으로 선언할 경우 바깥 클래스(Gstack)의 인스턴스에 종속되기 때문이다. 따라서 제네릭에도 영향을 받는다. 그러나 static으로 선언할 경우 중첩 클래스는 단지 바깥 클래스의 내부에 위치할 뿐, 바깥 클래스의 인스턴스에 독립적이다. 따라서 컴파일러 입장에서는 top-level-class 나 마찬가지이다. 따라서 Throwable의 하위 클래스인 RuntimeException을 상속받을 수 있다. 자바는 제네릭 컴파일 에러 내용은 Gstack은 제네릭 클래스이다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Gstack</span> <span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;</span> <span class="o">{</span>
  <span class="kd">private</span> <span class="kt">int</span> <span class="n">max</span><span class="o">;</span> <span class="c1">// 스택 용량</span>
  <span class="kd">private</span> <span class="kt">int</span> <span class="n">ptr</span><span class="o">;</span> <span class="c1">// 스택 포인터</span>
  <span class="kd">private</span> <span class="no">E</span><span class="o">[]</span> <span class="n">stk</span><span class="o">;</span> <span class="c1">// 스택 본</span>
  
  <span class="kd">public</span> <span class="kd">static</span> <span class="kd">class</span> <span class="nc">EmptyGstackException</span> <span class="kd">extends</span> <span class="nc">RuntimeException</span> <span class="o">{</span>
      <span class="kd">public</span> <span class="nf">EmptyGstackException</span><span class="o">()</span> <span class="o">{</span>
      <span class="o">}</span>
  <span class="o">}</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kd">class</span> <span class="nc">OverflowGstackException</span> <span class="kd">extends</span> <span class="nc">RuntimeException</span> <span class="o">{</span>
      <span class="kd">public</span> <span class="nf">OverflowGstackException</span><span class="o">()</span> <span class="o">{</span>
      <span class="o">}</span>
  <span class="o">}</span>
  
  <span class="kd">public</span> <span class="nf">Gstack</span><span class="o">(</span><span class="kt">int</span> <span class="n">capacity</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">ptr</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
    <span class="n">max</span> <span class="o">=</span> <span class="n">capacity</span><span class="o">;</span>
    <span class="k">try</span> <span class="o">{</span>
      <span class="n">stk</span> <span class="o">=</span> <span class="o">(</span><span class="no">E</span><span class="o">[])</span> <span class="k">new</span> <span class="nc">Object</span><span class="o">[</span><span class="n">max</span><span class="o">];</span>
    <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">OutOfMemoryError</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
      <span class="n">max</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
    <span class="o">}</span>
  <span class="o">}</span>
  <span class="kd">public</span> <span class="no">E</span> <span class="nf">push</span><span class="o">(</span><span class="no">E</span> <span class="n">x</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">OverflowGstackException</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">ptr</span> <span class="o">==</span> <span class="n">max</span><span class="o">)</span>
      <span class="k">throw</span> <span class="k">new</span> <span class="nf">OverflowGstackException</span><span class="o">();</span>
    <span class="k">return</span> <span class="n">stk</span><span class="o">[</span><span class="n">ptr</span><span class="o">++]</span> <span class="o">=</span> <span class="n">x</span><span class="o">;</span>
  <span class="o">}</span>
  
  <span class="kd">public</span> <span class="no">E</span> <span class="nf">pop</span><span class="o">()</span> <span class="kd">throws</span> <span class="nc">EmptyGstackException</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">ptr</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span>
      <span class="k">throw</span> <span class="k">new</span> <span class="nf">EmptyGstackException</span><span class="o">();</span>
    <span class="k">return</span> <span class="n">stk</span><span class="o">[--</span><span class="n">ptr</span><span class="o">];</span>
  <span class="o">}</span>
  
  <span class="kd">public</span> <span class="no">E</span> <span class="nf">peek</span><span class="o">()</span> <span class="kd">throws</span> <span class="nc">EmptyGstackException</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">ptr</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span>
      <span class="k">throw</span> <span class="k">new</span> <span class="nf">EmptyGstackException</span><span class="o">();</span>
    <span class="k">return</span> <span class="n">stk</span><span class="o">[</span><span class="n">ptr</span> <span class="o">-</span><span class="mi">1</span><span class="o">];</span>
  <span class="o">}</span>
  
  <span class="kd">public</span> <span class="kt">int</span> <span class="nf">indexOf</span><span class="o">(</span><span class="no">E</span> <span class="n">key</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">ptr</span> <span class="o">-</span> <span class="mi">1</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span><span class="o">--)</span> <span class="o">{</span>
      <span class="k">if</span> <span class="o">(</span><span class="n">stk</span><span class="o">[</span><span class="n">i</span><span class="o">].</span><span class="na">equals</span><span class="o">(</span><span class="n">key</span><span class="o">))</span>
        <span class="k">return</span> <span class="n">i</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="o">;</span>
  <span class="o">}</span>
  
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">clear</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">ptr</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
  <span class="o">}</span>
  
  <span class="kd">public</span> <span class="kt">int</span> <span class="nf">capacity</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">max</span><span class="o">;</span>
  <span class="o">}</span>
  
  <span class="kd">public</span> <span class="kt">int</span> <span class="nf">size</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">ptr</span><span class="o">;</span> 
  <span class="o">}</span>
  
  <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">isEmpty</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">ptr</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="o">;</span>
  <span class="o">}</span>
  
  <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">isFull</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">ptr</span> <span class="o">&gt;=</span> <span class="n">max</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">dump</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">ptr</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"스택이 비어있습니다."</span><span class="o">);</span>
    <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
      <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">ptr</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">stk</span><span class="o">[</span><span class="n">i</span><span class="o">]);</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">();</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><p>**연습문제 Q3. ** 하나의 배열을 공유하여 2개의 스택을 구현하는 int형 데이터용 스택 클래스를 만들기.</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/50407047/96389148-b7e11b00-11e8-11eb-9381-1de77ade7aed.png" alt="image" /></p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Q3</span> <span class="o">{</span>
  <span class="kd">private</span> <span class="kt">int</span> <span class="n">max</span><span class="o">;</span> <span class="c1">// 스택 용량</span>
  <span class="kd">private</span> <span class="kt">int</span> <span class="n">ptrA</span><span class="o">;</span> <span class="c1">// 스택 포인터</span>
  <span class="kd">private</span> <span class="kt">int</span> <span class="n">ptrB</span><span class="o">;</span>
  <span class="kd">private</span> <span class="kt">int</span><span class="o">[]</span> <span class="n">stk</span><span class="o">;</span> <span class="c1">// 스택 본체</span>
  
  <span class="kd">public</span> <span class="kd">enum</span> <span class="nc">WhichStack</span> <span class="o">{</span> <span class="n">stackA</span><span class="o">,</span> <span class="n">stackB</span> <span class="o">}</span>


  <span class="c1">// 실행 시 예외: 스택이 비어 있음 </span>
  <span class="kd">public</span> <span class="kd">class</span> <span class="nc">EmptyIntStackException</span> <span class="kd">extends</span> <span class="nc">RuntimeException</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="nf">EmptyIntStackException</span><span class="o">()</span> <span class="o">{}</span>
  <span class="o">}</span>
  
  <span class="c1">// 실행 시 예외: 스택이 가득 </span>
  <span class="kd">public</span> <span class="kd">class</span> <span class="nc">OverflowIntStackException</span> <span class="kd">extends</span> <span class="nc">RuntimeException</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="nf">OverflowIntStackException</span><span class="o">()</span> <span class="o">{</span>
    <span class="o">}</span>
  <span class="o">}</span>
  
  <span class="kd">public</span> <span class="nf">Q3</span><span class="o">(</span><span class="kt">int</span> <span class="n">capacity</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">ptrA</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
    <span class="n">ptrB</span> <span class="o">=</span> <span class="n">capacity</span> <span class="o">-</span> <span class="mi">1</span><span class="o">;</span> <span class="c1">// ptr은 인덱스</span>
    <span class="n">max</span> <span class="o">=</span> <span class="n">capacity</span><span class="o">;</span>
    <span class="k">try</span> <span class="o">{</span>
      <span class="n">stk</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="n">max</span><span class="o">];</span>
    <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">OutOfMemoryError</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
      <span class="n">max</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
    <span class="o">}</span>
  <span class="o">}</span>
  
  <span class="kd">public</span> <span class="kt">int</span> <span class="nf">push</span><span class="o">(</span><span class="nc">WhichStack</span> <span class="n">stack</span><span class="o">,</span> <span class="kt">int</span> <span class="n">x</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">OverflowIntStackException</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">ptrA</span> <span class="o">&gt;=</span> <span class="n">ptrB</span> <span class="o">+</span> <span class="mi">1</span><span class="o">)</span> <span class="o">{</span>
      <span class="k">throw</span> <span class="k">new</span> <span class="nf">OverflowIntStackException</span><span class="o">();</span>
    <span class="o">}</span>
    <span class="k">switch</span> <span class="o">(</span><span class="n">stack</span><span class="o">)</span> <span class="o">{</span>
      <span class="k">case</span> <span class="nl">stackA:</span>
        <span class="k">return</span> <span class="n">stk</span><span class="o">[</span><span class="n">ptrA</span><span class="o">++]</span> <span class="o">=</span> <span class="n">x</span><span class="o">;</span>
      <span class="k">default</span><span class="o">:</span> 
        <span class="k">return</span> <span class="n">stk</span><span class="o">[</span><span class="n">ptrB</span><span class="o">--]</span> <span class="o">=</span> <span class="n">x</span><span class="o">;</span>
    <span class="o">}</span>
  <span class="o">}</span>
  
  <span class="kd">public</span> <span class="kt">int</span> <span class="nf">pop</span><span class="o">(</span><span class="nc">WhichStack</span> <span class="n">stack</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">EmptyIntStackException</span> <span class="o">{</span>
    <span class="k">switch</span> <span class="o">(</span><span class="n">stack</span><span class="o">)</span> <span class="o">{</span>
      <span class="k">case</span> <span class="nl">stackA:</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">ptrA</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="o">)</span>
          <span class="k">throw</span> <span class="k">new</span> <span class="nf">EmptyIntStackException</span><span class="o">();</span>
        <span class="k">return</span> <span class="n">stk</span><span class="o">[--</span><span class="n">ptrA</span><span class="o">];</span>
      <span class="k">default</span><span class="o">:</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">ptrB</span> <span class="o">&gt;=</span> <span class="n">max</span> <span class="o">-</span> <span class="mi">1</span><span class="o">)</span>
          <span class="k">throw</span> <span class="k">new</span> <span class="nf">EmptyIntStackException</span><span class="o">();</span>
        <span class="k">return</span> <span class="n">stk</span><span class="o">[++</span><span class="n">ptrB</span><span class="o">];</span>
    <span class="o">}</span>
  <span class="o">}</span>
  
  <span class="kd">public</span> <span class="kt">int</span> <span class="nf">peek</span><span class="o">(</span><span class="nc">WhichStack</span> <span class="n">stack</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">EmptyIntStackException</span> <span class="o">{</span>
    <span class="k">switch</span> <span class="o">(</span><span class="n">stack</span><span class="o">)</span> <span class="o">{</span>
      <span class="k">case</span> <span class="nl">stackA:</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">ptrA</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span>
          <span class="k">throw</span> <span class="k">new</span> <span class="nf">EmptyIntStackException</span><span class="o">();</span>
        <span class="k">return</span> <span class="n">stk</span><span class="o">[</span><span class="n">ptrA</span> <span class="o">-</span> <span class="mi">1</span><span class="o">];</span>
      <span class="k">default</span><span class="o">:</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">ptrB</span> <span class="o">==</span> <span class="n">max</span> <span class="o">-</span> <span class="mi">1</span><span class="o">)</span>
          <span class="k">throw</span> <span class="k">new</span> <span class="nf">EmptyIntStackException</span><span class="o">();</span>
        <span class="k">return</span> <span class="n">stk</span><span class="o">[</span><span class="n">ptrB</span> <span class="o">+</span> <span class="mi">1</span><span class="o">];</span>
    <span class="o">}</span>
  <span class="o">}</span>
  
  <span class="kd">public</span> <span class="kt">int</span> <span class="nf">indexOf</span><span class="o">(</span><span class="nc">WhichStack</span> <span class="n">stack</span><span class="o">,</span> <span class="kt">int</span> <span class="n">key</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">switch</span><span class="o">(</span><span class="n">stack</span><span class="o">)</span> <span class="o">{</span>
      <span class="k">case</span> <span class="nl">stackA:</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">ptrA</span> <span class="o">-</span> <span class="mi">1</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span><span class="o">--)</span> <span class="o">{</span>
          <span class="k">if</span> <span class="o">(</span><span class="n">stk</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">==</span> <span class="n">key</span><span class="o">)</span>
            <span class="k">return</span> <span class="n">i</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="k">break</span><span class="o">;</span>
      <span class="k">default</span><span class="o">:</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">ptrB</span> <span class="o">+</span> <span class="mi">1</span><span class="o">;</span> <span class="n">i</span> <span class="o">&gt;</span> <span class="n">max</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
          <span class="k">if</span> <span class="o">(</span><span class="n">stk</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">==</span> <span class="n">key</span><span class="o">)</span>
            <span class="k">return</span> <span class="n">i</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="k">break</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="o">;</span>
    
  <span class="o">}</span>
  
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">clear</span><span class="o">(</span><span class="nc">WhichStack</span> <span class="n">stack</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">switch</span> <span class="o">(</span><span class="n">stack</span><span class="o">)</span> <span class="o">{</span>
      <span class="k">case</span> <span class="nl">stackA:</span>
        <span class="n">ptrA</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
        <span class="k">break</span><span class="o">;</span>
      <span class="k">default</span><span class="o">:</span>
        <span class="n">ptrB</span> <span class="o">=</span> <span class="n">max</span><span class="o">;</span>
    <span class="o">}</span>
  <span class="o">}</span>
  
  <span class="kd">public</span> <span class="kt">int</span> <span class="nf">capacity</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">max</span><span class="o">;</span>
  <span class="o">}</span>
  
  <span class="kd">public</span> <span class="kt">int</span> <span class="nf">size</span><span class="o">(</span><span class="nc">WhichStack</span> <span class="n">stack</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">switch</span> <span class="o">(</span><span class="n">stack</span><span class="o">)</span> <span class="o">{</span>
      <span class="k">case</span> <span class="nl">stackA:</span>
        <span class="k">return</span> <span class="n">ptrA</span><span class="o">;</span>
      <span class="k">default</span><span class="o">:</span>
        <span class="k">return</span> <span class="n">max</span> <span class="o">-</span> <span class="n">ptrB</span> <span class="o">-</span> <span class="mi">1</span><span class="o">;</span>
    <span class="o">}</span>
  <span class="o">}</span>
  
  <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">isEmpty</span><span class="o">(</span><span class="nc">WhichStack</span> <span class="n">stack</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">switch</span> <span class="o">(</span><span class="n">stack</span><span class="o">)</span> <span class="o">{</span>
      <span class="k">case</span> <span class="nl">stackA:</span>
        <span class="k">return</span> <span class="n">ptrA</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="o">;</span>
      <span class="k">default</span><span class="o">:</span>
        <span class="k">return</span> <span class="n">ptrB</span> <span class="o">&gt;=</span> <span class="n">max</span> <span class="o">-</span> <span class="mi">1</span><span class="o">;</span>
    <span class="o">}</span>
  <span class="o">}</span>
  
  <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">isFull</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">ptrA</span> <span class="o">&gt;=</span> <span class="n">ptrB</span> <span class="o">+</span> <span class="mi">1</span><span class="o">;</span>
  <span class="o">}</span>
  
  <span class="c1">// 스택 안의 모든 데이터를 바닥 -&gt; 꼭대기 순서로 출력</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">dump</span><span class="o">(</span><span class="nc">WhichStack</span> <span class="n">stack</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">switch</span> <span class="o">(</span><span class="n">stack</span><span class="o">)</span> <span class="o">{</span>
      <span class="k">case</span> <span class="nl">stackA:</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">ptrA</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="o">)</span>
          <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"스택이 비어있습니다."</span><span class="o">);</span>
        <span class="k">else</span> <span class="o">{</span>
          <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">ptrA</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">stk</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">+</span> <span class="s">" "</span><span class="o">);</span>
          <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">();</span>
        <span class="o">}</span>
        <span class="k">break</span><span class="o">;</span>
      <span class="k">default</span><span class="o">:</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">ptrB</span> <span class="o">&gt;=</span> <span class="n">max</span><span class="o">)</span>
          <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"스택이 비어있습니다."</span><span class="o">);</span>
        <span class="k">else</span> <span class="o">{</span>
          <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">max</span><span class="o">;</span> <span class="n">i</span> <span class="o">&gt;</span> <span class="n">ptrB</span><span class="o">;</span> <span class="n">i</span><span class="o">--)</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">stk</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">+</span> <span class="s">" "</span><span class="o">);</span>
          <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">();</span>
        <span class="o">}</span>
        <span class="k">break</span><span class="o">;</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><h2 id="큐">큐</h2><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/50407047/96389123-8cf6c700-11e8-11eb-8aca-ac7bcadf49c8.png" alt="image" /></p><ul><li>데이터를 일시적으로 쌓아 놓은 자료구조<li>가장 먼저 넣은 데이터를 가장 먼저 꺼내는 선입선출(FIFO; First In First Out)이다.<li>은행 창구에서 차례를 기다리는 대기열, 마트에서 계산을 기다리는 대기줄<li>데이터를 꺼내는 쪽을 front, 데이터를 넣는 쪽을 rear라고 한다.</ul><p><strong>연습문제 Q4.</strong> 큐를 구현하는 프로그램을 만드세요.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">IntAryQueue</span> <span class="o">{</span>
    
  <span class="kd">private</span> <span class="kt">int</span> <span class="n">max</span><span class="o">;</span>
  <span class="kd">private</span> <span class="kt">int</span> <span class="n">num</span><span class="o">;</span>
  <span class="kd">private</span> <span class="kt">int</span><span class="o">[]</span> <span class="n">que</span><span class="o">;</span>
  
	<span class="kd">public</span> <span class="kd">class</span> <span class="nc">EmptyIntAryQueueException</span> <span class="kd">extends</span> <span class="nc">RuntimeException</span> <span class="o">{</span>
		<span class="kd">public</span> <span class="nf">EmptyIntAryQueueException</span><span class="o">()</span> <span class="o">{}</span>
	<span class="o">}</span>
	<span class="kd">public</span> <span class="kd">class</span> <span class="nc">OverflowIntAryQueueException</span> <span class="kd">extends</span> <span class="nc">RuntimeException</span> <span class="o">{</span>
		<span class="kd">public</span> <span class="nf">OverflowIntAryQueueException</span><span class="o">()</span> <span class="o">{}</span>
	<span class="o">}</span>
  
  <span class="kd">public</span> <span class="nf">IntAryQueue</span> <span class="o">(</span><span class="kt">int</span> <span class="n">capacity</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">max</span> <span class="o">=</span> <span class="n">capacity</span><span class="o">;</span>
    <span class="n">num</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
    <span class="k">try</span> <span class="o">{</span>
      <span class="n">que</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="n">max</span><span class="o">];</span>
    <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">OutOfMemoryError</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
      <span class="n">max</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
    <span class="o">}</span>
  <span class="o">}</span>
  
  <span class="kd">public</span> <span class="kt">int</span> <span class="nf">enque</span><span class="o">(</span><span class="kt">int</span> <span class="n">x</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">OverflowIntAryQueueException</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">num</span> <span class="o">&gt;=</span> <span class="n">max</span><span class="o">)</span>
      <span class="k">throw</span> <span class="k">new</span> <span class="nf">OverflowAryQueueException</span><span class="o">();</span>
    <span class="n">que</span><span class="o">[</span><span class="n">num</span><span class="o">++]</span> <span class="o">=</span> <span class="n">x</span><span class="o">;</span>
    <span class="k">return</span> <span class="n">x</span><span class="o">;</span>
  <span class="o">}</span>
  
  <span class="kd">public</span> <span class="kt">int</span> <span class="nf">deque</span><span class="o">()</span> <span class="kd">throws</span> <span class="nc">EmptyIntAryQueueException</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">num</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="o">)</span>
      <span class="k">throw</span> <span class="k">new</span> <span class="nf">EmptyIntAryQueueException</span><span class="o">();</span>
    <span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="n">que</span><span class="o">[</span><span class="mi">0</span><span class="o">];</span>
    <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">num</span> <span class="o">-</span> <span class="mi">1</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
      <span class="n">que</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">=</span> <span class="n">que</span><span class="o">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="o">];</span>
    <span class="o">}</span>
    <span class="n">num</span><span class="o">--;</span>
    <span class="k">return</span> <span class="n">x</span><span class="o">;</span>
  <span class="o">}</span>
  
  <span class="kd">public</span> <span class="kt">int</span> <span class="nf">indexOf</span><span class="o">(</span><span class="kt">int</span> <span class="n">x</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span> <span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">num</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
      <span class="k">if</span> <span class="o">(</span><span class="n">que</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">==</span> <span class="n">x</span><span class="o">)</span>
        <span class="k">return</span> <span class="n">i</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="o">;</span>
  <span class="o">}</span>
  
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">clear</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">num</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
  <span class="o">}</span>
  
  <span class="kd">public</span> <span class="kt">int</span> <span class="nf">capacity</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">max</span><span class="o">;</span>
  <span class="o">}</span>
  
  <span class="kd">public</span> <span class="kt">int</span> <span class="nf">size</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">num</span><span class="o">;</span>
  <span class="o">}</span>
  
	<span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">isEmpty</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">return</span> <span class="n">num</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="o">;</span>
	<span class="o">}</span>

	<span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">isFull</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">return</span> <span class="n">num</span> <span class="o">&gt;=</span> <span class="n">max</span><span class="o">;</span>
	<span class="o">}</span>

	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">dump</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">if</span> <span class="o">(</span><span class="n">num</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="o">)</span>
			<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"큐가 비었습니다."</span><span class="o">);</span>
		<span class="k">else</span> <span class="o">{</span>
			<span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">num</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span>
				<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="n">que</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">+</span> <span class="s">" "</span><span class="o">);</span>
			<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">();</span>
		<span class="o">}</span>
	<span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><h3 id="링-버퍼로-큐-만들기">링 버퍼로 큐 만들기</h3><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/50407047/96389130-9849f280-11e8-11eb-9fd5-7ca4c17dc4de.png" alt="image" /></p><ul><li><p>링 버퍼(ring buffer): 배열 요소를 앞쪽으로 옮기지 않는 큐 구현에 사용하는 자료구조</p><li>front: 맨 처음 요소의 인덱스<li><p>rear: 맨 끝 요소의 하나 뒤의 인덱스(다음 요소를 인큐할 위치를 미리 지정)</p><li>프런트와 리어값을 업데이트하며 인큐와 디큐를 수행하면 요소 이동 문제를 해결할 수 있다.<li>처리의 복잡도는 O(1)이다.<li>연습문제 4에서 구현한 큐는 요소 이동을 수행하기 때문에 복잡도가 O(n)이다.</ul><p><strong>실습 4-1~3.</strong> IntQueue</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">IntQueue</span> <span class="o">{</span>
  <span class="kd">private</span> <span class="kt">int</span> <span class="n">max</span><span class="o">;</span> <span class="c1">// 큐의 용량</span>
  <span class="c1">//첫 번째 요소 커서</span>
  <span class="c1">//인큐하는 데이터 가운데 첫번째 요소 위치. 디큐할 위치를 미리 저장</span>
  <span class="kd">private</span> <span class="kt">int</span> <span class="n">front</span><span class="o">;</span> 
  <span class="kd">private</span> <span class="kt">int</span> <span class="n">rear</span><span class="o">;</span> <span class="c1">// 마지막 요소 커서(다음 요소를 인큐할 위치를 미리 저장!!!!!!!!!!!!!!!)</span>
  <span class="c1">// front와 rear의 값이 같은 경우 큐가 비어있는 지 가득 차 있는지 구별할 수 없는 상황을 피하기 위해서 이 변수가 필요ㅕ하다.</span>
  <span class="c1">// 큐가 비어 있을 때 num==0(front==rear==0), 다 차있을때 num == max</span>
  <span class="kd">private</span> <span class="kt">int</span> <span class="n">num</span><span class="o">;</span> <span class="c1">// 현재 데이터 수</span>
  <span class="kd">private</span> <span class="kt">int</span><span class="o">[]</span> <span class="n">que</span><span class="o">;</span> <span class="c1">// 큐 본체</span>

  <span class="c1">// 실행 시 예외: 큐가 비어 있음</span>
  <span class="kd">public</span> <span class="kd">class</span> <span class="nc">EmptyIntQueueException</span> <span class="kd">extends</span> <span class="nc">RuntimeException</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="nf">EmptyIntQueueException</span><span class="o">()</span> <span class="o">{}</span>
  <span class="o">}</span>
  
  <span class="c1">// 실행 시 예외: 큐가 가득 참</span>
  <span class="kd">public</span> <span class="kd">class</span> <span class="nc">OverflowIntQueueException</span> <span class="kd">extends</span> <span class="nc">RuntimeException</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="nf">OverflowIntQueueException</span><span class="o">()</span> <span class="o">{}</span>
  <span class="o">}</span>
  
  <span class="c1">// 생성자</span>
  <span class="kd">public</span> <span class="nf">IntQueue</span><span class="o">(</span><span class="kt">int</span> <span class="n">capacity</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">num</span> <span class="o">=</span> <span class="n">front</span> <span class="o">=</span> <span class="n">rear</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
    <span class="n">max</span> <span class="o">=</span> <span class="n">capacity</span><span class="o">;</span>
    <span class="k">try</span> <span class="o">{</span>
      <span class="n">que</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="n">max</span><span class="o">];</span>           <span class="c1">// 큐 본체용 배열을 생성</span>
    <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">OutOfMemoryError</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span> <span class="c1">// 생성할 수 없음</span>
      <span class="n">max</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
    <span class="o">}</span>
  <span class="o">}</span>
  
  <span class="kd">public</span> <span class="kt">int</span> <span class="nf">enque</span><span class="o">(</span><span class="kt">int</span> <span class="n">x</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">OverflowIntQueueException</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">num</span> <span class="o">&gt;=</span> <span class="n">max</span><span class="o">)</span>
      <span class="k">throw</span> <span class="k">new</span> <span class="nf">OverflowIntQueueException</span><span class="o">();</span>
    <span class="n">que</span><span class="o">[</span><span class="n">rear</span><span class="o">++]</span> <span class="o">=</span> <span class="n">x</span><span class="o">;</span>
    <span class="n">num</span><span class="o">++;</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">rear</span> <span class="o">==</span> <span class="n">max</span><span class="o">)</span>
      <span class="n">rear</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
    <span class="k">return</span> <span class="n">x</span><span class="o">;</span>
  <span class="o">}</span>
  
  <span class="kd">public</span> <span class="kt">int</span> <span class="nf">deque</span><span class="o">()</span> <span class="kd">throws</span> <span class="nc">EmptyIntQueueException</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">num</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="o">)</span>
      <span class="k">throw</span> <span class="k">new</span> <span class="nf">EmptyIntQueueException</span><span class="o">();</span>
    <span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="n">que</span><span class="o">[</span><span class="n">front</span><span class="o">++];</span>
    <span class="n">num</span><span class="o">--;</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">front</span> <span class="o">==</span> <span class="n">max</span><span class="o">)</span>
      <span class="n">front</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
    <span class="k">return</span> <span class="n">x</span><span class="o">;</span>
  <span class="o">}</span>
  
  <span class="kd">public</span> <span class="kt">int</span> <span class="nf">peek</span><span class="o">()</span> <span class="kd">throws</span> <span class="nc">EmptyIntQueueException</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">num</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="o">)</span>
      <span class="k">throw</span> <span class="k">new</span> <span class="nf">EmptyIntQueueException</span><span class="o">();</span>
    <span class="k">return</span> <span class="n">que</span><span class="o">[</span><span class="n">front</span><span class="o">];</span>
  <span class="o">}</span>
  
  <span class="kd">public</span> <span class="kt">int</span> <span class="nf">indexOf</span><span class="o">(</span><span class="kt">int</span> <span class="n">x</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">num</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
      <span class="kt">int</span> <span class="n">idx</span> <span class="o">=</span> <span class="o">(</span><span class="n">i</span> <span class="o">+</span> <span class="n">front</span><span class="o">)</span> <span class="o">%</span> <span class="n">max</span><span class="o">;</span>
      <span class="k">if</span> <span class="o">(</span><span class="n">que</span><span class="o">[</span><span class="n">idx</span><span class="o">]</span> <span class="o">==</span> <span class="n">x</span><span class="o">)</span>
        <span class="k">return</span> <span class="n">idx</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="o">;</span>
  <span class="o">}</span>
  
  <span class="c1">//  모든 데이터를 삭제하는 메서드</span>
  <span class="c1">// 인큐, 디큐는 num, front, rear 값을 바탕으로 0으로 바꾼다. 실제 큐의 배열 요솟값을 바꿀 필요가 없다.</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">clear</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">num</span> <span class="o">=</span> <span class="n">front</span> <span class="o">=</span> <span class="n">rear</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
  <span class="o">}</span>
  
  <span class="kd">public</span> <span class="kt">int</span> <span class="nf">capacity</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">max</span><span class="o">;</span>
  <span class="o">}</span>
  
  <span class="kd">public</span> <span class="kt">int</span> <span class="nf">size</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">num</span><span class="o">;</span>
  <span class="o">}</span>
  
  <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">isEmpty</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">num</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="o">;</span>
  <span class="o">}</span>
  
  <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">isFull</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">num</span> <span class="o">&gt;=</span> <span class="n">max</span><span class="o">;</span>
  <span class="o">}</span>
  
  <span class="c1">// 큐 안의 모든 데이터를 프런트 -&gt; 리어 순으로 출력</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">dump</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">num</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="o">)</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"큐가 비어 있습니다."</span><span class="o">);</span>
    <span class="k">else</span> <span class="o">{</span>
      <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">num</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> 
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="n">que</span><span class="o">[(</span><span class="n">i</span> <span class="o">+</span> <span class="n">front</span><span class="o">)</span> <span class="o">%</span> <span class="n">max</span><span class="o">]</span> <span class="o">+</span> <span class="s">" "</span><span class="o">);</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">();</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><p><strong>실습 4-4</strong>. IntQueueTester</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">IntQueueTester</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">Scanner</span> <span class="n">sc</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Scanner</span><span class="o">(</span><span class="nc">System</span><span class="o">.</span><span class="na">in</span><span class="o">);</span>
    <span class="nc">IntQueue</span> <span class="n">s</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">IntQueue</span><span class="o">(</span><span class="mi">64</span><span class="o">);</span>
    
    <span class="k">while</span> <span class="o">(</span><span class="kc">true</span><span class="o">)</span> <span class="o">{</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"현재 데이터 수: "</span> <span class="o">+</span> <span class="n">s</span><span class="o">.</span><span class="na">size</span><span class="o">()</span> <span class="o">+</span> <span class="s">" /"</span> <span class="o">+</span> <span class="n">s</span><span class="o">.</span><span class="na">capacity</span><span class="o">());</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="s">"(1) 인큐  (2) 디큐  (3) 피크  (4) 덤프  (0) 종료: "</span><span class="o">);</span>
      <span class="kt">int</span> <span class="n">menu</span> <span class="o">=</span> <span class="n">sc</span><span class="o">.</span><span class="na">nextInt</span><span class="o">();</span>
      <span class="k">if</span> <span class="o">(</span><span class="n">menu</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span> <span class="k">break</span><span class="o">;</span>
      
      <span class="kt">int</span> <span class="n">x</span><span class="o">;</span>
      <span class="k">switch</span> <span class="o">(</span><span class="n">menu</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">case</span> <span class="mi">1</span><span class="o">:</span>
          <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="s">"데이터: "</span><span class="o">);</span>
          <span class="n">x</span> <span class="o">=</span> <span class="n">sc</span><span class="o">.</span><span class="na">nextInt</span><span class="o">();</span>
          <span class="k">try</span> <span class="o">{</span>
            <span class="n">s</span><span class="o">.</span><span class="na">enque</span><span class="o">(</span><span class="n">x</span><span class="o">);</span>
          <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">IntQueue</span><span class="o">.</span><span class="na">OverflowIntQueueException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"큐가 가득 찼습니다."</span><span class="o">);</span>
          <span class="o">}</span>
          <span class="k">break</span><span class="o">;</span>
        <span class="k">case</span> <span class="mi">2</span><span class="o">:</span>
          <span class="k">try</span> <span class="o">{</span>
            <span class="n">x</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="na">deque</span><span class="o">();</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"디큐한 데이터는 "</span> <span class="o">+</span> <span class="n">x</span> <span class="o">+</span> <span class="s">"입니다."</span><span class="o">);</span>
          <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">IntQueue</span><span class="o">.</span><span class="na">EmptyIntQueueException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"큐가 비어있습니다."</span><span class="o">);</span>
          <span class="o">}</span>
          <span class="k">break</span><span class="o">;</span>
        <span class="k">case</span> <span class="mi">3</span><span class="o">:</span>
          <span class="k">try</span> <span class="o">{</span>
            <span class="n">x</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="na">peek</span><span class="o">();</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"피크한 데이터는 "</span> <span class="o">+</span> <span class="n">x</span> <span class="o">+</span> <span class="s">"입니다."</span><span class="o">);</span>
          <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">IntQueue</span><span class="o">.</span><span class="na">EmptyIntQueueException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"큐가 비어있습니다."</span><span class="o">);</span>
          <span class="o">}</span>
          <span class="k">break</span><span class="o">;</span>
          
        <span class="k">case</span> <span class="mi">4</span><span class="o">:</span>
          <span class="n">s</span><span class="o">.</span><span class="na">dump</span><span class="o">();</span>
          <span class="k">break</span><span class="o">;</span>
      <span class="o">}</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><p><strong>연습문제 Q5</strong> 클래스 IntQueue에 임의의 데이터를 검색하는 메서드를 추가</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kt">int</span> <span class="nf">search</span><span class="o">(</span><span class="kt">int</span> <span class="n">x</span><span class="o">)</span> <span class="o">{</span>
  <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">num</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">que</span><span class="o">[(</span><span class="n">front</span> <span class="o">+</span> <span class="n">i</span><span class="o">)</span> <span class="o">%</span> <span class="n">max</span><span class="o">]</span> <span class="o">==</span> <span class="n">x</span><span class="o">)</span>
      <span class="k">return</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="o">;</span>
  <span class="o">}</span>
  <span class="k">return</span> <span class="mi">0</span><span class="o">;</span>
<span class="o">}</span>
</pre></table></code></div></div><p><strong>연습문제 Q6.</strong> 임의의 객체형 데이터를 쌓아 놓을 수 있는 제네릭 큐 클래스 <code class="language-plaintext highlighter-rouge">Gqueue&lt;E&gt;</code>를 작성한다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Gqueue</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;</span> <span class="o">{</span>
  <span class="kd">private</span> <span class="kt">int</span> <span class="n">max</span><span class="o">;</span>
  <span class="kd">private</span> <span class="kt">int</span> <span class="n">num</span><span class="o">;</span>
  <span class="kd">private</span> <span class="kt">int</span> <span class="n">front</span><span class="o">;</span>
  <span class="kd">private</span> <span class="kt">int</span> <span class="n">rear</span><span class="o">;</span>
  <span class="kd">private</span> <span class="no">E</span><span class="o">[]</span> <span class="n">que</span><span class="o">;</span>
  
  <span class="kd">public</span> <span class="kd">static</span> <span class="kd">class</span> <span class="nc">EmptyGqueueException</span> <span class="kd">extends</span> <span class="nc">RuntimeException</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="nf">EmptyGqueueException</span><span class="o">()</span> <span class="o">{}</span>
  <span class="o">}</span>
  
  <span class="c1">// 실행 시 예외: 큐가 가득 참</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kd">class</span> <span class="nc">OverflowGqueueException</span> <span class="kd">extends</span> <span class="nc">RuntimeException</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="nf">OverflowGqueueException</span><span class="o">()</span> <span class="o">{}</span>
  <span class="o">}</span>
  
  <span class="nd">@SuppressWarnings</span><span class="o">(</span><span class="s">"unchecked"</span><span class="o">)</span>
  <span class="kd">public</span> <span class="nf">Gqueue</span><span class="o">(</span><span class="kt">int</span> <span class="n">capacity</span><span class="o">)</span> <span class="o">{</span>
    <span class="kt">int</span> <span class="n">max</span> <span class="o">=</span> <span class="n">capacity</span><span class="o">;</span>
    <span class="k">try</span> <span class="o">{</span>
      <span class="n">que</span> <span class="o">=</span> <span class="o">(</span><span class="no">E</span><span class="o">[])</span> <span class="k">new</span> <span class="nc">Object</span><span class="o">[</span><span class="n">max</span><span class="o">];</span>
    <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">OutOfMemoryError</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
      <span class="n">max</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
    <span class="o">}</span>
  <span class="o">}</span>
  
  <span class="kd">public</span> <span class="no">E</span> <span class="nf">enque</span><span class="o">(</span><span class="no">E</span> <span class="n">x</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">OverflowGqueueException</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">num</span> <span class="o">&gt;=</span> <span class="n">max</span><span class="o">)</span>
      <span class="k">throw</span> <span class="k">new</span> <span class="nf">OverflowGqueueException</span><span class="o">();</span>
    <span class="n">que</span><span class="o">[</span><span class="n">rear</span><span class="o">++]</span> <span class="o">=</span> <span class="n">x</span><span class="o">;</span>
    <span class="n">num</span><span class="o">++;</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">rear</span> <span class="o">==</span> <span class="n">max</span><span class="o">)</span>
      <span class="n">rear</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
    <span class="k">return</span> <span class="n">x</span><span class="o">;</span>
  <span class="o">}</span>
  
  <span class="kd">public</span> <span class="no">E</span> <span class="nf">deque</span><span class="o">()</span> <span class="kd">throws</span> <span class="nc">EmptyGqueueException</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">num</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="o">)</span>
      <span class="k">throw</span> <span class="k">new</span> <span class="nf">EmptyGqueueException</span><span class="o">();</span>
    <span class="no">E</span> <span class="n">x</span> <span class="o">=</span> <span class="n">que</span><span class="o">[</span><span class="n">front</span><span class="o">++];</span>
    <span class="n">num</span><span class="o">--;</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">front</span> <span class="o">==</span> <span class="n">max</span><span class="o">)</span>
      <span class="n">front</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
    <span class="k">return</span> <span class="n">x</span><span class="o">;</span>
  <span class="o">}</span>
  
  <span class="kd">public</span> <span class="no">E</span> <span class="nf">peek</span><span class="o">()</span> <span class="kd">throws</span> <span class="nc">EmptyGqueueException</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">num</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="o">)</span>
      <span class="k">throw</span> <span class="k">new</span> <span class="nf">EmptyGqueueException</span><span class="o">();</span>
    <span class="k">return</span> <span class="n">que</span><span class="o">[</span><span class="n">front</span><span class="o">];</span>
  <span class="o">}</span>
  
  <span class="kd">public</span> <span class="kt">int</span> <span class="nf">indexOf</span><span class="o">(</span><span class="no">E</span> <span class="n">x</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">num</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
      <span class="kt">int</span> <span class="n">idx</span> <span class="o">=</span> <span class="o">(</span><span class="n">i</span> <span class="o">+</span> <span class="n">front</span><span class="o">)</span> <span class="o">%</span> <span class="n">max</span><span class="o">;</span>
      <span class="k">if</span> <span class="o">(</span><span class="n">que</span><span class="o">[</span><span class="n">idx</span><span class="o">]</span> <span class="o">==</span> <span class="n">x</span><span class="o">)</span>
        <span class="k">return</span> <span class="n">idx</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="o">;</span>
  <span class="o">}</span>
  
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">clear</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">num</span> <span class="o">=</span> <span class="n">front</span> <span class="o">=</span> <span class="n">rear</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
  <span class="o">}</span>
  
  <span class="kd">public</span> <span class="kt">int</span> <span class="nf">capacity</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">max</span><span class="o">;</span>
  <span class="o">}</span>
  
  
  <span class="kd">public</span> <span class="kt">int</span> <span class="nf">size</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">num</span><span class="o">;</span>
  <span class="o">}</span>
  
  <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">isFull</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">num</span> <span class="o">&gt;=</span> <span class="n">max</span><span class="o">;</span>
  <span class="o">}</span>
  
  <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">isEmpty</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">num</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="o">;</span>
  <span class="o">}</span>
  
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">dump</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">num</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="o">)</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"큐가 비어있습니다."</span><span class="o">);</span>
    <span class="k">else</span> <span class="o">{</span>
      <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">num</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">que</span><span class="o">[(</span><span class="n">i</span> <span class="o">+</span> <span class="n">front</span><span class="o">)</span> <span class="o">%</span> <span class="n">max</span><span class="o">]</span> <span class="o">+</span> <span class="s">" "</span><span class="o">);</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">();</span>
    <span class="o">}</span>
  <span class="o">}</span>
  
<span class="o">}</span>
</pre></table></code></div></div><p><strong>연습문제 Q7.</strong> 양방향 대기열을 구현하는 클래스 IntDeque 만들기</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/50407047/96389136-a3048780-11e8-11eb-8c8d-aa306162a9eb.png" alt="image" /></p><ul><li>시작과 끝 지점에서 데이터를 인큐하거나 디큐하는 자료구조<li>양방향 대기열(deque/double ended queue)인 덱(deck)구현</ul><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
</pre><td class="rouge-code"><pre>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">IntDeque</span> <span class="o">{</span>
  <span class="kd">private</span> <span class="kt">int</span> <span class="n">max</span><span class="o">;</span>
  <span class="kd">private</span> <span class="kt">int</span> <span class="n">num</span><span class="o">;</span>
  <span class="kd">private</span> <span class="kt">int</span> <span class="n">front</span><span class="o">;</span>
  <span class="kd">private</span> <span class="kt">int</span> <span class="n">rear</span><span class="o">;</span>
  <span class="kd">private</span> <span class="kt">int</span><span class="o">[]</span> <span class="n">que</span><span class="o">;</span>
  
  <span class="kd">public</span> <span class="nf">IntDeque</span><span class="o">(</span><span class="kt">int</span> <span class="n">capacity</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">max</span> <span class="o">=</span> <span class="n">capacity</span><span class="o">;</span>
    <span class="n">que</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="n">max</span><span class="o">];</span>
  <span class="o">}</span>
  
  <span class="kd">public</span> <span class="kd">class</span> <span class="nc">OverflowIntDequeueException</span> <span class="kd">extends</span> <span class="nc">RuntimeException</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="nf">OverflowIntDequeueException</span><span class="o">()</span> <span class="o">{}</span>
  <span class="o">}</span>
  
  <span class="kd">public</span> <span class="kd">class</span> <span class="nc">EmptyIntDequeueException</span> <span class="kd">extends</span> <span class="nc">RuntimeException</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="nf">EmptyIntDequeueException</span><span class="o">()</span> <span class="o">{}</span>
  <span class="o">}</span>
  
  <span class="kd">public</span> <span class="kt">int</span> <span class="nf">enqueFront</span><span class="o">(</span><span class="kt">int</span> <span class="n">x</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">OverflowIntDequeueException</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">num</span> <span class="o">&gt;=</span> <span class="n">max</span><span class="o">)</span>
      <span class="k">throw</span> <span class="k">new</span> <span class="nf">OverflowIntDequeueException</span><span class="o">();</span>
    <span class="k">if</span> <span class="o">(--</span><span class="n">front</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="o">)</span>
      <span class="n">front</span> <span class="o">=</span> <span class="n">max</span> <span class="o">-</span> <span class="mi">1</span><span class="o">;</span>
    <span class="n">que</span><span class="o">[</span><span class="n">front</span><span class="o">]</span> <span class="o">=</span> <span class="n">x</span><span class="o">;</span>
    <span class="n">num</span><span class="o">++;</span>
    <span class="k">return</span> <span class="n">x</span><span class="o">;</span>
  <span class="o">}</span>
  
  <span class="kd">public</span> <span class="kt">int</span> <span class="nf">enqueRear</span><span class="o">(</span><span class="kt">int</span> <span class="n">x</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">OverflowIntDequeueException</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">num</span> <span class="o">&gt;=</span> <span class="n">max</span><span class="o">)</span>
      <span class="k">throw</span> <span class="k">new</span> <span class="nf">OverflowIntDequeueException</span><span class="o">();</span>
    <span class="n">que</span><span class="o">[</span><span class="n">rear</span><span class="o">++]</span> <span class="o">=</span> <span class="n">x</span><span class="o">;</span>
    <span class="n">num</span><span class="o">++;</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">rear</span> <span class="o">==</span> <span class="n">max</span><span class="o">)</span>
      <span class="n">rear</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
    <span class="k">return</span> <span class="n">x</span><span class="o">;</span>
  <span class="o">}</span>
  
  <span class="kd">public</span> <span class="kt">int</span> <span class="nf">dequeFront</span><span class="o">()</span> <span class="kd">throws</span> <span class="nc">EmptyIntDequeueException</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">num</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="o">)</span>
      <span class="k">throw</span> <span class="k">new</span> <span class="nf">EmptyIntDequeueException</span><span class="o">();</span>
    <span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="n">que</span><span class="o">[++</span><span class="n">front</span><span class="o">];</span>
    <span class="n">num</span><span class="o">--;</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">front</span> <span class="o">==</span> <span class="n">max</span><span class="o">)</span>
      <span class="n">front</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
    <span class="k">return</span> <span class="n">x</span><span class="o">;</span>
  <span class="o">}</span>
  
  <span class="kd">public</span> <span class="kt">int</span> <span class="nf">dequeRear</span><span class="o">()</span> <span class="kd">throws</span> <span class="nc">EmptyIntDequeueException</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">num</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="o">)</span>
      <span class="k">throw</span> <span class="k">new</span> <span class="nf">EmptyIntDequeueException</span><span class="o">();</span>
    <span class="n">num</span><span class="o">--;</span>
    <span class="k">if</span> <span class="o">(--</span><span class="n">rear</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="o">)</span>
      <span class="n">rear</span> <span class="o">=</span> <span class="n">max</span> <span class="o">-</span> <span class="mi">1</span><span class="o">;</span>
    <span class="k">return</span> <span class="n">que</span><span class="o">[</span><span class="n">rear</span><span class="o">];</span>
  <span class="o">}</span>
  
  <span class="kd">public</span> <span class="kt">int</span> <span class="nf">peekFront</span><span class="o">()</span> <span class="kd">throws</span> <span class="nc">EmptyIntDequeueException</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">num</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="o">)</span>
      <span class="k">throw</span> <span class="k">new</span> <span class="nf">EmptyIntDequeueException</span><span class="o">();</span>
    <span class="k">return</span> <span class="n">que</span><span class="o">[</span><span class="n">front</span><span class="o">];</span>
  <span class="o">}</span>
  
  <span class="kd">public</span> <span class="kt">int</span> <span class="nf">peekRear</span><span class="o">()</span> <span class="kd">throws</span> <span class="nc">EmptyIntDequeueException</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">num</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="o">)</span>
      <span class="k">throw</span> <span class="k">new</span> <span class="nf">EmptyIntDequeueException</span><span class="o">();</span>
    <span class="k">return</span> <span class="n">que</span><span class="o">[</span><span class="n">rear</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">?</span> <span class="n">max</span> <span class="o">-</span> <span class="mi">1</span> <span class="o">:</span> <span class="n">rear</span> <span class="o">-</span> <span class="mi">1</span><span class="o">];</span>
  <span class="o">}</span>
  
  <span class="kd">public</span> <span class="kt">int</span> <span class="nf">indexOf</span><span class="o">(</span><span class="kt">int</span> <span class="n">x</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">num</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
      <span class="kt">int</span> <span class="n">idx</span> <span class="o">=</span> <span class="o">(</span><span class="n">front</span> <span class="o">+</span> <span class="n">i</span><span class="o">)</span> <span class="o">%</span> <span class="n">max</span><span class="o">;</span>
      <span class="k">if</span> <span class="o">(</span><span class="n">que</span><span class="o">[</span><span class="n">idx</span><span class="o">]</span> <span class="o">==</span> <span class="n">x</span><span class="o">)</span>
        <span class="k">return</span> <span class="n">idx</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="o">;</span>
  <span class="o">}</span>
  
  
  <span class="kd">public</span> <span class="kt">int</span> <span class="nf">search</span><span class="o">(</span><span class="kt">int</span> <span class="n">x</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">num</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
      <span class="k">if</span> <span class="o">(</span><span class="n">que</span><span class="o">[(</span><span class="n">front</span> <span class="o">+</span> <span class="n">i</span><span class="o">)</span> <span class="o">%</span> <span class="n">max</span><span class="o">]</span> <span class="o">==</span> <span class="n">x</span><span class="o">)</span>
        <span class="k">return</span> <span class="n">i</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="o">;</span>
  <span class="o">}</span>
  
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">clear</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">num</span> <span class="o">=</span> <span class="n">front</span> <span class="o">=</span> <span class="n">rear</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
  <span class="o">}</span>
  
  <span class="kd">public</span> <span class="kt">int</span> <span class="nf">capacity</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">max</span><span class="o">;</span>
  <span class="o">}</span>
  
  <span class="kd">public</span> <span class="kt">int</span> <span class="nf">size</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">num</span><span class="o">;</span>
  <span class="o">}</span>
  
  <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">isEmpty</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">num</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="o">;</span>
  <span class="o">}</span>
  
  <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">isFull</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">num</span> <span class="o">&gt;=</span> <span class="n">max</span><span class="o">;</span>
  <span class="o">}</span>
  
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">dump</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">num</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="o">)</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"deck이 비었습니다."</span><span class="o">);</span>
    <span class="k">else</span> <span class="o">{</span>
      <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">num</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="n">que</span><span class="o">[(</span><span class="n">i</span> <span class="o">+</span> <span class="n">front</span><span class="o">)</span> <span class="o">%</span> <span class="n">max</span><span class="o">]</span> <span class="o">+</span> <span class="s">" "</span><span class="o">);</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">();</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><h3 id="링-버퍼의-활용">링 버퍼의 활용</h3><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/50407047/96389168-cd564500-11e8-11eb-85b8-5be763ded4b6.png" alt="image" /></p><ul><li>링 버퍼는 <strong>오래된 데이터를 버리는 용도</strong>로 사용할 수 있다.<li>다음 예제는 정수 입력(인큐)는 무한히 할 수 있지만 배열에 저장되는 데이터는 가장 최근에 입력한 10개의 데이터만 링 버퍼에 남아 있다.</ul><p><strong>실습 4C-1</strong> LastNElements</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
</pre><td class="rouge-code"><pre>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">LastNElements</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">Scanner</span> <span class="n">sc</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Scanner</span><span class="o">(</span><span class="nc">System</span><span class="o">.</span><span class="na">in</span><span class="o">);</span>
    <span class="kd">final</span> <span class="kt">int</span> <span class="no">N</span> <span class="o">=</span> <span class="mi">10</span><span class="o">;</span>
    <span class="kt">int</span><span class="o">[]</span> <span class="n">a</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="no">N</span><span class="o">];</span>
    
    <span class="kt">int</span> <span class="n">cnt</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
    <span class="kt">int</span> <span class="n">retry</span><span class="o">;</span>
    
    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"정수를 입력하세요."</span><span class="o">);</span>
    
    <span class="k">do</span> <span class="o">{</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">printf</span><span class="o">(</span><span class="s">"%d번째 정수: "</span><span class="o">,</span> <span class="n">cnt</span> <span class="o">+</span> <span class="mi">1</span><span class="o">);</span>
      <span class="n">a</span><span class="o">[</span><span class="n">cnt</span><span class="o">++</span> <span class="o">%</span> <span class="no">N</span><span class="o">]</span> <span class="o">=</span> <span class="n">sc</span><span class="o">.</span><span class="na">nextInt</span><span class="o">();</span>
      
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="s">"계속 할까요? (예.1/아니오.0): "</span><span class="o">);</span>
      <span class="n">retry</span> <span class="o">=</span> <span class="n">sc</span><span class="o">.</span><span class="na">nextInt</span><span class="o">();</span>
    <span class="o">}</span> <span class="k">while</span> <span class="o">(</span><span class="n">retry</span> <span class="o">==</span> <span class="mi">1</span><span class="o">);</span>
    
    <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">cnt</span> <span class="o">-</span> <span class="no">N</span><span class="o">;</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">i</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="o">)</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
    
    <span class="k">for</span> <span class="o">(;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">cnt</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">printf</span><span class="o">(</span><span class="s">"%2d번째의 정수=%d\n"</span><span class="o">,</span> <span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="o">,</span> <span class="n">a</span><span class="o">[</span><span class="n">i</span><span class="o">%</span><span class="no">N</span><span class="o">]);</span>
  <span class="o">}</span>
<span class="o">}</span>

</pre></table></code></div></div></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/do-it/'>do-it</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/do-it/" class="post-tag no-text-decoration" >do-it</a> <a href="/tags/java/" class="post-tag no-text-decoration" >java</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Do it! 자료구조와 함께 배우는 알고리즘 #4장: 스택과 큐(+ 링 버퍼) - 하연&url=https://hayeon17kim.github.io//posts/doit04/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Do it! 자료구조와 함께 배우는 알고리즘 #4장: 스택과 큐(+ 링 버퍼) - 하연&u=https://hayeon17kim.github.io//posts/doit04/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=Do it! 자료구조와 함께 배우는 알고리즘 #4장: 스택과 큐(+ 링 버퍼) - 하연&url=https://hayeon17kim.github.io//posts/doit04/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/system-deisign-capacity-estimation/">System Design: Capacity Estimate</a><li><a href="/posts/today-i-learned-2021-04-27/">주니어 성장일기: 2021.04.27</a><li><a href="/posts/today-i-learned-2021-04-26/">주니어 성장일기: 2021.04.26</a><li><a href="/posts/fastcampus-01/">자료구조와 알고리즘이란</a><li><a href="/posts/today-i-learned-2021-04-25/">주니어 성장일기: 2021.04.25</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/java/">java</a> <a class="post-tag" href="/tags/javascript/">JavaScript</a> <a class="post-tag" href="/tags/bitcamp/">bitcamp</a> <a class="post-tag" href="/tags/modernjs/">modernJS</a> <a class="post-tag" href="/tags/project/">project</a> <a class="post-tag" href="/tags/algorithm/">algorithm</a> <a class="post-tag" href="/tags/trouble-shooting/">trouble-shooting</a> <a class="post-tag" href="/tags/devil/">devil</a> <a class="post-tag" href="/tags/corejs/">corejs</a> <a class="post-tag" href="/tags/network/">network</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/doit0101/"><div class="card-body"> <span class="timeago small" > Sep 6, 2020 <i class="unloaded">2020-09-06T00:00:00+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Do it! 자료구조와 함께 배우는 알고리즘 #1 (1) 알고리즘이란?</h3><div class="text-muted small"><p> 알고리즘이란? 문제를 해결하기 위한 것으로, 명확하게 정의되고 순서가 있는 유한 개의 규칙으로 이루어진 집합을 말한다. 순차적(concatenation) 구조: 여러 문장(프로세스)이 순차적으로 실행되는 구조 선택(selection) 구조: () 안에 있는 식의 평가 결과에 따라 프로그램의 실행 흐름을 변경하는 if문 Syste...</p></div></div></a></div><div class="card"> <a href="/posts/doit01/"><div class="card-body"> <span class="timeago small" > Sep 26, 2020 <i class="unloaded">2020-09-26T00:00:00+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Do it! 자료구조와 함께 배우는 알고리즘 #1장 기본 알고리즘</h3><div class="text-muted small"><p> Do it 자료구조와 함께 배우는 알고리즘 1장을 읽고 푼 연습문제 코드와 내용을 정리하였습니다. 알고리즘이란? 문제를 해결하기 위한 것으로, 명확하게 정의되고 순서가 있는 유한 개의 규칙으로 이루어진 집합을 말한다. 순차적(concatenation) 구조: 여러 문장(프로세스)이 순차적으로 실행되는 구조 선택(selection) 구조:...</p></div></div></a></div><div class="card"> <a href="/posts/doit02/"><div class="card-body"> <span class="timeago small" > Oct 3, 2020 <i class="unloaded">2020-10-03T00:00:00+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Do it! 자료구조와 함께 배우는 알고리즘 #2장 기본 자료구조</h3><div class="text-muted small"><p> Do it 자료구조와 함께 배우는 알고리즘 2장을 읽고 푼 연습문제 코드와 내용을 정리하였습니다. 배열 자료구조 데이터 단위와 데이터 자체 사이의 물리적 또는 논리적 관계이다. 자료구조는 자료를 효율적으로 이용할 수 있도록 컴퓨터에 저장하는 방법을 말한다. 데이터 단위: 데이터를 구성하는 한 덩어리 배열 각 변수 이름을 ‘몇 번째’라...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/201019-60/" class="btn btn-outline-primary" prompt="Older"><p>학원 #60일차: 요구사항 분석(Use Case), Executors 태스크 프레임워크 - 스레드풀</p></a> <a href="/posts/html5-css3-01/" class="btn btn-outline-primary" prompt="Newer"><p>HTML5 CSS3 웹 표준의 정석 #1장: HTML 기본 다지기</p></a></div><div id="disqus" class="pt-2 pb-2"><p class="text-center text-muted small pb-5"> Loading comments from <a href="https://disqus.com/">Disqus</a> ...</p></div><script src="/assets/js/lib/jquery.disqusloader.min.js"></script> <script> const options = { scriptUrl: '//hayeon17kim-github-io.disqus.com/embed.js', disqusConfig: function() { this.page.title = 'Do it! 자료구조와 함께 배우는 알고리즘 #4장: 스택과 큐(+ 링 버퍼)'; this.page.url = 'https://hayeon17kim.github.io//posts/doit04/'; this.page.identifier = '/posts/doit04/'; } }; $.disqusLoader('#disqus', options); </script></div></div></div><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script> <script type="text/javascript"> const imgs = document.querySelectorAll('.post-content img'); const observer = lozad(imgs); observer.observe(); </script><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2021 <a href="https://twitter.com/MONI56219559">hayeon_kim</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/java/">java</a> <a class="post-tag" href="/tags/javascript/">JavaScript</a> <a class="post-tag" href="/tags/bitcamp/">bitcamp</a> <a class="post-tag" href="/tags/modernjs/">modernJS</a> <a class="post-tag" href="/tags/project/">project</a> <a class="post-tag" href="/tags/algorithm/">algorithm</a> <a class="post-tag" href="/tags/trouble-shooting/">trouble shooting</a> <a class="post-tag" href="/tags/devil/">devil</a> <a class="post-tag" href="/tags/corejs/">corejs</a> <a class="post-tag" href="/tags/network/">network</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://hayeon17kim.github.io/{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script>
