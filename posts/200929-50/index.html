<!DOCTYPE html><html lang="kr-KR" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="pv-cache-enabled" content="false"><meta name="generator" content="Jekyll v4.2.0" /><meta property="og:title" content="학원 #50일차: 자바 프로그램-운영체제-하드웨어 호출관계, 연결방식(Connectionful, Connectionless) 통신방식(Stateful, Stateless)" /><meta name="author" content="hayeon_kim" /><meta property="og:locale" content="kr_KR" /><meta name="description" content="어제 복습을 하다가 생긴 궁금증을 수업시간 전에 말씀드렸더니 감사히도 장장 1시간 동안 설명해주셨다. 컴퓨터 구조와 관련되어 있어 완벽히 이해하기는 어려웠지만 이해한 만큼 정리해보았다." /><meta property="og:description" content="어제 복습을 하다가 생긴 궁금증을 수업시간 전에 말씀드렸더니 감사히도 장장 1시간 동안 설명해주셨다. 컴퓨터 구조와 관련되어 있어 완벽히 이해하기는 어려웠지만 이해한 만큼 정리해보았다." /><link rel="canonical" href="https://hayeon17kim.github.io//posts/200929-50/" /><meta property="og:url" content="https://hayeon17kim.github.io//posts/200929-50/" /><meta property="og:site_name" content="하연" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2020-09-29T00:00:00+08:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="학원 #50일차: 자바 프로그램-운영체제-하드웨어 호출관계, 연결방식(Connectionful, Connectionless) 통신방식(Stateful, Stateless)" /><meta name="twitter:site" content="@MONI56219559" /><meta name="twitter:creator" content="@hayeon_kim" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"author":{"@type":"Person","name":"hayeon_kim"},"headline":"학원 #50일차: 자바 프로그램-운영체제-하드웨어 호출관계, 연결방식(Connectionful, Connectionless) 통신방식(Stateful, Stateless)","dateModified":"2020-09-29T00:00:00+08:00","datePublished":"2020-09-29T00:00:00+08:00","description":"어제 복습을 하다가 생긴 궁금증을 수업시간 전에 말씀드렸더니 감사히도 장장 1시간 동안 설명해주셨다. 컴퓨터 구조와 관련되어 있어 완벽히 이해하기는 어려웠지만 이해한 만큼 정리해보았다.","url":"https://hayeon17kim.github.io//posts/200929-50/","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://hayeon17kim.github.io//posts/200929-50/"},"@context":"https://schema.org"}</script><title>학원 #50일차: 자바 프로그램-운영체제-하드웨어 호출관계, 연결방식(Connectionful, Connectionless) 통신방식(Stateful, Stateless) | 하연</title><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon.png"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon-precomposed.png"><link rel="apple-touch-icon" sizes="57x57" href="/assets/img/favicons/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/assets/img/favicons/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicons/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/assets/img/favicons/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicons/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/assets/img/favicons/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicons/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/assets/img/favicons/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/assets/img/favicons/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/assets/img/favicons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/manifest.json"><meta name='msapplication-config' content='/assets/img/favicons/browserconfig.xml'><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/assets/img/favicons/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="cdn.jsdelivr.net"><link rel="dns-prefetch" href="cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=UA-173202420-1"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-173202420-1'); }); </script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/img/bio-photo.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">하연</a></div><div class="site-subtitle font-italic">어제보다 나은 코드를 위해</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/projects/" class="nav-link"> <i class="fa-fw fas fa-laptop-code ml-xl-3 mr-xl-3 unloaded"></i> <span>PROJECTS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/hayeon17kim" aria-label="github" class="order-3" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/MONI56219559" aria-label="twitter" class="order-4" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['hayeon17kim','gmail.com'].join('@')" aria-label="email" class="order-5" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" class="order-6" > <i class="fas fa-rss"></i> </a> <span class="icon-border order-2"></span> <span id="mode-toggle-wrapper" class="order-1"> <i class="mode-toggle fas fa-adjust"></i> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } var self = this; /* always follow the system prefers */ this.sysDarkPrefers.addListener(function() { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.updateMermaid(); }); } /* constructor() */ setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode == ModeToggle.DARK_MODE; } get isLightMode() { return this.mode == ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer) ) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } updateMermaid() { if (typeof mermaid !== "undefined") { let expectedTheme = (this.modeStatus === ModeToggle.DARK_MODE? "dark" : "default"); let config = { theme: expectedTheme }; /* re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function() { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.updateMermaid(); } /* flipMode() */ } /* ModeToggle */ let toggle = new ModeToggle(); $(".mode-toggle").click(function() { toggle.flipMode(); }); </script> </span></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Posts </a> </span> <span>학원 #50일차: 자바 프로그램-운영체제-하드웨어 호출관계, 연결방식(Connectionful, Connectionless) 통신방식(Stateful, Stateless)</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>학원 #50일차: 자바 프로그램-운영체제-하드웨어 호출관계, 연결방식(Connectionful, Connectionless) 통신방식(Stateful, Stateless)</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Tue, Sep 29, 2020, 12:00 AM +0800" > Sep 29, 2020 <i class="unloaded">2020-09-29T00:00:00+08:00</i> </span> by <span class="author"> hayeon_kim </span></div><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="4252 words">23 min</span></div></div><div class="post-content"><p>어제 복습을 하다가 생긴 궁금증을 수업시간 전에 말씀드렸더니 감사히도 장장 1시간 동안 설명해주셨다. 컴퓨터 구조와 관련되어 있어 완벽히 이해하기는 어려웠지만 이해한 만큼 정리해보았다.</p><h2 id="질문">질문</h2><p>net.ex03.Clinet0110의 out.write(100) 코드 위에 “실제 write()는 소켓의 내부 버퍼로 출력한다.”라는 주석이 있는데, 혹시 이것에 대해 설명해주실 수 있으신가요? Socket 클래스 소스코드에 setSendBufferSize()랑 getSendBufferSize() 메서드가 있긴 한데 실제 버퍼는 없는 것 같아서요.. 여기서 말하는 소켓은 자바의 Socket 클래스가 아닌 건가요?</p><h2 id="답변">답변</h2><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/50407047/94835683-fdfa5880-044c-11eb-8c82-087b9d9a4e34.jpg" alt="KakaoTalk_20201002_011440890" /></p><p>랜카드 메모리(RAM)가 버퍼를 쓰고 있다는 말이다. 모든 하드웨어는 RAM과 CPU를 가지고 있다. 프린터기도 RAM이 있어서 미리 출력할 데이터를 프린터 메모리에 올려 두고 출력을 한다.</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/50407047/94835686-fe92ef00-044c-11eb-93f1-19785b136e58.jpg" alt="KakaoTalk_20201002_011441262" /></p><p>byte stream의 경우 <code class="language-plaintext highlighter-rouge">socket.getOutputStream</code>으로 리턴받은 객체로 출력할 때는 소켓을 통해 출력할 경우 <strong>소켓에 상관 없이</strong> <strong>바로 출력</strong>한다. 주석에서 문법을 설명하기 위해 소켓의 버퍼로 출력한다는 말을 하였지만, 실제로는 랜카드 내부 RAM의 일부 영역에 있는 버퍼로 출력이 된다. <strong><code class="language-plaintext highlighter-rouge">write()</code> 메서드 호출 후 리턴되는 시기는 클라이언트가 <code class="language-plaintext highlighter-rouge">read()</code> 메서드를 사용하여 읽는 시점이 아니다.</strong> <strong>버퍼에 쌓인 것을 상대편이 데이터를 읽던 말든. 랜카드에 떨어지는 그 순간에 리턴한다.</strong> 다시 말해, <strong>출력이 다 이루어진다</strong>는 것의 의미는 <strong>상대편 컴퓨터에서 읽었느냐가 아니다</strong>. out.write()의 의미는 <strong>소켓의 버퍼(랜카드 버퍼) 출력되었는지</strong> 안 되었는지이다.</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/50407047/94835690-ff2b8580-044c-11eb-9d23-2de1865ac62b.jpg" alt="KakaoTalk_20201002_011441657" /></p><p>위의 그림을 보면 알 수 있든 App에서는 자바의 Socket 클래스를 사용하여 Socket 클래스를 통제하고, 이 자바의 Socket은 OS 소켓을 통제한다. OS 소켓은 자바가 아니라 C/C++ 언어로 쓰여져 있다. 그리고 OS 소켓은 랜카드를 제어한다.</p><p><strong>운영체제를 경유하지 않고 자바에서 하드웨어를 다이렉터로 제어하는 프로그램은 존재하지 않는다</strong>. 해킹의 위험이 있기 때문이다. 운영체제가 하드웨어를 제어하는 것이다. 윈도우 JVM은 윈도우에 있는 C, C++ 함수를 호출하며 동작한다.</p><p>자바 개발자는 그냥 Socket 객체를 생성해서 입출력을 하면 되지만, 그 소켓 클래스는 내부적으로 운영체제(리눅스, 윈도우, 맥)의 C/C++ 함수를 호출하여 하드웨어를 제어한다. 그렇기 때문에 JVM은 운영체제별로 따로 있다.</p><p>JVM은 App를 OS와 연결시켜주는 다리 역할을 한다(App -&gt; JVM -&gt; OS). 운영체제에 따라 호출하는 메서드가 다르기 때문에 App이 운영체제 함수를 다이렉트로 호출할 수 없다.</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/50407047/94835694-005cb280-044d-11eb-9ea4-c3e1d6a1f7f4.jpg" alt="KakaoTalk_20201002_011441899" /></p><p>그렇다고 JVM이 Driver(하드웨어를 제어하는 소프트웨어. 하드웨어 제조사에서 제공한다)의 메서드를 직접적으로 호출하는 것은 아니다. 운영체제의 구조를 좀 더 자세히 들어가면 HAL(Hardware Abstraction Layer)이라는 추상층이 있다. 자바 언어로 만든 프로그램은 JVM의 메서드를 호출하고, JVM의 메서드는 OS의 HAL 메서드를 호출한다. HAL의 메서드는 하드웨어를 제어하는 Driver의 메서드를 호출한다. Socket 클래스를 사용할 경우, Socket 클래스는 HAL의 OS 소켓 API를 호출하고, OS 소켓 API는 Driver의 Lancard API를 호출하며, 결과적으로 랜카드를 제어한다.</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/50407047/94835693-ffc41c00-044c-11eb-9492-ec3ced301d3e.jpg" alt="KakaoTalk_20201002_011441790" /></p><p>즉 프로그램이 운영체제에서 제공해주는 함수를 호출하고, 이 함수가 하드웨어를 제어하는 function을 호출하는 구조로 되어 있다. 직접 하드웨어 제조사의 함수를 호출하면 특정 하드웨어에 종속될 수 있으니까 HAL이 있는 것이다. <strong>HAL은 프로그래머가 디바이스 독립적인 프로그램을 만들 수 있도록 해준다</strong>.</p><blockquote><p>HAL 계층을 타지 않을 수도 있는데, 이것이 Direct X이다. 게임 성능을 위해 하드웨어 제공자가 제공한다.</p></blockquote><p>바이트 스트림은 바로 출력하고, 캐릭터 스트림은 내부 버퍼에 담아놓기 때문에 바로 출력하지 않는다. 따라서 character stream을 사용할 때는 반드시 write() 호출 후 flush()를 호출해야 한다. 그러나 실무에서는 출력할 때는 byte stream이든 character stream이든 flush()를 호출하는 편이 안전하다.</p><h2 id="어제자-수업-복습">어제자 수업 복습</h2><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/50407047/94835740-094d8400-044d-11eb-9a8f-f5cbcc8579f5.jpg" alt="KakaoTalk_20201002_011440310" /></p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/50407047/94835738-08b4ed80-044d-11eb-8afa-29543e6a32dc.jpg" alt="KakaoTalk_20201002_011439934" /></p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/50407047/94835681-fcc92b80-044c-11eb-9c8a-9e288c24c314.jpg" alt="KakaoTalk_20201002_011440599" /></p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/50407047/94835731-06eb2a00-044d-11eb-8886-d77eb932dfc1.jpg" alt="KakaoTalk_20201002_011439275" /></p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/50407047/94835697-00f54900-044d-11eb-8c5c-665df02675cd.jpg" alt="KakaoTalk_20201002_011442030" /></p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/50407047/94835734-0783c080-044d-11eb-859d-55db44733875.jpg" alt="KakaoTalk_20201002_011439553" /></p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/50407047/94835728-06529380-044d-11eb-806b-ebb1bac8cfc9.jpg" alt="KakaoTalk_20201002_011444320" /></p><h1 id="연결-방식">연결 방식</h1><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/50407047/94835703-018ddf80-044d-11eb-8220-d1f9274cc36b.jpg" alt="KakaoTalk_20201002_011443391" /></p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/50407047/94835705-02267600-044d-11eb-8e5b-f96ffe733756.jpg" alt="KakaoTalk_20201002_011443507" /></p><h1 id="통신-방식">통신 방식</h1><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/50407047/94835700-018ddf80-044d-11eb-9d5e-9c8a40696086.jpg" alt="KakaoTalk_20201002_011443217" /></p><h2 id="stateful">Stateful</h2><p>서버와 연결한 후, 클라이언트에서 연결을 끊을 때까지 계속해서 연결을 유지하며 클라이언트 요청을 처리한다.</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/50407047/94835709-02bf0c80-044d-11eb-828e-9c7ab7ae5b3b.jpg" alt="KakaoTalk_20201002_011443640" /></p><h3 id="단점">단점</h3><ul><li>한 번 연결하면 클라이언트가 연결을 끊을 때까지 계속 유지한다.<li>클라이언트가 작업을 요청하지 않더라도 계속 서버에 연결정보를 계속 유지하기 때문에 서버 메모리를 많이 차지하고, 동시에 많은 클라이언트의 요청을 처리하기 힘들다.<li>만약 서버가 순차적으로 클라이언트와 연결을 수행한다면 이전에 연결했던 클라이언트가 연결을 끊기 전까지는 다른 클라이언트와 연결되지 못하는 문제가 있다.</ul><h3 id="장점">장점</h3><ul><li>한 번 서버에 연결되면 클라이언트가 연결을 끊을 때까지 유지되기 때문에 요청할 때마다 매번 연결 작업을 수행할 필요가 없다. 따라서 요청에 대한 응답이 빠르다.<li>연결된 상태에서 수행한 작업 정보를 서버에 유지할 수 있어 영속성이 필요한 작업을 처리하는 데 유리하다.<li>작업시간: 데이터 전송 시간 + 작업 처리 시간 + 데이터 수신 시간<ul><li>즉 작업을 요청할 때마다 연결할 필요가 없기 때문에 연결하는데 시간이 걸리지 않는다.</ul></ul><h3 id="대표적인-예">대표적인 예</h3><ul><li>게임 서버 연결: 서버에 한 번 연결되면 게임을 마칠 때까지 데이터를 주고받는다.<li>화상 통신: 한 번 연결하면 연결을 끊을 때까지 데이터를 주고받는다.<li>채팅 서버: 전용 클라이언트를 이용한 채팅 ex) 유튜브 라이브 방송 채팅<li>텔렛: 원격 제어 프로그램<li>FTP: 파일 전송 프로그램<li>오프라인 예: 건강보험문의, 상담 등</ul><h3 id="실습">실습</h3><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/50407047/94835710-02bf0c80-044d-11eb-93b3-c2405c3206bc.jpg" alt="KakaoTalk_20201002_011443774" /></p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Client0120</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">Scanner</span> <span class="n">keyScan</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Scanner</span><span class="o">(</span><span class="nc">System</span><span class="o">.</span><span class="na">in</span><span class="o">);</span>
    <span class="k">try</span> <span class="o">(</span><span class="nc">Socket</span> <span class="n">socket</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Socket</span><span class="o">(</span><span class="s">"localhost"</span><span class="o">,</span> <span class="mi">8888</span><span class="o">);</span>
        <span class="nc">PrintWriter</span> <span class="n">out</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">PrintWriter</span><span class="o">(</span><span class="n">socket</span><span class="o">.</span><span class="na">getOutputSTream</span><span class="o">());</span>
        <span class="nc">BufferedReader</span> <span class="n">in</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">BufferedReader</span><span class="o">(</span><span class="k">new</span> <span class="nc">InputStreamReader</span><span class="o">(</span><span class="n">socket</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">()))</span> <span class="o">{</span>
          
          <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"서버와 연결되었음!"</span><span class="o">);</span>
          
          <span class="nc">String</span> <span class="n">name</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
          <span class="k">do</span> <span class="o">{</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="s">"이름?"</span><span class="o">);</span>
            <span class="n">name</span> <span class="o">=</span> <span class="n">keyScan</span><span class="o">.</span><span class="na">nextLine</span><span class="o">();</span>
            
            <span class="n">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">name</span><span class="o">);</span>
            <span class="n">out</span><span class="o">.</span><span class="na">flush</span><span class="o">();</span>
            
            <span class="nc">String</span> <span class="n">str</span> <span class="o">=</span> <span class="n">in</span><span class="o">.</span><span class="na">readLine</span><span class="o">();</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">str</span><span class="o">);</span>
          <span class="o">}</span> <span class="k">while</span> <span class="o">(!</span><span class="n">name</span><span class="o">.</span><span class="na">equalsIgnoreCase</span><span class="o">(</span><span class="s">"quit"</span><span class="o">)</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="n">name</span><span class="o">.</span><span class="na">equalsIgnoreCase</span><span class="o">(</span><span class="s">"stop"</span><span class="o">));</span>
          
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
          <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
        <span class="o">}</span>
         
      <span class="n">keyScan</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Server0120</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">try</span> <span class="o">(</span><span class="nc">Scanner</span> <span class="n">keyboard</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Scanner</span><span class="o">(</span><span class="nc">System</span><span class="o">.</span><span class="na">in</span><span class="o">);</span>
        <span class="nc">ServerSocket</span> <span class="n">serverSocket</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ServerSocket</span><span class="o">(</span><span class="mi">8888</span><span class="o">))</span> <span class="o">{</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"서버 실행!"</span><span class="o">);</span>
      
      <span class="nl">loop:</span> <span class="k">while</span><span class="o">(</span><span class="kc">true</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// 한 클라이언트와 대화가 끝나면 다음 클라이언트와 대화를 한다.</span>
        <span class="k">try</span> <span class="o">(</span><span class="nc">Socket</span> <span class="n">socket</span> <span class="o">=</span> <span class="n">serverSocket</span><span class="o">.</span><span class="na">accept</span><span class="o">();</span>
             <span class="nc">BufferedReader</span> <span class="n">in</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">BufferedReader</span><span class="o">(</span><span class="k">new</span> <span class="nc">InputStreamReader</span><span class="o">(</span><span class="n">socket</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">()));</span>
             <span class="nc">PrintWriter</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">PrintWriter</span><span class="o">(</span><span class="n">socket</span><span class="o">.</span><span class="na">getOutputStream</span><span class="o">()))</span> <span class="o">{</span>

          <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"클라이언트와 연결되었음!"</span><span class="o">);</span>

          <span class="k">while</span> <span class="o">(</span><span class="kc">true</span><span class="o">)</span> <span class="o">{</span>
            <span class="nc">String</span> <span class="n">name</span> <span class="o">=</span> <span class="n">in</span><span class="o">.</span><span class="na">readLine</span><span class="o">();</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">name</span><span class="o">.</span><span class="na">equalsIgnoreCase</span><span class="o">(</span><span class="s">"quit"</span><span class="o">))</span> <span class="o">{</span> <span class="c1">//클라이언트와 연결 끊기</span>
              <span class="n">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Goodbye!"</span><span class="o">);</span>
              <span class="n">out</span><span class="o">.</span><span class="na">flush</span><span class="o">();</span>
              <span class="k">break</span><span class="o">;</span>
            <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">(</span><span class="n">name</span><span class="o">.</span><span class="na">equalsIgnoreCase</span><span class="o">(</span><span class="s">"stop"</span><span class="o">))</span> <span class="o">{</span> <span class="c1">//서버 종료하기</span>
              <span class="n">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Goodbye!"</span><span class="o">);</span>
              <span class="n">out</span><span class="o">.</span><span class="na">flush</span><span class="o">();</span>
              <span class="k">break</span> <span class="n">loop</span><span class="o">;</span>
            <span class="o">}</span>
            <span class="n">out</span><span class="o">.</span><span class="na">printf</span><span class="o">(</span><span class="s">"%s님 반갑습니다!\n"</span><span class="o">,</span> <span class="n">name</span><span class="o">);</span>
            <span class="n">out</span><span class="o">.</span><span class="na">flush</span><span class="o">();</span>
          <span class="o">}</span>
        <span class="o">}</span> <span class="k">catch</span><span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
          <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"클라이언트와 통신 도중 오류 발생!"</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"클라이언트와의 연결을 끊었음."</span><span class="o">);</span>
      <span class="o">}</span>

    <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
      <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
    <span class="o">}</span>
    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"서버 종료!"</span><span class="o">);</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><h2 id="stateless">stateless</h2><p>서버에 작업을 요청할 때 연결하고, 서버로부터 응답을 받으면 즉시 연결을 끊는다. 즉 요청/응답을 한 번만 수행한다. 따라서 비영속적인 단일 작업을 처리할 때 적합한 통신 방식이다.</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/50407047/94835714-03f03980-044d-11eb-99bc-39edf488afb9.jpg" alt="KakaoTalk_20201002_011443908" /></p><h3 id="단점-1">단점</h3><ul><li>요청할 때마다 매번 서버에 연결해야 하기 때문에 실행 시간이 많이 걸린다.<li>실행 시간 = 연결하는데 걸린 시간 + 데이터 전송 시간 + 작업 처리 시간 + 데이터 수신 시간<li>서버와 연결할 때 사용자 인증(authentication; 아이디, 암호 유효 여부 검사)이나 사용권한 확인(authorization; 사용자에게 허락된 작업 범위를 확인) 같은 작업을 반드시 수행하는 경우 연결하는 데 더더욱 많은 시간이 걸린다.</ul><h3 id="장점-1">장점</h3><ul><li>서버가 계속 연결된 상태가 아니기 때문에 서버 입장에서는 메모리를 많이 사용하지 않는다. 클라이언트와 연결을 계속 유지하지 않기 때문에 작업을 처리하는 동안만 연결정보를 유지하기 때문이다.<li>따라서 같은 메모리라도 stateful 방식보다는 더 많은 클라이언트의 요청을 처리할 수 있다.</ul><h3 id="대표적인-예-1">대표적인 예</h3><ul><li>HTTP 통신: 웹 브라우저가 서버에 연결한 후 요청을 하고 서버가 응답을 한 후 연결을 끊는다.<li>메신저: 메신저 서버에 연결하고 메시지 전송 후 연결을 끊는다.<li>메일 전송: 메일 서버에 데이터 전송 후 연결을 끊는다.<li>오프라인 예: 114 안내, 배달 등</ul><h2 id="실습-1">실습</h2><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Server0210</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">try</span> <span class="o">(</span><span class="nc">Scanner</span> <span class="n">keyboard</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Scanner</span><span class="o">(</span><span class="nc">System</span><span class="o">.</span><span class="na">in</span><span class="o">);</span>
        <span class="nc">ServerSocket</span> <span class="n">serverSocket</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ServerSocket</span><span class="o">(</span><span class="mi">8888</span><span class="o">))</span> <span class="o">{</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"서버 실행!"</span><span class="o">);</span>
      
      <span class="k">while</span><span class="o">(</span><span class="kc">true</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// 한 클라이언트와 대화가 끝나면 다음 클라이언트와 대화를 한다.</span>
        <span class="k">try</span> <span class="o">(</span><span class="nc">Socket</span> <span class="n">socket</span> <span class="o">=</span> <span class="n">serverSocket</span><span class="o">.</span><span class="na">accept</span><span class="o">();</span>
             <span class="nc">BufferedReader</span> <span class="n">in</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">BufferedReader</span><span class="o">(</span><span class="k">new</span> <span class="nc">InputStreamReader</span><span class="o">(</span><span class="n">socket</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">()));</span>
             <span class="nc">PrintWriter</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">PrintWriter</span><span class="o">(</span><span class="n">socket</span><span class="o">.</span><span class="na">getOutputStream</span><span class="o">()))</span> <span class="o">{</span>

          <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"클라이언트와 연결되었음!"</span><span class="o">);</span>
          <span class="nc">String</span> <span class="n">name</span> <span class="o">=</span> <span class="n">in</span><span class="o">.</span><span class="na">readLine</span><span class="o">();</span>
          <span class="n">out</span><span class="o">.</span><span class="na">printf</span><span class="o">(</span><span class="s">"%s님 안녕하세요!"</span><span class="o">,</span> <span class="n">name</span><span class="o">);</span>
          <span class="n">out</span><span class="o">.</span><span class="na">flush</span><span class="o">();</span>
        <span class="o">}</span> <span class="k">catch</span><span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
          <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"클라이언트와 통신 도중 오류 발생!"</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"클라이언트와의 연결을 끊었음."</span><span class="o">);</span>
      <span class="o">}</span>

    <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
      <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
    <span class="o">}</span>
    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"서버 종료!"</span><span class="o">);</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Client0210</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">Scanner</span> <span class="n">keyScan</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Scanner</span><span class="o">(</span><span class="nc">System</span><span class="o">.</span><span class="na">in</span><span class="o">);</span>
		<span class="k">while</span> <span class="o">(</span><span class="kc">true</span><span class="o">)</span> <span class="o">{</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="s">"이름? "</span><span class="o">);</span>
      <span class="nc">String</span> <span class="n">name</span> <span class="o">=</span> <span class="n">keyScan</span><span class="o">.</span><span class="na">nextLine</span><span class="o">();</span>
      
      <span class="k">if</span> <span class="o">(</span><span class="n">name</span><span class="o">.</span><span class="na">equalsIgnoreCase</span><span class="o">(</span><span class="s">"quit"</span><span class="o">))</span>
        <span class="k">break</span><span class="o">;</span>
      
      <span class="c1">// 요청할 때 마다 서버와 연결한다.</span>
      <span class="k">try</span> <span class="o">(</span><span class="nc">Socket</span> <span class="n">socket</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Socket</span><span class="o">(</span><span class="s">"localhost"</span><span class="o">,</span> <span class="mi">8888</span><span class="o">);</span>
          <span class="nc">PrintWriter</span> <span class="n">out</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">PrintWriter</span><span class="o">(</span><span class="n">socket</span><span class="o">.</span><span class="na">getOutputStream</span><span class="o">());</span>
          <span class="nc">BufferedReader</span> <span class="n">in</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">BufferedReader</span><span class="o">(</span><span class="k">new</span> <span class="nc">InputStreamReader</span><span class="o">(</span><span class="n">socket</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">())))</span> <span class="o">{</span>

        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"서버와 연결되었음!"</span><span class="o">);</span>

        <span class="c1">// 한 번 요청한다.</span>
        <span class="n">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">name</span><span class="o">);</span>
        <span class="n">out</span><span class="o">.</span><span class="na">flush</span><span class="o">();</span>

        <span class="c1">// 응답 받으면 서버와 연결을 끊는다.</span>
        <span class="nc">String</span> <span class="n">str</span> <span class="o">=</span> <span class="n">in</span><span class="o">.</span><span class="na">readLine</span><span class="o">();</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">str</span><span class="o">);</span>

        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"서버와 연결 끊음!"</span><span class="o">);</span>

      <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
      <span class="o">}</span>
    <span class="o">}</span>
    <span class="n">keyScan</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><h1 id="stateful--stateless-한-계산기-만들기">stateful / stateless 한 계산기 만들기</h1><h2 id="stateful-calculator">stateful Calculator</h2><p>stateful을 사용하면 연결되어 있는 동안 클라이언트 <strong>작업 결과를 계속 유지</strong>할 수 있다. 클라이언트가 계산기를 사용하겠다는 요청을 하면 서버가 계산을 수행하고, 결과를 result 변수에 저장한다. 그리고 클라이언트에 결과를 반환한다. 서버와 클라이언트는 계속 연결되어 있기 때문에 저장된 result 값을 계속 사용하여 계산을 할 수 있다.</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/50407047/94835720-05216680-044d-11eb-9136-e922d510131f.jpg" alt="KakaoTalk_20201002_011444031" /></p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">CalcServer</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">Exception</span> <span class="o">{</span>
    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"서버 실행 중..."</span><span class="o">);</span>
    
    <span class="nc">ServerSocket</span> <span class="n">ss</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ServerSocket</span><span class="o">(</span><span class="mi">8888</span><span class="o">);</span>
    
    <span class="k">while</span> <span class="o">(</span><span class="kc">true</span><span class="o">)</span> <span class="o">{</span>
      <span class="nc">Socket</span> <span class="n">socket</span> <span class="o">=</span> <span class="n">ss</span><span class="o">.</span><span class="na">accept</span><span class="o">();</span>
      <span class="k">try</span> <span class="o">{</span>
        <span class="n">processRequest</span><span class="o">(</span><span class="n">socket</span><span class="o">);</span>
      <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"클라이언트 요청 처리 중 오류 발생!"</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"다음 클라이언트의 요청을 처리합니다."</span><span class="o">);</span>
      <span class="o">}</span>
    <span class="o">}</span>
  <span class="o">}</span>
  
  <span class="kd">static</span> <span class="kt">void</span> <span class="nf">processRequest</span><span class="o">(</span><span class="nc">Socket</span> <span class="n">socket</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">Exception</span> <span class="o">{</span>
    <span class="k">try</span> <span class="o">(</span><span class="nc">Socket</span> <span class="n">socket2</span> <span class="o">=</span> <span class="n">socket</span><span class="o">;</span>
        <span class="nc">DataInputStream</span> <span class="n">in</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">DataInputStream</span><span class="o">(</span><span class="n">socket</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">());</span>
        <span class="nc">PrintStream</span> <span class="n">out</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">PrintStream</span><span class="o">(</span><span class="n">socket</span><span class="o">.</span><span class="na">getOutputStream</span><span class="o">()))</span> <span class="o">{</span>
      
      <span class="c1">// 작업 결과를 유지할 변수</span>
      <span class="kt">int</span> <span class="n">result</span><span class="o">;</span>
      <span class="nl">loop:</span> <span class="k">while</span><span class="o">(</span><span class="kc">true</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">String</span> <span class="n">op</span> <span class="o">=</span> <span class="n">in</span><span class="o">.</span><span class="na">readUTF</span><span class="o">();</span>
        <span class="kt">int</span> <span class="n">value</span> <span class="o">=</span> <span class="n">in</span><span class="o">.</span><span class="na">readInt</span><span class="o">();</span>
        
        <span class="k">switch</span> <span class="o">(</span><span class="n">op</span><span class="o">)</span> <span class="o">{</span>
          <span class="k">case</span> <span class="s">"+"</span><span class="o">:</span>
            <span class="n">result</span> <span class="o">+=</span> <span class="n">value</span><span class="o">;</span>
            <span class="k">break</span><span class="o">;</span>
          <span class="k">case</span> <span class="s">"-"</span><span class="o">:</span>
            <span class="n">result</span> <span class="o">-=</span> <span class="n">value</span><span class="o">;</span>
            <span class="k">break</span><span class="o">;</span>
          <span class="k">case</span> <span class="s">"*"</span><span class="o">:</span>
            <span class="n">result</span> <span class="o">*=</span> <span class="n">value</span><span class="o">;</span>
            <span class="k">break</span><span class="o">;</span>
          <span class="k">case</span> <span class="s">"/"</span><span class="o">:</span>
            <span class="n">result</span> <span class="o">/=</span> <span class="n">value</span><span class="o">;</span>
            <span class="k">break</span><span class="o">;</span>
          <span class="k">case</span> <span class="s">"quit"</span><span class="o">:</span>
            <span class="k">break</span> <span class="n">loop</span><span class="o">;</span>
        <span class="o">}</span>
        
        <span class="n">out</span><span class="o">.</span><span class="na">printf</span><span class="o">(</span><span class="s">"계산 결과: %d\n"</span><span class="o">,</span> <span class="n">result</span><span class="o">);</span>
      <span class="o">}</span>
      <span class="n">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Goodbye!"</span><span class="o">);</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">CalcClient</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">Exception</span> <span class="o">{</span>
    <span class="nc">Scanner</span> <span class="n">keyScan</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Scanner</span><span class="o">(</span><span class="nc">System</span><span class="o">.</span><span class="na">in</span><span class="o">);</span>
    
    <span class="nc">Socket</span> <span class="n">socket</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Socket</span><span class="o">(</span><span class="s">"localhost"</span><span class="o">,</span> <span class="mi">8888</span><span class="o">);</span>
    <span class="nc">Scanner</span> <span class="n">in</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Scanner</span><span class="o">(</span><span class="n">socket</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">());</span>
    <span class="nc">DataOutputStream</span> <span class="n">out</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">DataOutputStream</span><span class="o">(</span><span class="n">socket</span><span class="o">.</span><span class="na">getOutputStream</span><span class="o">());</span>
    
    <span class="k">while</span> <span class="o">(</span><span class="kc">true</span><span class="o">)</span> <span class="o">{</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="s">"연산자? "</span><span class="o">);</span>
      <span class="n">out</span><span class="o">.</span><span class="na">writeUTF</span><span class="o">(</span><span class="n">keyScan</span><span class="o">.</span><span class="na">nextLine</span><span class="o">());</span>
      
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="s">"값1? "</span><span class="o">);</span>
      <span class="n">out</span><span class="o">.</span><span class="na">writeInt</span><span class="o">(</span><span class="n">keyScan</span><span class="o">.</span><span class="na">nextLine</span><span class="o">());</span>
      
      <span class="nc">String</span> <span class="n">str</span> <span class="o">=</span> <span class="n">in</span><span class="o">.</span><span class="na">nextLine</span><span class="o">();</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">str</span><span class="o">);</span>
      
      <span class="k">if</span> <span class="o">(</span><span class="n">str</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="s">"Goodbye!"</span><span class="o">))</span>
        <span class="k">break</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="n">in</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
    <span class="n">out</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
    <span class="n">socket</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
    <span class="n">keyScan</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><h2 id="stateless-calculator">stateless Calculator</h2><p>연결 상태가 유지되어 작업 결과를 그대로 사용할 수 있는 stateful한 계산기와 달리 stateless한 계산기는 계산을 한 후 바로 연결이 끊어진다. 그렇다면 stateless한 프로그램에서는 어떻게 클라이언트를 구분하고 작업결과를 유지할 수 있을까?</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/50407047/94835726-05b9fd00-044d-11eb-90a2-1ce9a521161a.jpg" alt="KakaoTalk_20201002_011444152" /></p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">CalcServer</span> <span class="o">{</span>
  <span class="c1">// 각 클라이언트의 작업 결과를 보관할 맵 객체</span>
  <span class="c1">// =&gt; Map&lt;clientID, result&gt;</span>
  <span class="kd">static</span> <span class="nc">Map</span><span class="o">&lt;</span><span class="nc">Long</span><span class="o">,</span> <span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">resultMap</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashMap</span><span class="o">&lt;&gt;();</span>
  
  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">Exception</span> <span class="o">{</span>
    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"서버 실행 중..."</span><span class="o">);</span>
    
    <span class="nc">ServerSocket</span> <span class="n">ss</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ServerSocket</span><span class="o">(</span><span class="mi">8888</span><span class="o">);</span>
    
    <span class="k">while</span><span class="o">(</span><span class="kc">true</span><span class="o">)</span> <span class="o">{</span>
      <span class="nc">Socket</span> <span class="n">socket</span> <span class="o">=</span> <span class="n">ss</span><span class="o">.</span><span class="na">accept</span><span class="o">();</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"클라이언트 요청 처리!"</span><span class="o">);</span>
      <span class="k">try</span> <span class="o">{</span>
        <span class="n">processRequest</span><span class="o">(</span><span class="n">socket</span><span class="o">);</span>
      <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"클라이언트 요청 처리 중 오류 발생!"</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"다음 클라이언트의 요청을 처리합니다."</span><span class="o">);</span>
      <span class="o">}</span>
    <span class="o">}</span>
    <span class="c1">//ss.close();</span>
  <span class="o">}</span>
  
  <span class="kd">static</span> <span class="kt">void</span> <span class="nf">processRequest</span><span class="o">(</span><span class="nc">Socket</span> <span class="n">socket</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">Exception</span> <span class="o">{</span>
    <span class="k">try</span> <span class="o">(</span><span class="nc">Socket</span> <span class="n">socket2</span> <span class="o">=</span> <span class="n">socket</span><span class="o">;</span>
        <span class="nc">DataInputStream</span> <span class="n">in</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">DataInputStream</span><span class="o">(</span><span class="n">socket</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">());</span>
        <span class="nc">DataOutputStream</span> <span class="n">out</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">DataOutputStream</span><span class="o">(</span><span class="n">socket</span><span class="o">.</span><span class="na">getOutputStream</span><span class="o">()))</span> <span class="o">{</span>
      
      <span class="c1">//클라이언트를 구분하기 위한 아이디</span>
      <span class="c1">// =&gt; 0: 아직 클라이언트 아이디가 없다는 의미</span>
      <span class="c1">// =&gt; x: 서버가 클라이언트에게 아이디를 부여했다는 의미</span>
      <span class="kt">long</span> <span class="n">clientId</span> <span class="o">=</span> <span class="n">in</span><span class="o">.</span><span class="na">readLong</span><span class="o">();</span>
      
      <span class="c1">// 클라이언트를 위한 기존 값 꺼내기</span>
      <span class="nc">Integer</span> <span class="n">obj</span> <span class="o">=</span> <span class="n">resultMap</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">clientId</span><span class="o">);</span>
      <span class="kt">int</span> <span class="n">result</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
      
      <span class="k">if</span> <span class="o">(</span><span class="n">obj</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"%d 기존 고객 요청 처리!\n"</span><span class="o">,</span> <span class="n">clientId</span><span class="o">);</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">obj</span><span class="o">;</span>
      <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
        <span class="n">clientId</span> <span class="o">=</span> <span class="nc">System</span><span class="o">.</span><span class="na">currentTimeMillis</span><span class="o">();</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">printf</span><span class="o">(</span><span class="s">"%d 신규 고객 요청 처리!\n"</span><span class="o">,</span> <span class="n">clientId</span><span class="o">);</span>
      <span class="o">}</span>
      
      <span class="k">switch</span> <span class="o">(</span><span class="n">op</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">case</span> <span class="s">"+"</span><span class="o">:</span>
          <span class="n">result</span> <span class="o">+=</span> <span class="n">value</span><span class="o">;</span>
          <span class="k">break</span><span class="o">;</span>
        <span class="k">case</span> <span class="s">"-"</span><span class="o">:</span>
          <span class="n">result</span> <span class="o">-=</span> <span class="n">value</span><span class="o">;</span>
          <span class="k">break</span><span class="o">;</span>
        <span class="k">case</span> <span class="s">"*"</span><span class="o">:</span>
          <span class="n">result</span> <span class="o">*=</span> <span class="n">value</span><span class="o">;</span>
          <span class="k">break</span><span class="o">;</span>
        <span class="k">case</span> <span class="s">"/"</span><span class="o">:</span>
          <span class="n">result</span> <span class="o">/=</span> <span class="n">value</span><span class="o">;</span>
          <span class="k">break</span><span class="o">;</span>
      <span class="o">}</span>
      
      <span class="c1">// 클라이언트로 응답할 때 항상 클라이언트 아이디와 결과를 출력한다.</span>
      <span class="n">out</span><span class="o">.</span><span class="na">writeLong</span><span class="o">(</span><span class="n">clientId</span><span class="o">);</span>
      <span class="n">out</span><span class="o">.</span><span class="na">writeInt</span><span class="o">(</span><span class="n">result</span><span class="o">);</span>
      <span class="n">out</span><span class="o">.</span><span class="na">flush</span><span class="o">();</span>
      
      <span class="c1">// 계산 결과를 다시 resultMap에 보관한다.</span>
      <span class="n">resultMap</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">clientId</span><span class="o">,</span> <span class="n">result</span><span class="o">);</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">CalcClient</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">Scanner</span> <span class="n">keyScan</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Scanner</span><span class="o">(</span><span class="nc">System</span><span class="o">.</span><span class="na">in</span><span class="o">);</span>
    
    <span class="c1">//서버에서 이 클라이언트를 구분할 때 사용하는 번호이다.</span>
    <span class="c1">// =&gt; 0번으로 서버에 요청하면, 서버가 신규 번호를 발급해 줄 것이다.</span>
    <span class="kt">long</span> <span class="n">clientId</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
    
    <span class="k">while</span> <span class="o">(</span><span class="kc">true</span><span class="o">)</span> <span class="o">{</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="s">"연산자? "</span><span class="o">);</span>
      <span class="nc">String</span> <span class="n">op</span> <span class="o">=</span> <span class="n">keyScan</span><span class="o">.</span><span class="na">nextLine</span><span class="o">();</span>
      
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="s">"값? "</span><span class="o">);</span>
      <span class="kt">int</span> <span class="n">value</span> <span class="o">=</span> <span class="nc">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">keyScan</span><span class="o">.</span><span class="na">nextLine</span><span class="o">());</span>
      
      <span class="k">try</span> <span class="o">(</span><span class="nc">Socket</span> <span class="n">socket</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Socket</span><span class="o">(</span><span class="s">"localhost"</span><span class="o">,</span> <span class="mi">8888</span><span class="o">);</span>
          <span class="nc">DataOutputStream</span> <span class="n">out</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">DataOutputStream</span><span class="o">(</span><span class="n">socket</span><span class="o">.</span><span class="na">getOutputStream</span><span class="o">());</span>
           <span class="nc">DataInputStream</span> <span class="n">in</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">DataInputStream</span><span class="o">(</span><span class="n">socket</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">()))</span> <span class="o">{</span>
        <span class="c1">// =&gt; 서버에 클라이언트 아이디를 보낸다.</span>
        <span class="n">out</span><span class="o">.</span><span class="na">writLong</span><span class="o">(</span><span class="n">clientId</span><span class="o">);</span>
        
        <span class="c1">// =&gt; 서버에 연산자와 값을 보낸다.</span>
        <span class="n">out</span><span class="o">.</span><span class="na">writeUTF</span><span class="o">(</span><span class="n">op</span><span class="o">);</span>
        <span class="n">out</span><span class="o">.</span><span class="na">writeItn</span><span class="o">(</span><span class="n">value</span><span class="o">);</span>
        <span class="n">out</span><span class="o">.</span><span class="na">flush</span><span class="o">();</span>
        
        <span class="c1">// =&gt; 서버에서 보낸 클라이언트 아이디를 읽는다.</span>
        <span class="n">clientId</span> <span class="o">=</span> <span class="n">in</span><span class="o">.</span><span class="na">readLong</span><span class="o">();</span>
        
        <span class="c1">// =&gt; 서버에서 보낸 결과를 읽는다.</span>
        <span class="kt">int</span> <span class="n">result</span> <span class="o">=</span> <span class="n">in</span><span class="o">.</span><span class="na">readInt</span><span class="o">();</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">printf</span><span class="o">(</span><span class="s">"계산 결과: %d\n"</span><span class="o">,</span> <span class="n">result</span><span class="o">);</span>
        
      <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"서버와 통신 중 오류 발생!"</span><span class="o">);</span>
      <span class="o">}</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="s">"계속하시겠습니까? (Y/n)"</span><span class="o">);</span>
      <span class="k">if</span> <span class="o">(</span><span class="n">keyScan</span><span class="o">.</span><span class="na">nextLine</span><span class="o">().</span><span class="na">equlsIgnoreCase</span><span class="o">(</span><span class="s">"n"</span><span class="o">))</span>
        <span class="k">break</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="n">keyScan</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/bitcamp/'>bitcamp</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/bitcamp/" class="post-tag no-text-decoration" >bitcamp</a> <a href="/tags/java/" class="post-tag no-text-decoration" >java</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=학원 #50일차: 자바 프로그램-운영체제-하드웨어 호출관계, 연결방식(Connectionful, Connectionless) 통신방식(Stateful, Stateless) - 하연&url=https://hayeon17kim.github.io//posts/200929-50/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=학원 #50일차: 자바 프로그램-운영체제-하드웨어 호출관계, 연결방식(Connectionful, Connectionless) 통신방식(Stateful, Stateless) - 하연&u=https://hayeon17kim.github.io//posts/200929-50/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=학원 #50일차: 자바 프로그램-운영체제-하드웨어 호출관계, 연결방식(Connectionful, Connectionless) 통신방식(Stateful, Stateless) - 하연&url=https://hayeon17kim.github.io//posts/200929-50/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/system-deisign-capacity-estimation/">System Design: Capacity Estimate</a><li><a href="/posts/today-i-learned-2021-04-27/">주니어 성장일기: 2021.04.27</a><li><a href="/posts/today-i-learned-2021-04-26/">주니어 성장일기: 2021.04.26</a><li><a href="/posts/fastcampus-01/">자료구조와 알고리즘이란</a><li><a href="/posts/today-i-learned-2021-04-25/">주니어 성장일기: 2021.04.25</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/java/">java</a> <a class="post-tag" href="/tags/javascript/">JavaScript</a> <a class="post-tag" href="/tags/bitcamp/">bitcamp</a> <a class="post-tag" href="/tags/modernjs/">modernJS</a> <a class="post-tag" href="/tags/project/">project</a> <a class="post-tag" href="/tags/algorithm/">algorithm</a> <a class="post-tag" href="/tags/trouble-shooting/">trouble-shooting</a> <a class="post-tag" href="/tags/devil/">devil</a> <a class="post-tag" href="/tags/corejs/">corejs</a> <a class="post-tag" href="/tags/network/">network</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/201123-85/"><div class="card-body"> <span class="timeago small" > Nov 23, 2020 <i class="unloaded">2020-11-23T00:00:00+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>학원 #85일차:서블릿 프로그래밍, WAS, JavaEE와 Servlet 컨테이너, Servlet 인터페이스의 Life-cycle 메서드</h3><div class="text-muted small"><p> 서블릿 프로그래밍 웹 애플리케이션 서버 아키텍쳐의 개념 JavaEE와 Servlet API의 관계 JavaEE 구현체와 서블릿 컨테이너의 관계 eomcs-web-project/src-00 예제 실습 Servlet 인터페이스와 Life-cycle 메서드 WAS(Web Application Server) 아키텍처 이전까지는 사...</p></div></div></a></div><div class="card"> <a href="/posts/201124-86/"><div class="card-body"> <span class="timeago small" > Nov 24, 2020 <i class="unloaded">2020-11-24T00:00:00+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>학원 #86일차:서블릿 프로그래밍, 프로젝트를 WAS 아키텍처로 전환</h3><div class="text-muted small"><p> 서블릿 컨테이너가 관리하는 컴포넌트는 서블릿, 필터, 리스너로 3가지이다. Servlet 만들기 1. javax.servlet.Servlet 인터페이스 구현 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38...</p></div></div></a></div><div class="card"> <a href="/posts/201125-87/"><div class="card-body"> <span class="timeago small" > Nov 25, 2020 <i class="unloaded">2020-11-25T00:00:00+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>학원 #87일차: HTML 태그 사용법</h3><div class="text-muted small"><p> HTML/CSS 학습법: 결과 화면 먼저 보고 소스코드를 확인하자 UI와 UX UX(User Experience; 사용자 경험): 사용자 편의성 ex: 링크에 hover했을 때 커서가 손모양으로 바뀌어야 한다. UI(User Interface): 기능을 하는 화면이 있는가 HTML ...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/200928-49/" class="btn btn-outline-primary" prompt="Older"><p>학원 #49일차: 네트워크 기초(IP, 랜카드, port fowarding, 패킷, DNS, ISP), Socket과 byte stream</p></a> <a href="/posts/corejs0208/" class="btn btn-outline-primary" prompt="Newer"><p>코어 자바스크립트 #2.8: 기본 연산자와 수학</p></a></div><div id="disqus" class="pt-2 pb-2"><p class="text-center text-muted small pb-5"> Loading comments from <a href="https://disqus.com/">Disqus</a> ...</p></div><script src="/assets/js/lib/jquery.disqusloader.min.js"></script> <script> const options = { scriptUrl: '//hayeon17kim-github-io.disqus.com/embed.js', disqusConfig: function() { this.page.title = '학원 #50일차: 자바 프로그램-운영체제-하드웨어 호출관계, 연결방식(Connectionful, Connectionless) 통신방식(Stateful, Stateless)'; this.page.url = 'https://hayeon17kim.github.io//posts/200929-50/'; this.page.identifier = '/posts/200929-50/'; } }; $.disqusLoader('#disqus', options); </script></div></div></div><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script> <script type="text/javascript"> const imgs = document.querySelectorAll('.post-content img'); const observer = lozad(imgs); observer.observe(); </script><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2021 <a href="https://twitter.com/MONI56219559">hayeon_kim</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/java/">java</a> <a class="post-tag" href="/tags/javascript/">JavaScript</a> <a class="post-tag" href="/tags/bitcamp/">bitcamp</a> <a class="post-tag" href="/tags/modernjs/">modernJS</a> <a class="post-tag" href="/tags/project/">project</a> <a class="post-tag" href="/tags/algorithm/">algorithm</a> <a class="post-tag" href="/tags/trouble-shooting/">trouble shooting</a> <a class="post-tag" href="/tags/devil/">devil</a> <a class="post-tag" href="/tags/corejs/">corejs</a> <a class="post-tag" href="/tags/network/">network</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://hayeon17kim.github.io/{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script>
