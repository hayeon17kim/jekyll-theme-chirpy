<!DOCTYPE html><html lang="kr-KR" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="pv-cache-enabled" content="false"><meta name="generator" content="Jekyll v4.2.0" /><meta property="og:title" content="학원 #35일차: 중첩 클래스: static nested class, inner class, local class" /><meta name="author" content="hayeon_kim" /><meta property="og:locale" content="kr_KR" /><meta name="description" content="클래스 종류에 따른 사용 범위" /><meta property="og:description" content="클래스 종류에 따른 사용 범위" /><link rel="canonical" href="https://hayeon17kim.github.io//posts/200908-35/" /><meta property="og:url" content="https://hayeon17kim.github.io//posts/200908-35/" /><meta property="og:site_name" content="하연" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2020-09-08T00:00:00+08:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="학원 #35일차: 중첩 클래스: static nested class, inner class, local class" /><meta name="twitter:site" content="@MONI56219559" /><meta name="twitter:creator" content="@hayeon_kim" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"author":{"@type":"Person","name":"hayeon_kim"},"headline":"학원 #35일차: 중첩 클래스: static nested class, inner class, local class","dateModified":"2020-09-08T00:00:00+08:00","datePublished":"2020-09-08T00:00:00+08:00","description":"클래스 종류에 따른 사용 범위","url":"https://hayeon17kim.github.io//posts/200908-35/","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://hayeon17kim.github.io//posts/200908-35/"},"@context":"https://schema.org"}</script><title>학원 #35일차: 중첩 클래스: static nested class, inner class, local class | 하연</title><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon.png"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon-precomposed.png"><link rel="apple-touch-icon" sizes="57x57" href="/assets/img/favicons/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/assets/img/favicons/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicons/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/assets/img/favicons/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicons/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/assets/img/favicons/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicons/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/assets/img/favicons/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/assets/img/favicons/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/assets/img/favicons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/manifest.json"><meta name='msapplication-config' content='/assets/img/favicons/browserconfig.xml'><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/assets/img/favicons/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="cdn.jsdelivr.net"><link rel="dns-prefetch" href="cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=UA-173202420-1"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-173202420-1'); }); </script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/img/bio-photo.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">하연</a></div><div class="site-subtitle font-italic">어제보다 나은 코드를 위해</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/projects/" class="nav-link"> <i class="fa-fw fas fa-laptop-code ml-xl-3 mr-xl-3 unloaded"></i> <span>PROJECTS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/hayeon17kim" aria-label="github" class="order-3" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/MONI56219559" aria-label="twitter" class="order-4" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['hayeon17kim','gmail.com'].join('@')" aria-label="email" class="order-5" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" class="order-6" > <i class="fas fa-rss"></i> </a> <span class="icon-border order-2"></span> <span id="mode-toggle-wrapper" class="order-1"> <i class="mode-toggle fas fa-adjust"></i> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } var self = this; /* always follow the system prefers */ this.sysDarkPrefers.addListener(function() { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.updateMermaid(); }); } /* constructor() */ setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode == ModeToggle.DARK_MODE; } get isLightMode() { return this.mode == ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer) ) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } updateMermaid() { if (typeof mermaid !== "undefined") { let expectedTheme = (this.modeStatus === ModeToggle.DARK_MODE? "dark" : "default"); let config = { theme: expectedTheme }; /* re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function() { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.updateMermaid(); } /* flipMode() */ } /* ModeToggle */ let toggle = new ModeToggle(); $(".mode-toggle").click(function() { toggle.flipMode(); }); </script> </span></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Posts </a> </span> <span>학원 #35일차: 중첩 클래스: static nested class, inner class, local class</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>학원 #35일차: 중첩 클래스: static nested class, inner class, local class</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Tue, Sep 8, 2020, 12:00 AM +0800" > Sep 8, 2020 <i class="unloaded">2020-09-08T00:00:00+08:00</i> </span> by <span class="author"> hayeon_kim </span></div><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="8728 words">48 min</span></div></div><div class="post-content"><p>클래스 종류에 따른 사용 범위</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/50407047/93017663-7071d880-f605-11ea-8bb4-01a573a30d74.JPG" alt="IMG_0099" /></p><p>스태틱 중첩 클래스와 내부 클래스가 접근 가능한 바깥 클래스 멤버 <img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/50407047/93017668-723b9c00-f605-11ea-8f6b-69b5e0454a22.JPG" alt="IMG_0102" /></p><h2 id="top-level-class">top level class</h2><ul><li>패키지에 소속된 클래스를 top level class(패키지 멤버 클래스)라고 부른다.<li>top level class의 접근 제한자<ul><li>public: 다른 패키지에서도 접근 가능<li>(pakage-private): 다른 패키지에서 접근 불가</ul></ul><blockquote><p>컴파일러는 public class의 이름과 소스 파일명이 일치해야 컴파일해준다. 한 소스파일의 top-level 클래스 중 오직 한 개의 클래스만이 public이 될 수 있다.</p></blockquote><h2 id="nested-class">nested class</h2><p>특정 클래스 안에서만 사용되는 클래스가 있다면 중첩 클래스로 선언하라. 즉 노출범위를 좁히는 것이 유지보수에 도움이 된다.</p><h3 id="종류">종류</h3><ul><li>static nested class<ul><li>바깥 클래스의 인스턴스에 종속되지 않는 클래스<li>top level class와 동일하게 사용된다.</ul><li>non-static nested class<ul><li>바깥 클래스의 인스턴스에 종속되는 클래스<li>바깥 클래스의 인스턴스 없이 생성할 수 없다.</ul><li>local class<ul><li>특정 메서드 안에서만 사용되는 클래스</ul><li>anonymous class<ul><li>클래스를 정의하는 동시에 인스턴스를 생성해야 한다.<li>클래스 이름이 없기 때문에 생성자를 정의할 수 없다.<li>인스턴스의 값을 초기화시키기 위해 복잡한 코드를 작성해야 한다면 인스턴스 블록에 작성하자.<li>단 한 개의 인스턴스만 생성해서 사용할 경우 익명 클래스를 사용한다.<li>문법<ul><li><code class="language-plaintext highlighter-rouge">new 수퍼클래스() {클래스 정의}</code><li><code class="language-plaintext highlighter-rouge">new 인터페이스() {클래스 정의}</code></ul></ul></ul><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Exam0210</span> <span class="o">{</span>
    <span class="c1">// 1) static nested class</span>
    <span class="kd">static</span> <span class="kd">class</span> <span class="nc">A</span> <span class="o">{}</span>
    <span class="kd">static</span> <span class="kt">int</span> <span class="n">a</span><span class="o">;</span>
    <span class="kd">static</span> <span class="kt">void</span> <span class="nf">m1</span><span class="o">()</span> <span class="o">{}</span>
    <span class="kd">static</span> <span class="o">{}</span>
    
    <span class="c1">// 2) non-static nested class = inner class</span>
    <span class="kd">class</span> <span class="nc">B</span> <span class="o">{}</span>
    <span class="kt">int</span> <span class="n">b</span><span class="o">;</span>
    <span class="kt">void</span> <span class="nf">m2</span><span class="o">()</span> <span class="o">{}</span>
    <span class="o">{}</span>
    
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// 3) local class</span>
        <span class="kd">class</span> <span class="nc">C</span> <span class="o">{}</span>
        
        <span class="c1">// 4) anonymous class</span>
        <span class="nc">Object</span> <span class="n">obj</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Object</span><span class="o">()</span> <span class="o">{</span>
            <span class="c1">// Object 클래스를 상속 받은 익명 클래스를 만든다.</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">m1</span><span class="o">()</span> <span class="o">{</span>
                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Hello!"</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><h2 id="접근-제어">접근 제어</h2><p>top level class는 public과 public이 아닌 클래스로 나뉘어진다. public 으로 공개된 클래스는 다른 패키지에서 접근할 수 있지만 public으로 공개되지 않은 클래스는 다른 패키지에서 접근할 수 없다.</p><p>한편, 중첩클래스는 클래스의 멤버이기 때문에 필드나 메서드처럼 접근 제한자를 사용할 수 있다. 다만 로컬 클래스는 로컬 변수처럼 접근 제어 modifier를 붙일 수 없다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Exam0310</span> <span class="o">{</span>
  <span class="kd">private</span> <span class="kd">static</span> <span class="kd">class</span> <span class="nc">A1</span> <span class="o">{}</span> 
  <span class="kd">static</span> <span class="kd">class</span> <span class="nc">A2</span> <span class="o">{}</span>
  <span class="kd">protected</span> <span class="kd">static</span> <span class="kd">class</span> <span class="nc">A3</span> <span class="o">{}</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kd">class</span> <span class="nc">A4</span> <span class="o">{}</span>

  <span class="kd">private</span> <span class="kd">class</span> <span class="nc">B1</span> <span class="o">{}</span> 
  <span class="kd">class</span> <span class="nc">B2</span> <span class="o">{}</span>
  <span class="kd">protected</span> <span class="kd">class</span> <span class="nc">B3</span> <span class="o">{}</span>
  <span class="kd">public</span> <span class="kd">class</span> <span class="nc">B4</span> <span class="o">{}</span>
  
  <span class="c1">// 로컬 클래스는 접근 제어 modifier를 붙일 수 없다.</span>
  <span class="kd">static</span> <span class="kt">void</span> <span class="nf">m1</span><span class="o">()</span> <span class="o">{</span>
    <span class="kd">class</span> <span class="nc">C1</span><span class="o">{}</span>
  <span class="o">}</span>
  <span class="kt">void</span> <span class="nf">m2</span><span class="o">()</span> <span class="o">{</span>
    <span class="kd">class</span> <span class="nc">C2</span><span class="o">{}</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><h2 id="static-nested-class">static nested class</h2><h3 id="클래스-정의와-인스턴스-생성">클래스 정의와 인스턴스 생성</h3><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre><td class="rouge-code"><pre><span class="kd">class</span> <span class="nc">A</span> <span class="o">{</span>
  <span class="kd">static</span> <span class="kd">class</span> <span class="nc">X</span> <span class="o">{}</span>
<span class="o">}</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Exam0110</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="c1">// 레퍼런스 선언</span>
    <span class="no">A</span><span class="o">.</span><span class="na">X</span> <span class="n">obj</span><span class="o">;</span>
    <span class="c1">// 인스턴스 생성</span>
    <span class="n">obj</span> <span class="o">=</span> <span class="k">new</span> <span class="no">A</span><span class="o">.</span><span class="na">X</span><span class="o">();</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><h3 id="선언할-수-있는-멤버">선언할 수 있는 멤버</h3><p>static nested class는 static 멤버와 non-static 멤버 모두 선언할 수 있다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre><td class="rouge-code"><pre><span class="kd">class</span> <span class="nc">A2</span> <span class="o">{</span>
  <span class="kd">static</span> <span class="kd">class</span> <span class="nc">X</span> <span class="o">{</span>
    <span class="kd">static</span> <span class="kt">int</span> <span class="n">v1</span><span class="o">;</span>
    <span class="kd">static</span> <span class="kt">void</span> <span class="nf">m1</span><span class="o">()</span> <span class="o">{}</span>
    <span class="kd">static</span> <span class="o">{}</span>
    
    <span class="kt">int</span> <span class="n">v2</span><span class="o">;</span>
    <span class="kt">void</span> <span class="nf">m2</span><span class="o">()</span> <span class="o">{}</span>
    <span class="o">{}</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><h3 id="다른-멤버에-접근하기">다른 멤버에 접근하기</h3><p>static nested class는 같은 클래스 멤버에는 접근할 수 있고, 바깥 클래스 이름을 생략할 수 있다. 그러나 <strong>인스턴스 멤버에는 접근할 수 없다.</strong></p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
</pre><td class="rouge-code"><pre><span class="kd">class</span> <span class="nc">B</span> <span class="o">{</span>
    <span class="kd">static</span> <span class="kt">int</span> <span class="n">v1</span><span class="o">;</span>
    <span class="kd">static</span> <span class="kt">void</span> <span class="nf">m1</span><span class="o">()</span> <span class="o">{}</span>
    
    <span class="kt">int</span> <span class="n">v2</span><span class="o">;</span>
    <span class="kt">void</span> <span class="nf">m2</span><span class="o">()</span> <span class="o">{}</span>
    
    <span class="kd">static</span> <span class="kd">class</span> <span class="nc">X</span> <span class="o">{</span>
        <span class="kt">void</span> <span class="nf">test</span><span class="o">()</span> <span class="o">{</span>
            <span class="c1">// 같은 클래스 멤버 접근 가능</span>
            <span class="no">B</span><span class="o">.</span><span class="na">v1</span> <span class="o">=</span> <span class="mi">100</span><span class="o">;</span>
            <span class="no">B</span><span class="o">.</span><span class="na">m1</span><span class="o">();</span>
            
            <span class="c1">// 바깥 클래스 이름 생략 가능</span>
            <span class="n">v1</span> <span class="o">=</span> <span class="mi">200</span><span class="o">;</span>
            <span class="n">m1</span><span class="o">();</span>
            
            <span class="c1">// 스태틱 멤버는 인스턴스 멤버에 접근 불가능</span>
            <span class="c1">//v2 = 100; // 컴파일 오류!</span>
            <span class="c1">//m2(); // 컴파일 오류!</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><h3 id="다른-멤버가-중첩-클래스-사용하기">다른 멤버가 중첩 클래스 사용하기</h3><p>같은 스태틱 멤버도, 인스턴스 멤버도 스태틱 멤버를 사용할 수 있으므로 static nested class를 사용할 수 있다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
</pre><td class="rouge-code"><pre><span class="kd">class</span> <span class="nc">C</span> <span class="o">{</span>
    <span class="kd">static</span> <span class="kt">void</span> <span class="nf">m1</span><span class="o">()</span> <span class="o">{</span>
        <span class="c1">// 스태틱 멤버가 static nested class 사용 가능</span>
        <span class="no">X</span> <span class="n">obj</span> <span class="o">=</span> <span class="k">new</span> <span class="no">X</span><span class="o">();</span>
        <span class="n">obj</span><span class="o">.</span><span class="na">test</span><span class="o">();</span>
    <span class="o">}</span>
    
    <span class="kt">void</span> <span class="nf">m2</span><span class="o">()</span> <span class="o">{</span>
        <span class="c1">// 인스턴스 멤버가 static nested class 사용 가능</span>
        <span class="no">X</span> <span class="n">obj</span> <span class="o">=</span> <span class="k">new</span> <span class="no">X</span><span class="o">();</span>
        <span class="n">obj</span><span class="o">.</span><span class="na">test</span><span class="o">();</span>
    <span class="o">}</span>
    
    <span class="kd">static</span> <span class="kd">class</span> <span class="nc">X</span> <span class="o">{</span>
        <span class="kt">void</span> <span class="nf">test</span><span class="o">()</span> <span class="o">{</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"X.test()"</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><h3 id="import">import</h3><p>중첩 클래스를 import할 때는 static을 적지 않는다.</p><p>와일드 카드로 전체 스태틱 멤버를 한꺼번에 지정하면, static nested class도 함께 import 된다. 그러나 실무에서는 어떤 변수인지 직관적으로 이해할 수 없기 때문에 와일드 카드 사용을 지양한다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre><td class="rouge-code"><pre><span class="kn">package</span> <span class="nn">com.eomcs.oop.ex11.b.sub</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">M</span> <span class="o">{</span>
  <span class="c1">// 다른 패키지에서 접근 할 수 있도록 public 으로 공개</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">int</span> <span class="n">v2</span><span class="o">;</span>

  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">m2</span><span class="o">()</span> <span class="o">{}</span>

  <span class="kd">public</span> <span class="kd">static</span> <span class="kd">class</span> <span class="nc">Y</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">test</span><span class="o">()</span> <span class="o">{</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"M.Y.test()"</span><span class="o">);</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
</pre><td class="rouge-code"><pre><span class="c1">// import static 사용 전</span>
<span class="kn">package</span> <span class="nn">com.eomcs.oop.ex11.b</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.comcs.oop.ex11.b.sub.M</span><span class="o">;</span>

<span class="kd">class</span> <span class="nc">D</span> <span class="o">{</span>
  <span class="kd">static</span> <span class="kt">int</span> <span class="n">v1</span><span class="o">;</span>
  <span class="kd">static</span> <span class="kt">void</span> <span class="nf">m1</span><span class="o">(){}</span>
  <span class="kd">static</span> <span class="kd">class</span> <span class="nc">X</span> <span class="o">{</span>
    <span class="kt">void</span> <span class="nf">test</span><span class="o">()</span> <span class="o">{</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"test()"</span><span class="o">);</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Exam0410</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
	 <span class="c1">// 같은 패키지 클래스</span>
    <span class="no">D</span><span class="o">.</span><span class="na">v1</span> <span class="o">=</span> <span class="mi">100</span><span class="o">;</span>
    <span class="no">D</span><span class="o">.</span><span class="na">m1</span><span class="o">();</span>
    <span class="no">D</span><span class="o">.</span><span class="na">X</span> <span class="n">obj</span> <span class="o">=</span> <span class="k">new</span> <span class="no">D</span><span class="o">.</span><span class="na">X</span><span class="o">();</span>
    
    <span class="c1">// 다른 패키지 클래스</span>
    <span class="no">M</span><span class="o">.</span><span class="na">v2</span> <span class="o">=</span> <span class="mi">200</span><span class="o">;</span>
    <span class="no">M</span><span class="o">.</span><span class="na">m2</span><span class="o">();</span>
    <span class="no">M</span><span class="o">.</span><span class="na">Y</span> <span class="n">obj2</span> <span class="o">=</span> <span class="k">new</span> <span class="no">M</span><span class="o">.</span><span class="na">Y</span><span class="o">();</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
</pre><td class="rouge-code"><pre><span class="c1">// import static 사용 후</span>
<span class="kn">package</span> <span class="nn">com.eomcs.oop.ex11.b</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">static</span> <span class="n">com</span><span class="o">.</span><span class="na">eomcs</span><span class="o">.</span><span class="na">oop</span><span class="o">.</span><span class="na">ex11</span><span class="o">.</span><span class="na">b</span><span class="o">.</span><span class="na">E</span><span class="o">.</span><span class="na">m1</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">static</span> <span class="n">com</span><span class="o">.</span><span class="na">eomcs</span><span class="o">.</span><span class="na">oop</span><span class="o">.</span><span class="na">ex11</span><span class="o">.</span><span class="na">b</span><span class="o">.</span><span class="na">E</span><span class="o">.</span><span class="na">v1</span><span class="o">;</span>
<span class="c1">//import static com.eomcs.oop.ex11.b.E.*; // 와일드카드 지정 가능</span>
<span class="kn">import</span> <span class="nn">static</span> <span class="n">com</span><span class="o">.</span><span class="na">eomcs</span><span class="o">.</span><span class="na">oop</span><span class="o">.</span><span class="na">ex11</span><span class="o">.</span><span class="na">b</span><span class="o">.</span><span class="na">sub</span><span class="o">.</span><span class="na">M</span><span class="o">.</span><span class="na">m2</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">static</span> <span class="n">com</span><span class="o">.</span><span class="na">eomcs</span><span class="o">.</span><span class="na">oop</span><span class="o">.</span><span class="na">ex11</span><span class="o">.</span><span class="na">b</span><span class="o">.</span><span class="na">sub</span><span class="o">.</span><span class="na">M</span><span class="o">.</span><span class="na">v2</span><span class="o">;</span>
<span class="c1">//import static com.eomcs.oop.ex11.b.sub.M.*; // 와일드카드 지정 가능</span>
<span class="c1">// 와일드 카드로 전체 스태틱 멤버를 한꺼번에 지정할 수 있다.</span>

<span class="c1">// 중첩 클래스를 import 할 때는 static을 적지 않는다.</span>
<span class="kn">import</span> <span class="nn">com.eomcs.oop.ex11.b.E.X</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.eomcs.oop.ex11.b.sub.M.Y</span><span class="o">;</span>

<span class="kd">class</span> <span class="nc">E</span> <span class="o">{</span>
  <span class="kd">static</span> <span class="kt">int</span> <span class="n">v1</span><span class="o">;</span>

  <span class="kd">static</span> <span class="kt">void</span> <span class="nf">m1</span><span class="o">()</span> <span class="o">{}</span>

  <span class="kd">static</span> <span class="kd">class</span> <span class="nc">X</span> <span class="o">{</span>
    <span class="kt">void</span> <span class="nf">test</span><span class="o">()</span> <span class="o">{</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"test()"</span><span class="o">);</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Exam0420</span> <span class="o">{</span>

  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="c1">// 같은 패키지 클래스의 스태틱 멤버</span>
    <span class="n">v1</span> <span class="o">=</span> <span class="mi">100</span><span class="o">;</span>
    <span class="n">m1</span><span class="o">();</span>
    <span class="no">X</span> <span class="n">obj</span> <span class="o">=</span> <span class="k">new</span> <span class="no">X</span><span class="o">();</span>

    <span class="c1">// 다른 패키지 클래스의 스태틱 멤버</span>
    <span class="n">v2</span> <span class="o">=</span> <span class="mi">200</span><span class="o">;</span>
    <span class="n">m2</span><span class="o">();</span>
    <span class="no">Y</span> <span class="n">obj2</span> <span class="o">=</span> <span class="k">new</span> <span class="no">Y</span><span class="o">();</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><h2 id="inner-class-non-static-nasted-class">inner class (non-static nasted class)</h2><h3 id="클래스-정의와-인스턴스-생성-1">클래스 정의와 인스턴스 생성</h3><ul><li>레퍼런스 선언 명칭은 static nested class와 같다: <code class="language-plaintext highlighter-rouge">A.X obj</code><li>인스턴스 생성은 다르다<ul><li>1) 바깥 클래스의 인스턴스 준비: <code class="language-plaintext highlighter-rouge">A outer = new A();</code><ul><li>이때 <code class="language-plaintext highlighter-rouge">A outer = null</code>로 지정하면 <code class="language-plaintext highlighter-rouge">nullPointException</code> 발생</ul><li>2) 바깥 클래스의 인스턴스를 통해 생성: <code class="language-plaintext highlighter-rouge">obj = outer.new A();</code></ul></ul><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre><td class="rouge-code"><pre><span class="kd">class</span> <span class="nc">A</span> <span class="o">{</span> <span class="kd">class</span> <span class="nc">X</span> <span class="o">{}</span> <span class="o">}</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Exam0110</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="c1">// 레퍼런스 선언</span>
    <span class="no">A</span><span class="o">.</span><span class="na">X</span> <span class="n">obj</span><span class="o">;</span>
    
    <span class="c1">// 인스턴스 생성</span>
    <span class="c1">//obj = new A.X(); -&gt; 컴파일 오류</span>
    
    <span class="c1">// 1) 바깥 클래스의 인스턴스 준비</span>
    <span class="no">A</span> <span class="n">outer</span> <span class="o">=</span> <span class="k">new</span> <span class="no">A</span><span class="o">();</span>
    <span class="c1">// 2) 바깥 클래스의 인스턴스 주소를 사용하여 inner class의 인스턴스 생성</span>
    <span class="n">obj</span> <span class="o">=</span> <span class="n">outer</span><span class="o">.</span><span class="na">new</span> <span class="nf">X</span><span class="o">();</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><h3 id="선언할-수-있는-멤버-1">선언할 수 있는 멤버</h3><ul><li>inner class는 static 멤버를 가질 수 없다.<li>static 멤버는 오직 top level class 나 static nested class 만이 가질 수 있다.</ul><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
</pre><td class="rouge-code"><pre><span class="kd">class</span> <span class="nc">A2</span> <span class="o">{</span>
    <span class="kd">class</span> <span class="nc">X</span> <span class="o">{</span>
        <span class="c1">//static int v1;</span>
        <span class="c1">//static void m1();</span>
        <span class="c1">//static {}</span>
        
        <span class="kt">int</span> <span class="n">v2</span><span class="o">;</span>
        <span class="kt">void</span> <span class="nf">m2</span><span class="o">();</span>
        <span class="o">{}</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Exam0111</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="c1">//A2 outer = new A2();</span>
    <span class="c1">//A2.X obj = outer.new X();</span>
    
    <span class="c1">// 위의 두 줄을 다음 한 줄로 표현할 수 있다.</span>
    <span class="no">A2</span><span class="o">.</span><span class="na">X</span> <span class="n">obj</span> <span class="o">=</span> <span class="k">new</span> <span class="no">A2</span><span class="o">().</span><span class="na">new</span> <span class="no">X</span><span class="o">();</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><h3 id="다른-멤버에-접근하기-1">다른 멤버에 접근하기</h3><p>inner class의 <strong>가장 큰 특징</strong>은 <strong>바깥 클래스의 다른 멤버에 손쉽게 접근할 수 있다</strong>는 것이다. 이것이 가능한 이유는 바깥 클래스의 인스턴스 멤버이기 때문이다. inner class는 <strong>tihs라는 내장변수를 통해 외부 클래스의 인스턴스 멤버에 접근할 수 있다</strong>. 주의할 점은 inner class의 this는 outer class를 가리키고, inner class의 메서드의 this는 inner class를 가리킨다는 사실이다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
</pre><td class="rouge-code"><pre><span class="kd">class</span> <span class="nc">B</span> <span class="o">{</span>
    <span class="c1">// 클래스 멤버</span>
    <span class="kd">static</span> <span class="kt">int</span> <span class="n">v1</span><span class="o">;</span>
    <span class="kd">static</span> <span class="kt">void</span> <span class="nf">m1</span><span class="o">()</span> <span class="o">{}</span>
    
    <span class="c1">// 인스턴스 멤버</span>
    <span class="kt">int</span> <span class="n">v2</span><span class="o">;</span>
    <span class="kt">void</span> <span class="nf">m2</span><span class="o">(){}</span>
    
    <span class="kd">class</span> <span class="nc">X</span> <span class="o">{</span>
        <span class="kt">void</span> <span class="nf">test</span><span class="o">()</span> <span class="o">{</span>
            <span class="c1">// 같은 클래스 멤버 접근 가능</span>
            <span class="no">B</span><span class="o">.</span><span class="na">v1</span> <span class="o">=</span> <span class="mi">100</span><span class="o">;</span>
            <span class="no">B</span><span class="o">.</span><span class="na">m1</span><span class="o">();</span>
            <span class="c1">// 바깥 클래스 이름 생략 가능</span>
            <span class="n">v1</span> <span class="o">=</span> <span class="mi">200</span><span class="o">;</span>
            <span class="n">m1</span><span class="o">();</span>
            <span class="c1">// 인스턴스 멤버에 접근 가능</span>
            <span class="n">v2</span> <span class="o">=</span> <span class="mi">100</span><span class="o">;</span>
            <span class="n">m2</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><h3 id="다른-멤버가-중첩-클래스-사용하기-1">다른 멤버가 중첩 클래스 사용하기</h3><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/50407047/93017669-72d43280-f605-11ea-8e3f-f1e486a8b8f5.JPG" alt="IMG_0103" /></p><p>static 멤버는 inner class에 접근할 수 없다. 인스턴스 멤버를 사용하려면 인스턴스 주소가 있어야 하는데, static 멤버는 인스턴스 주소를 담고 있는 this 변수가 없기 때문이다. 한편 인스턴스 메서드는 인스턴스 주소를 담고 있는 this 변수가 있다. 따라서 inner class를 사용할 수 있다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
</pre><td class="rouge-code"><pre><span class="kd">class</span> <span class="nc">C</span> <span class="o">{</span>
  <span class="kd">static</span> <span class="kt">void</span> <span class="nf">m1</span><span class="o">()</span> <span class="o">{</span>
    <span class="c1">// 스태틱 멤버는 인스턴스 멤버를 사용할 수 없다.</span>
    <span class="c1">// X obj = new X(); // 컴파일 오류!</span>
    <span class="c1">// obj.test();</span>
  <span class="o">}</span>

  <span class="kt">void</span> <span class="nf">m2</span><span class="o">()</span> <span class="o">{</span>
    <span class="c1">// 인스턴스 메서드는 inner class 를 사용할 수 있다.</span>
    <span class="no">X</span> <span class="n">obj</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="na">new</span> <span class="no">X</span><span class="o">();</span>
    <span class="n">obj</span><span class="o">.</span><span class="na">test</span><span class="o">();</span>
  <span class="o">}</span>

  <span class="kd">class</span> <span class="nc">X</span> <span class="o">{</span>
    <span class="kt">void</span> <span class="nf">test</span><span class="o">()</span> <span class="o">{</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"X.test()"</span><span class="o">);</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><h3 id="import-사용">import 사용</h3><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre><span class="kn">package</span> <span class="nn">com.eomcs.oop.ex11.c.sub</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">M</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">class</span> <span class="nc">Y</span> <span class="o">{</span>
        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">test</span><span class="o">()</span> <span class="o">{</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println9</span><span class="o">(</span><span class="s">"M.Y.test()"</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
</pre><td class="rouge-code"><pre><span class="kn">package</span> <span class="nn">com.eomcs.oop.ex11.c</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">com.eomcs.oop.ex11.c.D.X</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.eomcs.oop.ex11.c.sub.M</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.eomcs.oop.ex11.c.sub.M.Y</span><span class="o">;</span>

<span class="kd">class</span> <span class="nc">D</span> <span class="o">{</span>
  <span class="kd">class</span> <span class="nc">X</span> <span class="o">{</span>
    <span class="kt">void</span> <span class="nf">test</span><span class="o">()</span> <span class="o">{</span> <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"test()"</span><span class="o">);</span> <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Exam0410</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="no">D</span> <span class="n">outer</span> <span class="o">=</span> <span class="k">new</span> <span class="no">D</span><span class="o">();</span>
    <span class="no">X</span> <span class="n">obj</span> <span class="o">=</span> <span class="n">outer</span><span class="o">.</span><span class="na">new</span> <span class="nf">X</span><span class="o">();</span>
    <span class="n">obj</span><span class="o">.</span><span class="na">test</span><span class="o">();</span>
    
    <span class="no">M</span> <span class="n">outer2</span> <span class="o">=</span> <span class="k">new</span> <span class="no">M</span><span class="o">();</span>
    <span class="no">Y</span> <span class="n">obj2</span> <span class="o">=</span> <span class="n">outer2</span><span class="o">.</span><span class="na">new</span> <span class="nf">Y</span><span class="o">();</span>
    <span class="n">obj2</span><span class="o">.</span><span class="na">test</span><span class="o">();</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><h3 id="바깥-클래스의-인스턴스를-보관할-this--변수와-생성자">바깥 클래스의 인스턴스를 보관할 this 변수와 생성자</h3><h4 id="인스턴스-주소를-저장하는-장소">인스턴스 주소를 저장하는 장소</h4><p><strong>인스턴스 메서드는 this라는 내장 변수</strong>에 인스턴스 주소를 보관한다. 그렇다면 <strong>inner 클래스는 this</strong>를 어디에 보관할까?</p><p>자바 컴파일러는 바깥 클래스의 인스턴스 주소를 저장하기 위해 필드를 추가한다. 컴파일 완료된 inner class의 .class 파일을 열어 보면, 바깥 클래스의 객체 주소를 저장할 인스턴스 필드, <code class="language-plaintext highlighter-rouge">final synthetic com.eomcs.oop.ex11.c.E this$0;</code>가 추가되어 있다. 개발자는 바깥 클래스의 인스턴스 주소를 저장하기 위해 <code class="language-plaintext highlighter-rouge">바깥 클래스명.this</code>으로 코드를 작성해야 한다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre><td class="rouge-code"><pre><span class="kd">class</span> <span class="nc">E</span> <span class="o">{</span>
    <span class="kd">class</span> <span class="nc">X</span> <span class="o">{}</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Exam0510</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="no">E</span> <span class="n">outer</span> <span class="o">=</span> <span class="k">new</span> <span class="no">E</span><span class="o">();</span>
        <span class="no">E</span><span class="o">.</span><span class="na">X</span> <span class="n">obj</span> <span class="o">=</span> <span class="k">new</span> <span class="n">outer</span><span class="o">.</span><span class="na">new</span> <span class="nf">X</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><h4 id="인스턴스-주소를-저장하는-시점">인스턴스 주소를 저장하는 시점</h4><p><strong>인스턴스 메서드</strong>에 있는 this 변수는 인스턴스 <strong>메서드를 호출할 때</strong> 객체 주소를 저장한다. 그렇다면 inner class에서 바깥 클래스의 인스턴스 주소는 <strong>언제 저장</strong>할까?</p><p><strong>생성자의 파라미터</strong>로 받은 <strong>바깥 클래스의 객체 주소</strong>는 <strong>컴파일할 때 자동으로 추가된 인스턴스 필드</strong>에 보관된다. 바깥 클래스의 인스턴스를 가지고 inner class의 <strong>인스턴스를 생성</strong>할 때, 즉 inner class 의 <strong>생성자를 호출</strong>할 때 바깥 클래스의 인스턴스 주소를 <strong>파라미터로 전달</strong>한다.</p><p>이를 위해 컴파일러는 inner class 를 컴파일할 때 생성자를 변형한. 예를 들어, 개발자가 <code class="language-plaintext highlighter-rouge">public X(){}</code>라고 기본 생성자를 정의했다면, 컴파일러는 <code class="language-plaintext highlighter-rouge">public X(E outer){}</code>로 바꿀 것이다. 실제 컴파일한 .class 파일을 보면 생성자가 다음과 같이 되어 있다.</p><pre><code class="language-class">E$X(com.eomcs.oop.ex11.c.E arg0);
0  aload_0 [this] // 바깥 클래스의 인스턴스 주소를 받는 파라미터
1  aload_1 [arg0]
// this$0: 컴파일러가 바깥 클래스의 인스턴스 주소를 저장하기 위해 추가한 변수
// this$0에 바깥 클래스의 인스턴스 주소가 들어 있는 arg0값 저장
2  putfield com.eomcs.oop.ex11.c.E$X.this$0 : com.eomcs.oop.ex11.c.E [10]
5  aload_0 [this]
6  invokespecial java.lang.Object() [12]
9  return
Line numbers:
  [pc: 0, line: 5]
Local variable table:
// 0번째 로컬 변수 this: 다른 로컬변수(파라미터 포함)들보다 우선한다
  [pc: 0, pc: 10] local: this index: 0 type: com.eomcs.oop.ex11.c.E.X
</code></pre><blockquote><p>변수를 선언만 하면 컴파일러가 컴파일하지 않는다. 선언하고 사용해야 컴파일을 한다. 즉 바이트코드에서 선언만 한 변수를 확인할 수 없다.</p></blockquote><p>inner 클래스는 기본 생성자를 추가하는데 바깥 클래스의 인스턴스 주소를 받는 기본 생성자를 추가한다. 내부에 저장한다. 그러나 스태틱 메서드는 this라는 내장 변수가 없다.</p><h4 id="중첩-클래스에-바깥-클래스의-인스턴스-주소를-전달-하는-방법">중첩 클래스에 바깥 클래스의 인스턴스 주소를 전달 하는 방법</h4><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre><td class="rouge-code"><pre><span class="c1">// 중첩 클래스의 바깥 클래스의 인스턴스 주소를 전달하는 방법</span>

<span class="c1">// 1) 바깥 클래스의 인스턴스를 준비한다.</span>
<span class="nc">Exam0213</span> <span class="n">outer</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Exam0213</span><span class="o">();</span>

<span class="c1">// 2) 중첩 클래스의 레퍼런스 준비</span>
<span class="nc">Exam0213</span><span class="o">.</span><span class="na">A</span> <span class="n">obj</span><span class="o">;</span>

<span class="c1">// 3) 중첩 클래스의 인스턴스 생성</span>
<span class="n">obj</span> <span class="o">=</span> <span class="nc">Exam0213</span><span class="o">.</span><span class="na">new</span> <span class="nf">A</span><span class="o">();</span>

<span class="c1">// 내부 구동 원리</span>
<span class="c1">// - 실제 중첩 클래스 A에 대해 호출되는 생성자는 기본 생성자가 아니다.</span>
<span class="c1">// - 바깥 클래스의 인스턴스 주소를 받는 생성자가 호출된다.</span>
<span class="c1">// - 즉 실제 컴파일러는 위의 코드를 다음과 같이 변경한다.</span>
<span class="c1">//   obj = new A(outer);</span>
</pre></table></code></div></div><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Exam0215</span> <span class="o">{</span>
    <span class="kd">class</span> <span class="nc">A</span> <span class="o">{</span>
        <span class="c1">// 기존에 생성자가 있다면</span>
        <span class="c1">// 바깥 클래스의 인스턴스 주소를 받는 파라미터를 추가한다.</span>
        
        <span class="kd">public</span> <span class="nf">A</span><span class="o">()</span> <span class="o">{}</span>
        <span class="c1">// 위 생성자는 다음의 생성자로 변경된다.</span>
        <span class="c1">// =&gt; public A(Exam0215 outer) { this.outer = outer; }</span>
        
        <span class="kd">public</span> <span class="nf">A</span><span class="o">(</span><span class="kt">int</span> <span class="n">value</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">this</span><span class="o">.</span><span class="na">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="c1">// 위 생성자는 다음의 생성자로 변경된다.</span>
        <span class="cm">/*
        public A (Exam0213 outer, int value) {
        	this.outer = outer;
        	this.value = value;
        }
       */</span>
        
    <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="nc">Exam0216</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">Exam0213</span> <span class="n">outer</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Exam0213</span><span class="o">();</span>
        <span class="nc">Exam0213</span><span class="o">.</span><span class="na">A</span> <span class="n">obj</span><span class="o">;</span>
        
        <span class="c1">// 개발자가 작성한 코드</span>
        <span class="n">obj</span> <span class="o">=</span> <span class="n">outer</span><span class="o">.</span><span class="na">new</span> <span class="nf">A</span><span class="o">()</span><span class="mi">1</span><span class="o">;</span>
        
        <span class="c1">// 컴파일러가 컴파일하면서 바꾼 코드</span>
        <span class="c1">// obj = new A(outer);</span>
        
        <span class="c1">// 개발자가 작성한 코드</span>
        <span class="n">obj</span> <span class="o">=</span> <span class="n">outer</span><span class="o">.</span><span class="na">new</span> <span class="nf">A</span><span class="o">();</span>
        
        <span class="c1">// 컴파일러가 컴파일하면서 바꾼 코드</span>
        <span class="c1">// obj = new A(outer, 100);</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><h3 id="inner-클래스에서-변수를-찾는-순서">inner 클래스에서 변수를 찾는 순서</h3><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
</pre><td class="rouge-code"><pre><span class="kd">class</span> <span class="nc">G</span> <span class="o">{</span>
  <span class="kt">int</span> <span class="n">v1</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
  <span class="kt">int</span> <span class="n">v2</span> <span class="o">=</span> <span class="mi">2</span><span class="o">;</span>
  <span class="kt">int</span> <span class="n">v3</span> <span class="o">=</span> <span class="mi">3</span><span class="o">;</span> 

  <span class="kd">class</span> <span class="nc">X</span> <span class="o">{</span>
    <span class="kt">int</span> <span class="n">v1</span> <span class="o">=</span> <span class="mi">10</span><span class="o">;</span>
    <span class="kt">int</span> <span class="n">v2</span> <span class="o">=</span> <span class="mi">20</span><span class="o">;</span>

    <span class="kt">void</span> <span class="nf">m1</span><span class="o">(</span><span class="kt">int</span> <span class="n">v1</span><span class="o">)</span> <span class="o">{</span>

      <span class="c1">// 중첩 클래스의 메서드에서 필드를 사용하기 </span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"G 객체:"</span><span class="o">);</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">printf</span><span class="o">(</span><span class="s">"G.this.v1 = %d\n"</span><span class="o">,</span> <span class="no">G</span><span class="o">.</span><span class="na">this</span><span class="o">.</span><span class="na">v1</span><span class="o">);</span> <span class="c1">//1</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">printf</span><span class="o">(</span><span class="s">"G.this.v2 = %d\n"</span><span class="o">,</span> <span class="no">G</span><span class="o">.</span><span class="na">this</span><span class="o">.</span><span class="na">v2</span><span class="o">);</span> <span class="c1">//2</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">printf</span><span class="o">(</span><span class="s">"G.this.v3 = %d\n"</span><span class="o">,</span> <span class="no">G</span><span class="o">.</span><span class="na">this</span><span class="o">.</span><span class="na">v3</span><span class="o">);</span> <span class="c1">//3</span>

      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"-------------------------"</span><span class="o">);</span>

      <span class="c1">// inner 클래스의 인스턴스 필드 접근</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"G.X 객체:"</span><span class="o">);</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">printf</span><span class="o">(</span><span class="s">"this.v1 = %d\n"</span><span class="o">,</span> <span class="k">this</span><span class="o">.</span><span class="na">v1</span><span class="o">);</span> <span class="c1">//10</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">printf</span><span class="o">(</span><span class="s">"this.v2 = %d\n"</span><span class="o">,</span> <span class="k">this</span><span class="o">.</span><span class="na">v2</span><span class="o">);</span> <span class="c1">//20</span>

      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"-------------------------"</span><span class="o">);</span>

      <span class="c1">// 로컬 변수 접근</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"로컬:"</span><span class="o">);</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">printf</span><span class="o">(</span><span class="s">"v1 = %d\n"</span><span class="o">,</span> <span class="n">v1</span><span class="o">);</span> <span class="c1">//100</span>

      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"-------------------------"</span><span class="o">);</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Exam0610</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="no">G</span> <span class="n">outer</span> <span class="o">=</span> <span class="k">new</span> <span class="no">G</span><span class="o">();</span>
    
    <span class="no">G</span><span class="o">.</span><span class="na">X</span> <span class="n">obj</span> <span class="o">=</span> <span class="n">outer</span><span class="o">.</span><span class="na">new</span> <span class="nf">X</span><span class="o">();</span>
    <span class="n">obj</span><span class="o">.</span><span class="na">m1</span><span class="o">(</span><span class="mi">100</span><span class="o">);</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><h4 id="this를-명시하지-않았을-때-변수를-찾는-순서">this를 명시하지 않았을 때 변수를 찾는 순서</h4><ul><li>1) 로컬 변수를 찾는다.<li>2) 메서드가 소속된 클래스의 인스턴스 필드를 찾는다.<li>3) 바깥 클래스의 인스턴스 필드를 찾는다.</ul><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
</pre><td class="rouge-code"><pre><span class="kd">class</span> <span class="nc">H</span> <span class="o">{</span>
    <span class="kt">int</span> <span class="n">v1</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
    <span class="kt">int</span> <span class="n">v2</span> <span class="o">=</span> <span class="mi">2</span><span class="o">;</span>
    <span class="kt">int</span> <span class="n">v3</span> <span class="o">=</span> <span class="mi">3</span><span class="o">;</span>
    
    <span class="kd">class</span> <span class="nc">X</span> <span class="o">{</span>
        <span class="kt">int</span> <span class="n">v1</span> <span class="o">=</span> <span class="mi">10</span><span class="o">;</span>
        <span class="kt">int</span> <span class="n">v2</span> <span class="o">=</span> <span class="mi">20</span><span class="o">;</span>
        <span class="c1">//static int s1 = 11; =&gt; 컴파일에러!</span>
        
        <span class="kt">void</span> <span class="nf">m1</span><span class="o">(</span><span class="kt">int</span> <span class="n">v1</span><span class="o">)</span> <span class="o">{</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">printf</span><span class="o">(</span><span class="s">"v1 = %d\n"</span><span class="o">,</span> <span class="n">v1</span><span class="o">);</span> <span class="c1">// 100</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">printf</span><span class="o">(</span><span class="s">"v2 = %d\n"</span><span class="o">,</span> <span class="n">v2</span><span class="o">);</span> <span class="c1">// 20</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">printf</span><span class="o">(</span><span class="s">"v3 = %d\n"</span><span class="o">.</span> <span class="n">v3</span><span class="o">);</span> <span class="c1">// 3</span>
            
            <span class="c1">// inner 클래스의 v1을 사용하고 싶을 때</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">printf</span><span class="o">(</span><span class="s">"this.v1 = %d\n"</span><span class="o">,</span> <span class="k">this</span><span class="o">.</span><span class="na">v1</span><span class="o">);</span> <span class="c1">// 10</span>
        <span class="o">}</span>
    <span class="o">}</span>
    
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="no">H</span> <span class="n">outer</span> <span class="o">=</span> <span class="k">new</span> <span class="no">H</span><span class="o">();</span>
        <span class="no">H</span><span class="o">.</span><span class="na">X</span> <span class="n">obj</span> <span class="o">=</span> <span class="n">outer</span><span class="o">.</span><span class="na">new</span> <span class="nf">X</span><span class="o">();</span>
        <span class="n">obj</span><span class="o">.</span><span class="na">m1</span><span class="o">(</span><span class="mi">100</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><blockquote><p>inner class (non-static nested class)에서는 static 필드를 선언할 수 없다.</p></blockquote><h3 id="응용">응용</h3><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
</pre><td class="rouge-code"><pre><span class="kn">import</span> <span class="nn">java.util.ArrayList</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.List</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Exam0710</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="n">satic</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="kd">final</span> <span class="nc">Musics</span> <span class="n">m1</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Musicss</span><span class="o">();</span> 
    <span class="n">m1</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"aaa.mp3"</span><span class="o">);</span>
    <span class="n">m1</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"bbb.mp3"</span><span class="o">);</span>
    <span class="n">m1</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"bbb.mp3"</span><span class="o">);</span>
    
    <span class="kd">final</span> <span class="nc">Musics</span><span class="o">.</span><span class="na">Player</span> <span class="n">p1</span> <span class="o">=</span> <span class="n">m1</span><span class="o">.</span><span class="na">createPlayer</span><span class="o">();</span>
    <span class="kd">final</span> <span class="nc">Musics</span><span class="o">.</span><span class="na">Player</span> <span class="n">p2</span> <span class="o">=</span> <span class="n">m1</span><span class="o">.</span><span class="na">createPlayer</span><span class="o">();</span>
    
    <span class="n">p1</span><span class="o">.</span><span class="na">play</span><span class="o">();</span>
    <span class="n">p2</span><span class="o">.</span><span class="na">play</span><span class="o">();</span>
    
    <span class="kd">final</span> <span class="nc">Musics</span> <span class="n">m2</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Musics</span><span class="o">();</span>
    <span class="n">m2</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"xxx.mp3"</span><span class="o">);</span>
    <span class="n">m2</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"yyy.mp3"</span><span class="o">);</span>
    
    <span class="kd">final</span> <span class="nc">Musics</span><span class="o">.</span><span class="na">Player</span> <span class="n">p3</span> <span class="o">=</span> <span class="n">m2</span><span class="o">.</span><span class="na">new</span> <span class="nf">Player</span><span class="o">();</span>
    <span class="n">p3</span><span class="o">.</span><span class="na">play</span><span class="o">();</span>
  <span class="o">}</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">Musics</span> <span class="o">{</span>
  <span class="kd">class</span> <span class="nc">Player</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">play</span><span class="o">()</span> <span class="o">{</span>
      <span class="c1">// 이 메서드가 호출되려면 Player 객체가 존재해야 한다.</span>
      <span class="c1">// Player 객체가 존재하려면 Musics 객체가 존재해야 한다.</span>
      <span class="c1">// 따라서 이 메서드가 호출될 때는 이미 Musics 객체가 존재한 상태이다.</span>
      <span class="c1">// 그 Musics 객체로 Player 객체를 만든 것이다.</span>
      <span class="c1">// 따라서 inner class의 객체는 항상 자신을 만든 객체의 주소를</span>
      <span class="c1">// 바깥_클래스명.this 내장 변수에 보관한다.</span>
      <span class="k">for</span> <span class="o">(</span><span class="kd">final</span> <span class="nc">String</span> <span class="n">song</span> <span class="o">:</span> <span class="n">songs</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">song</span><span class="o">);</span>
      <span class="o">}</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"-------------------"</span><span class="o">)</span>
    <span class="o">}</span>
  <span class="o">}</span>
  
  <span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">songs</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;();</span>
  
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">add</span><span class="o">(</span><span class="kd">final</span> <span class="nc">String</span> <span class="n">song</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">songs</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">song</span><span class="o">);</span>
  <span class="o">}</span>
  
  <span class="kd">public</span> <span class="nc">Player</span> <span class="nf">createPlayer</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="cm">/*this.*/</span><span class="k">new</span> <span class="nc">Player</span><span class="o">();</span>
  <span class="o">}</span>
  
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">delete</span><span class="o">(</span><span class="kd">final</span> <span class="kt">int</span> <span class="n">index</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">songs</span><span class="o">.</span><span class="na">remove</span><span class="o">(</span><span class="n">index</span><span class="o">);</span>
  <span class="o">}</span>
<span class="o">}</span>

<span class="cm">/* 
결과

aaa.mp3
bbb.mp3
bbb.mp3
-----------------------------
aaa.mp3
bbb.mp3
bbb.mp3
-----------------------------
xxx.mp3
yyy.mp3
-----------------------------
*/</span>
</pre></table></code></div></div><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="kd">final</span> <span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
  <span class="kd">final</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">m1</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;();</span>
  <span class="n">m1</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"aaa.mp3"</span><span class="o">);</span>
  <span class="n">m1</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"bbb.mp3"</span><span class="o">);</span>
  <span class="n">m1</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"bbb.mp3"</span><span class="o">);</span>

  <span class="c1">// ArrayList 도 Iterator 구현체를 inner class 로 갖고 있다.</span>
  <span class="c1">// iterator() 메서드는 이 구현체를 생성하여 리턴한다.</span>
  <span class="c1">//</span>
  <span class="kd">final</span> <span class="nc">Iterator</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">i1</span> <span class="o">=</span> <span class="n">m1</span><span class="o">.</span><span class="na">iterator</span><span class="o">();</span>
  <span class="kd">final</span> <span class="nc">Iterator</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">i2</span> <span class="o">=</span> <span class="n">m1</span><span class="o">.</span><span class="na">iterator</span><span class="o">();</span>

  <span class="k">while</span> <span class="o">(</span><span class="n">i1</span><span class="o">.</span><span class="na">hasNext</span><span class="o">())</span> <span class="o">{</span>
    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">i1</span><span class="o">.</span><span class="na">next</span><span class="o">());</span>
  <span class="o">}</span>
  <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"--------------------"</span><span class="o">);</span>

  <span class="k">while</span> <span class="o">(</span><span class="n">i2</span><span class="o">.</span><span class="na">hasNext</span><span class="o">())</span> <span class="o">{</span>
    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">i2</span><span class="o">.</span><span class="na">next</span><span class="o">());</span>
  <span class="o">}</span>
  <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"--------------------"</span><span class="o">);</span>
<span class="o">}</span>

<span class="cm">/*
결과

aaa.mp3
bbb.mp3
bbb.mp3
--------------------
aaa.mp3
bbb.mp3
bbb.mp3
--------------------
*/</span>
</pre></table></code></div></div><h2 id="로컬-클래스">로컬 클래스</h2><h3 id="클래스의-정의와-인스턴스-생성">클래스의 정의와 인스턴스 생성</h3><ul><li>메서드 안에 정의하는 클래스를 ‘local class’라고 한다.<li>특정 메서드 안에서만 사용되는 경우 로컬 클래스로 정의한다.<li>쓸 데 없이 외부에 노출하지 않기 위해 사용한다. 노출을 줄이면 유지보수에 좋다.<li>로컬 클래스에서 로컬이라는 말은 <strong>이 메서드에서만 사용할 수 있다</strong>는 말이다. 그냥 <strong>사용 범위에 대한 제한</strong>을 가리키는 말이다. 메서드를 호출할 때 클래스가 정의된다는 뜻이 아니다. 로컬 변수와 다르다.<li>클래스는 별도 파일로 존재한다. 클래스는 명령어이다. 그 명령어가 메서드 안에서만 쓰이느냐, 바깥에서 쓰이느냐, 내부에서 쓰이느냐의 차이이다. 사용 범위를 제한하는 것이지 메서드를 호출할 때 생성되고 생성되지 않는 게 아니다.</ul><h3 id="사용-범위">사용 범위</h3><ul><li>다른 메서드에 정의된 클래스는 사용할 수 없다.</ul><h3 id="class-파일명">.class 파일명</h3><p><code class="language-plaintext highlighter-rouge">[바깥클래스명]$[정의된순서][로컬클래스명].class</code></p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre><td class="rouge-code"><pre><span class="kd">class</span> <span class="nc">B2</span> <span class="o">{</span>
  <span class="kt">void</span> <span class="nf">m1</span><span class="o">()</span> <span class="o">{</span>
    <span class="kd">class</span> <span class="nc">X</span> <span class="o">{}</span> <span class="c1">// B2$1X.class</span>
    <span class="kd">class</span> <span class="nc">Y</span> <span class="o">{}</span> <span class="c1">// B2$1Y.class</span>
  <span class="o">}</span>
  
  <span class="kd">static</span> <span class="kt">void</span> <span class="nf">m2</span><span class="o">()</span> <span class="o">{</span>
    <span class="kd">class</span> <span class="nc">Y</span> <span class="o">{}</span> <span class="c1">// B2$2Y.class</span>
    <span class="kd">class</span> <span class="nc">X</span> <span class="o">{}</span> <span class="c1">// B2$2X.class</span>
    <span class="kd">class</span> <span class="nc">Z</span> <span class="o">{}</span> <span class="c1">// B2$1Z.class</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><h3 id="인스턴스-메서드와-로컬-클래스">인스턴스 메서드와 로컬 클래스</h3><p>인스턴스 메서드는 속해 있는 클래스의 인스턴스 주소를 this 변수에 저장한다. 그래서 인스턴스 메서드 안에 정의된 로컬 클래스는 바깥 클래스의 인스턴스를 사용할 수 있다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
</pre><td class="rouge-code"><pre><span class="kd">class</span> <span class="nc">C</span> <span class="o">{</span>
  <span class="kt">int</span> <span class="n">v1</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
  <span class="kt">void</span> <span class="nf">m1</span><span class="o">()</span> <span class="o">{</span>
    <span class="kd">class</span> <span class="nc">X</span> <span class="o">{</span>
      <span class="kt">void</span> <span class="nf">f</span><span class="o">()</span> <span class="o">{</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">printf</span><span class="o">(</span><span class="s">"v1 = %d\n"</span><span class="o">,</span> <span class="no">C</span><span class="o">.</span><span class="na">this</span><span class="o">.</span><span class="na">v1</span><span class="o">);</span>
      <span class="o">}</span>
    <span class="o">}</span>
    <span class="no">X</span> <span class="n">obj</span> <span class="o">=</span> <span class="k">new</span> <span class="no">X</span><span class="o">();</span>
    <span class="n">obj</span><span class="o">.</span><span class="na">f</span><span class="o">();</span>
  <span class="o">}</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Exam0210</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="no">C</span> <span class="n">c</span> <span class="o">=</span> <span class="k">new</span> <span class="no">C</span><span class="o">();</span>
    <span class="n">c</span><span class="o">.</span><span class="na">m1</span><span class="o">();</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><p><code class="language-plaintext highlighter-rouge">.class</code> 파일을 확인해보면 바깥 클래스에 인스턴스 주소를 저장하는 필드가 선언되어 있다. 또한 생성자에서 바깥 클래스의 인스턴스 주소를 받는 파라미터가 선언되어 있다.</p><pre><code class="language-class">class com.eomcs.oop.ex11.d.C$1X {
	final synthetic com.eomcs.oop.ex11.d.C this$0;

	C$1X(com.eomcs.oop.ex11.d.C arg0);
		0  aload_0 [this]
		1  aload_1 [arg0]
		2  putfield com.eomcs.oop.ex11.d.C$1X.this$0 : com.eomcs.oop.ex11.d.C [10]
</code></pre><h3 id="스태틱-메서드와-로컬-클래스">스태틱 메서드와 로컬 클래스</h3><p>스태틱 메서드는 속해 있는 클래스의 인스턴스 주소를 담을 변수가 없다. 따라서 로컬 클래스는 바깥 클래스의 인스턴스를 사용할 수 없다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre><td class="rouge-code"><pre><span class="kd">class</span> <span class="nc">C2</span> <span class="o">{</span>
  <span class="kt">int</span> <span class="n">v1</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
  <span class="kd">static</span> <span class="kt">void</span> <span class="nf">m1</span><span class="o">()</span> <span class="o">{</span>
    <span class="kd">class</span> <span class="nc">X</span> <span class="o">{</span>
      <span class="kt">void</span> <span class="nf">f</span><span class="o">()</span> <span class="o">{</span>
        <span class="c1">//System.out.println("v1 = %d\n", C2.this.v1); // 컴파일 오류</span>
      <span class="o">}</span>
    <span class="o">}</span>
    <span class="no">X</span> <span class="n">obj</span> <span class="o">=</span> <span class="k">new</span> <span class="no">X</span><span class="o">();</span>
    <span class="n">obj</span><span class="o">.</span><span class="na">f</span><span class="o">();</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><p>.class 파일을 확인해보면 바깥 클래스를 보관할 필드가 선언되어 있지 않다. 또한 생성자도 바깥 클래스의 인스턴스를 받는 파라미터가 선언되어 있지 않다.</p><pre><code class="language-class">class com.eomcs.oop.ex11.d.C2$1X {

	C2$1X();
		0  aload_0 [this]
		1  invokespecial java.lang.Object() [8]
</code></pre><h2 id="변수-접근">변수 접근</h2><p>로컬 클래스는 바깥 클래스의 인스턴스 주소를 저장할 필드가 있을 뿐만 아니라 인스턴스 메서드 안에 선언된 로컬 변수의 값을 저장할 필드도 있다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
</pre><td class="rouge-code"><pre><span class="kd">class</span> <span class="nc">D</span> <span class="o">{</span>
  <span class="kt">int</span> <span class="n">v1</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
  <span class="kt">void</span> <span class="nf">m1</span><span class="o">()</span> <span class="o">{</span>
    <span class="kt">int</span> <span class="n">v2</span> <span class="o">=</span> <span class="mi">2</span><span class="o">;</span>
    <span class="kd">class</span> <span class="nc">X</span> <span class="o">{</span>
      <span class="kt">int</span> <span class="n">v3</span> <span class="o">=</span> <span class="mi">3</span><span class="o">;</span>
      <span class="kt">void</span> <span class="nf">f</span><span class="o">()</span> <span class="o">{</span>
        <span class="kt">int</span> <span class="n">v4</span> <span class="o">=</span> <span class="mi">4</span><span class="o">;</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"v4 = %d\n"</span><span class="o">,</span> <span class="n">v4</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"v3 = %d\n"</span><span class="o">,</span> <span class="k">this</span><span class="o">.</span><span class="na">v3</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"v2 = %d\n"</span><span class="o">,</span> <span class="n">v2</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"v1 = %d\n"</span><span class="o">,</span> <span class="no">D</span><span class="o">.</span><span class="na">this</span><span class="o">.</span><span class="na">v1</span><span class="o">);</span>
      <span class="o">}</span>
    <span class="o">}</span>
    <span class="no">X</span> <span class="n">obj</span> <span class="o">=</span> <span class="k">new</span> <span class="no">X</span><span class="o">();</span>
    <span class="n">obj</span><span class="o">.</span><span class="na">f</span><span class="o">();</span>
  <span class="o">}</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Exam0310</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="no">D</span> <span class="n">obj</span> <span class="o">=</span> <span class="k">new</span> <span class="no">D</span><span class="o">();</span>
    <span class="n">obj</span><span class="o">.</span><span class="na">m1</span><span class="o">();</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><blockquote><p>this로는 해당 인스턴스의 필드에 접근할 수 있다. 로컬 변수에 접근할 수 있는 것이 아니다.</p></blockquote><p>.class 파일의 코드는 다음과 같다.</p><pre><code class="language-class">class com.eomcs.oop.ex11.d.D$1X {

	int v3; &lt;== 로컬 클래스의 인스턴스 필드
	final synthetic com.eomcs.oop.ex11.d.D this$0;  &lt;== 바깥 클래스의 인스턴스 주소 저장
	private final synthetic int val$v2; &lt;== 바깥 메서드의 로컬 변수 저장
</code></pre><h2 id="변수를-찾는-순서">변수를 찾는 순서</h2><p>this를 생략했을 때 다음 순서로 변수를 찾는다.</p><ul><li>1) 로컬 변수<li>2) 인스턴스 변수<li>3) 메서드에 선언된 로컬 변수<li>4) 바깥 클래스의 인스턴스 변수 또는 스태틱 변수</ul><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
</pre><td class="rouge-code"><pre><span class="kd">class</span> <span class="nc">D2</span> <span class="o">{</span>
  <span class="kt">int</span> <span class="n">v1</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
  <span class="kt">void</span> <span class="nf">m1</span><span class="o">()</span> <span class="o">{</span>
    <span class="c1">//int v1 = 10;</span>
    <span class="kd">class</span> <span class="nc">X</span> <span class="o">{</span>
      <span class="c1">//int v1 = 100;</span>
      <span class="kt">void</span> <span class="nf">f</span><span class="o">()</span> <span class="o">{</span>
        <span class="c1">//int v1 = 1000;</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"v1 = %d\n"</span><span class="o">,</span> <span class="n">v1</span><span class="o">);</span> <span class="c1">//1</span>
      <span class="o">}</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Exam0320</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="no">D2</span> <span class="n">obj</span> <span class="o">=</span> <span class="k">new</span> <span class="no">D2</span><span class="o">();</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><h3 id="메서드에-선언된-로컬-변수-접근하기">메서드에 선언된 로컬 변수 접근하기</h3><h4 id="인스턴스-메서드에-정의된-local-class">인스턴스 메서드에 정의된 local class</h4><p>상수 값이거나 상수에 준하는 경우(값을 한 번만 할당한 경우) 로컬 클래스에서 메서드의 로컬 변수를 사용할 수 있다. 즉 로컬 클래스에서 바깥 메서드의 로컬 변수를 사용할 경우에는 <strong>값을 조회하는 용도</strong>로 사용하는 것이다. <strong>로컬 클래스의 객체가 사용하는 로컬 변수는 로컬 클래스의 메서드 호출이 끝났을 때 제거되기 때문이다.</strong></p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
</pre><td class="rouge-code"><pre><span class="kd">class</span> <span class="nc">D3</span> <span class="o">{</span>
  <span class="kt">void</span> <span class="nf">m1</span><span class="o">()</span> <span class="o">{</span>
    <span class="kd">final</span> <span class="kt">int</span> <span class="n">v1</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
    <span class="kt">int</span> <span class="n">v2</span> <span class="o">=</span> <span class="mi">2</span><span class="o">;</span>
    <span class="kt">int</span> <span class="n">v3</span> <span class="o">=</span> <span class="mi">3</span><span class="o">;</span>
    <span class="n">v3</span> <span class="o">=</span> <span class="mi">30</span><span class="o">;</span>
    
    <span class="kd">class</span> <span class="nc">X</span> <span class="o">{</span>
      <span class="kt">void</span> <span class="nf">f1</span><span class="o">()</span> <span class="o">{</span>
        <span class="c1">// 1) final로 선언된 경우</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"v1 = %d\n"</span><span class="o">,</span> <span class="n">v1</span><span class="o">);</span>
        <span class="c1">// 2) final로 선언한 것은 아니지만 값을 한 번만 할당한 경우</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"v2 = %d\n"</span><span class="o">,</span> <span class="n">v2</span><span class="o">);</span>
        <span class="c1">// 3) 값을 여러 번 할당한 경우에는 접근할 수 없다. </span>
        <span class="c1">//System.out.println("v3 = %d\n", v3);</span>
      <span class="o">}</span>
    <span class="o">}</span>
    <span class="no">X</span> <span class="n">obj</span> <span class="o">=</span> <span class="k">new</span> <span class="no">X</span><span class="o">();</span>
    <span class="n">obj</span><span class="o">.</span><span class="na">f</span><span class="o">();</span>
  <span class="o">}</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Exam0330</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="no">D3</span> <span class="n">obj</span> <span class="o">=</span> <span class="k">new</span> <span class="no">D3</span><span class="o">();</span>
    <span class="n">obj</span><span class="o">.</span><span class="na">m1</span><span class="o">();</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><h4 id="로컬-클래스가-로컬-변수를-조회용으로만-사용하는-이유">로컬 클래스가 로컬 변수를 조회용으로만 사용하는 이유</h4><p>바깥 메서드의 로컬 변수는 메서드 호출이 완료되는 순간 스택 메모리에서 제거되기 때문에 로컬 클래스의 객체에서 <strong>사용할 수 없는 상황이 발생할 것이다.</strong> 그래서 컴파일러는 <strong>바깥 메서드의 로컬 변수 값을 저장할 필드를 클래스에 추가한다.</strong> 또한 <strong>로컬 변수의 값을 받는 생성자</strong>를 만든다. 따라서 아래 코드에서 run() 메서드를 호출하는 시점에는 A 로컬 객체에 name 변수 값이 들어있기 때문에 그래도 사용할 수 있는 것이다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Exam0340</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="kd">final</span> <span class="nc">String</span><span class="o">[])</span> <span class="o">{</span>
    <span class="kd">final</span> <span class="nc">Exam0340</span> <span class="n">obj</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Exam0340</span><span class="o">();</span>
    <span class="kd">final</span> <span class="nc">Runner</span> <span class="n">r</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="na">createRunner</span><span class="o">(</span><span class="s">"홍길동"</span><span class="o">);</span>
    <span class="c1">// createRuner() 호출이 끝나면 이 메서드가 실행되는 동안 생성되었던</span>
    <span class="c1">// 모든 로컬 변수는 스택 메모리에서 제거된다.</span>
    <span class="c1">// 즉 createRunner()의 name 파라미터가 제거된다는 뜻이다.</span>
    <span class="n">r</span><span class="o">.</span><span class="na">run</span><span class="o">();</span>
  <span class="o">}</span>
  
  <span class="nc">Runner</span> <span class="nf">createRunner</span><span class="o">(</span><span class="kd">final</span> <span class="nc">String</span> <span class="n">name</span><span class="o">)</span> <span class="o">{</span>
    <span class="kd">class</span> <span class="nc">A</span> <span class="kd">implements</span> <span class="nc">Runner</span> <span class="o">{</span>
      <span class="cm">/*
      &lt;컴파일러가 추가한 필드와 생성자?
      Exam0340 outer; // 바깥 클래스의 객체 주소를 받을 필드
      String paramName; // run()에서 사용할 로컬 변수의 값을 받을 필드
      public A(Exam340 obj, String str) {
      	outer = obj;
      	paramName = str;
      }
      */</span>
      <span class="nd">@Override</span>
      <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">()</span> <span class="o">{</span>
        <span class="c1">// 여기서 name은 createRunner() 메서드의 파라미터가 아니다.</span>
        <span class="c1">// A 인스턴스가 생성될 때 값을 따로 복제한 필드를 가리키는 것이다.</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"%s님이 달립니다!"</span><span class="o">,</span> <span class="n">name</span><span class="o">);</span>
        
        <span class="c1">// 위 문자은 다음과 같이</span>
        <span class="c1">// 컴파일러가 로컬 클래스의 필드(paramName)를 사용하는 문장으로 바꾼다.</span>
        <span class="c1">// 그래서 createRunner() 메서드 호출이 끝나더라도</span>
        <span class="c1">// name 값을 사용할 수 있는 것이다. </span>
        <span class="c1">//System.out.printf("%s님이 달립니다!", this.paramName);</span>
      <span class="o">}</span>
    <span class="o">}</span>
    <span class="k">return</span> <span class="k">new</span> <span class="nf">A</span><span class="o">();</span>
    <span class="c1">// 컴파일러는 로컬 클래스의 객체를 생성할 때</span>
    <span class="c1">// 바깥 클래스의 객체 주소화 </span>
    <span class="c1">// 로컬 객체가 사용하는 메서드의 로컬 변수 값을 전달하기 위해</span>
    <span class="c1">// 다음과 같이 컴파일러가 만든 생성자를 호출한다.</span>
    <span class="c1">// return new A(this, name)</span>
  <span class="o">}</span>
<span class="o">}</span>

<span class="kd">interface</span> <span class="nc">Runner</span> <span class="o">{</span>
  <span class="kt">void</span> <span class="nf">main</span><span class="o">();</span>
<span class="o">}</span>
</pre></table></code></div></div><h1 id="mini-pms-v26-b-inner-class">mini pms v.26-b: inner class</h1><h2 id="내부-클래스inner-class-non-static-nested-class">내부 클래스(inner class; non-static nested class)</h2><p>바깥 클래스의 인스턴스 멤버이기 때문에 바깥 클래스의 다른 인스턴스 멤버(필드나 메서드)에 직접 접근할 수 있다. 따라서 바깥 클래스의 멤버를 사용하기 위해 내부 클래스의 객체를 생성할 때 생성자 파라미터로 바깥 클래스의 인스턴스를 받을 필요가 없다.</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/50407047/93001267-c775a000-f568-11ea-9f87-ccfa7324a6d3.JPG" alt="IMG_0098" /></p><h2 id="실습">실습</h2><h3 id="1단계---listiterator-구현체를-inner-class로-정의한다">1단계 - <code class="language-plaintext highlighter-rouge">ListIterator</code> 구현체를 inner class로 정의한다.</h3><p>논스태틱 중첩 클래스로 정의한 Iterator 구현체는 바깥 클래스(AbstractList)의 인스턴스 멤버를 직접 접근할 수 있다. 생성자에서 바깥 클래스의 인스턴스를 받을 필요가 없다. 중첩 클래스가 인스턴스 멤버가 되는 순간 바깥 클래스의 영향을 받기 때문에 바깥 클래스의 타입 파라미터와 중첩 클래스의 타입 파라미터와 이름이 충돌이 발생하게 된다. 따라서 중첩 클래스의 타입 파라미터 이름을 변경하여 바깥 클래스의 타입 파라미터와 구분하도록 한다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">abstract</span> <span class="kd">class</span> <span class="nc">AbstractList</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;</span> <span class="kd">implements</span> <span class="nc">List</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;</span> <span class="o">{</span>
  <span class="c1">//...</span>
  
  <span class="kd">private</span> <span class="kd">class</span> <span class="nc">ListIterator</span><span class="o">&lt;</span><span class="no">T</span><span class="o">&gt;</span> <span class="kd">implements</span> <span class="nc">Iterator</span><span class="o">&lt;</span><span class="no">T</span><span class="o">&gt;</span> <span class="o">{</span>
    <span class="kt">int</span> <span class="n">cursor</span><span class="o">;</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">hasNext</span><span class="o">()</span> <span class="o">{</span>
      <span class="k">return</span> <span class="n">cursor</span> <span class="o">&lt;</span> <span class="nc">AbstractList</span><span class="o">.</span><span class="na">this</span><span class="o">.</span><span class="na">size</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="nd">@SuppressWarning</span><span class="o">(</span><span class="s">"unchecked"</span><span class="o">)</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="no">T</span> <span class="nf">next</span><span class="o">()</span> <span class="o">{</span>
      <span class="k">if</span> <span class="o">(</span><span class="n">cursor</span> <span class="o">==</span> <span class="cm">/*AbstractList.this.*/</span><span class="n">size</span><span class="o">())</span>
        <span class="k">throw</span> <span class="k">new</span> <span class="nf">NoSuchElementException</span><span class="o">();</span>
      
      <span class="c1">// 바깥 클래스의 타입 파라미터 E와 중첩 클래스의 타입 파라미터 T가 </span>
      <span class="c1">// 결국 같은 타입을 가리키지만</span>
      <span class="c1">// 컴파일러 입장에서는 서로 다른 값이 될 수 있으므로</span>
      <span class="c1">// 다음과 같이 명시적으로 형변환해야 한다.</span>
      <span class="k">return</span> <span class="o">(</span><span class="no">T</span><span class="o">)</span> <span class="cm">/*AbstractList.this.*/</span><span class="n">get</span><span class="o">(</span><span class="n">cursor</span><span class="o">++);</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><p>그러나 논스태틱 중첩 클래스로 정의한 Iterator 구현체는 바깥 클래스의 인스턴스 멤버를 직접 접근할 수 있고, 생성자에서 바깥 클래스의 인스턴스를 받을 필요가 없다. 바깥 클래스의 타입 파라미터를 그대로 사용하면 된다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">abstract</span> <span class="kd">class</span> <span class="nc">AbstractList</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;</span> <span class="kd">implements</span> <span class="nc">List</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;</span> <span class="o">{</span>
  <span class="c1">//...</span>
  
  <span class="kd">private</span> <span class="kd">class</span> <span class="nc">ListIterator</span> <span class="kd">implements</span> <span class="nc">Iterator</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;</span> <span class="o">{</span>
    <span class="kt">int</span> <span class="n">cursor</span><span class="o">;</span>
    
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">hasNext</span><span class="o">()</span> <span class="o">{</span>
      <span class="k">return</span> <span class="n">cursor</span> <span class="o">&lt;</span> <span class="n">size</span><span class="o">();</span>
    <span class="o">}</span>
    
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="no">E</span> <span class="nf">next</span><span class="o">()</span> <span class="o">{</span>
      <span class="k">if</span> <span class="o">(</span><span class="n">cursor</span> <span class="o">==</span> <span class="n">size</span><span class="o">())</span>
        <span class="k">throw</span> <span class="k">new</span> <span class="nf">NoSuchElementException</span><span class="o">();</span>
      <span class="k">return</span> <span class="nf">get</span><span class="o">(</span><span class="n">cursor</span><span class="o">++);</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><h3 id="2단계---stackiterator-구현체를-inner-class로-정의한다">2단계 - <code class="language-plaintext highlighter-rouge">StackIterator</code> 구현체를 inner class로 정의한다.</h3><p>AbstractList에서 구현한 <code class="language-plaintext highlighter-rouge">iterator()</code>를 <code class="language-plaintext highlighter-rouge">Stack</code> 자료 구조에 맞춰 오버라이딩한다. StackIterator의 경우 ListIterator와 달리 생성자를 지우면 안 된다. 생성자에서 outer class의 stack 객체를 클론해야 하기 때문이다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Stack</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;</span> <span class="kd">extends</span> <span class="nc">LinkedList</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;</span> <span class="o">{</span>
  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="nc">Iterator</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;</span> <span class="nf">iterator</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="k">new</span> <span class="nf">StackIterator</span><span class="o">();</span>
  <span class="o">}</span>
  
  <span class="kd">private</span> <span class="kd">class</span> <span class="nc">StackIterator</span> <span class="kd">implements</span> <span class="nc">Iterator</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;</span> <span class="o">{</span>
    <span class="nc">Stack</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;</span> <span class="n">stack</span><span class="o">;</span>
    
    <span class="kd">public</span> <span class="nf">StackIterator</span><span class="o">()</span> <span class="o">{</span>
      <span class="k">try</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">stack</span> <span class="o">=</span> <span class="nc">Stack</span><span class="o">.</span><span class="na">this</span><span class="o">.</span><span class="na">clone</span><span class="o">();</span>
      <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">throw</span> <span class="k">new</span> <span class="nf">RuntimeException</span><span class="o">(</span><span class="s">"큐를 복제하는 중에 오류 발생!"</span><span class="o">);</span>
      <span class="o">}</span>
    <span class="o">}</span>
    
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">hasNext</span><span class="o">()</span> <span class="o">{</span>
      <span class="k">return</span> <span class="o">!</span><span class="n">stack</span><span class="o">.</span><span class="na">empty</span><span class="o">();</span>
    <span class="o">}</span>
    
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="no">E</span> <span class="nf">next</span><span class="o">()</span> <span class="o">{</span>
      <span class="k">if</span> <span class="o">(</span><span class="n">stack</span><span class="o">.</span><span class="na">empty</span><span class="o">())</span>
        <span class="k">throw</span> <span class="k">new</span> <span class="nf">NoSuchElementException</span><span class="o">();</span>
      <span class="k">return</span> <span class="n">stack</span><span class="o">.</span><span class="na">pop</span><span class="o">();</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><blockquote><p>inner class는 바깥 클래스의 멤버에 접근할 목적으로 사용된다.</p></blockquote><h3 id="3단계---queueiterator-구현체를-논스태틱-중첩-클래스로-정의한다">3단계 - <code class="language-plaintext highlighter-rouge">QueueIterator</code> 구현체를 논스태틱 중첩 클래스로 정의한다.</h3><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Queue</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;</span> <span class="kd">extends</span> <span class="nc">LinkedList</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;</span> <span class="o">{</span>
  <span class="c1">//..</span>
  <span class="kd">public</span> <span class="nc">Iterator</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;</span> <span class="nf">iterator</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="k">new</span> <span class="nf">QueueIterator</span><span class="o">();</span>
  <span class="o">}</span>
  
  <span class="kd">private</span> <span class="kd">class</span> <span class="nc">QueueIterator</span> <span class="kd">implements</span> <span class="nc">Iterator</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;</span> <span class="o">{</span>
    <span class="nc">Queue</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;</span> <span class="n">queue</span><span class="o">;</span>
    <span class="kd">public</span> <span class="nf">QueueIterator</span><span class="o">()</span> <span class="o">{</span>
      <span class="k">try</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">queue</span> <span class="o">=</span> <span class="nc">Queue</span><span class="o">.</span><span class="na">this</span><span class="o">.</span><span class="na">clone</span><span class="o">();</span>
      <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">throw</span> <span class="k">new</span> <span class="nf">RuntimeException</span><span class="o">(</span><span class="s">"큐를 복제하는 중에 오류 발생!"</span><span class="o">);</span>
      <span class="o">}</span>
    <span class="o">}</span>
    
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">hasNext</span><span class="o">()</span> <span class="o">{</span>
      <span class="k">return</span> <span class="n">queue</span><span class="o">.</span><span class="na">size</span><span class="o">()</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="no">E</span> <span class="nf">next</span><span class="o">()</span> <span class="o">{</span>
      <span class="k">if</span> <span class="o">(</span><span class="n">queue</span><span class="o">.</span><span class="na">size</span><span class="o">()</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span>
        <span class="k">throw</span> <span class="k">new</span> <span class="nf">NoSuchElementException</span><span class="o">();</span>
      <span class="k">return</span> <span class="n">queue</span><span class="o">.</span><span class="na">poll</span><span class="o">();</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><h1 id="mini-pms-v26-c-local-class">mini pms v.26-c: local class</h1><h2 id="local-class">local class</h2><ul><li>메서드의 로컬 변수와 사용법이 유사하다.<li><strong>특정 메서드에서만 사용할 클래</strong>스라면 그 메서드 내부에 정의하는 것이 코드를 읽기 쉽고 유지보수 하기 쉽게 만든다.<li>로컬 클래스도 <strong>바깥 클래스의 멤버에 직접 접근</strong>할 수 있다.<li>인스턴스 메서드는 this 라는 내장 변수에 인스턴스 주소를 담고 있다.<li><strong>인스턴스 메서드에 정의된 로컬 클래스에서도 이 this 변수를 사용할 수 있다.</strong></ul><h2 id="실습-1">실습</h2><h3 id="1단계---listiterator-구현체를-iterator-메서드-안에-정의한다">1단계 - <code class="language-plaintext highlighter-rouge">ListIterator</code> 구현체를 iterator() 메서드 안에 정의한다.</h3><p>로컬 클래스는 바깥 클래스의 객체 주소 없이 그냥 만들 수 있다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">abstract</span> <span class="kd">class</span> <span class="nc">AbstractList</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;</span> <span class="kd">implements</span> <span class="nc">List</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;</span> <span class="o">{</span>
  <span class="kd">protected</span> <span class="kt">int</span> <span class="n">size</span><span class="o">;</span>
  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="kt">int</span> <span class="nf">size</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">size</span><span class="o">;</span>
  <span class="o">}</span>
  <span class="c1">// Iterator 구현체를 리턴하는 메서드를 정의</span>
  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="nc">Iterator</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;</span> <span class="nf">iterator</span><span class="o">()</span> <span class="o">{</span>
    <span class="c1">// 접근제어자 사용 불가능 </span>
    <span class="kd">class</span> <span class="nc">ListIterator</span> <span class="kd">implements</span> <span class="nc">Iterator</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;</span> <span class="o">{</span>
      <span class="kt">int</span> <span class="n">cursor</span><span class="o">;</span>
      
      <span class="nd">@Override</span>
      <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">hasNext</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">cursor</span> <span class="o">&lt;</span> <span class="n">size</span><span class="o">();</span>
      <span class="o">}</span>
      
      <span class="nd">@Override</span>
      <span class="kd">public</span> <span class="no">E</span> <span class="nf">next</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">cursor</span> <span class="o">==</span> <span class="n">size</span><span class="o">())</span>
          <span class="k">throw</span> <span class="k">new</span> <span class="nf">NoSuchElementException</span><span class="o">();</span>
        <span class="k">return</span> <span class="nf">get</span><span class="o">(</span><span class="n">cursor</span><span class="o">++);</span>
      <span class="o">}</span>
    <span class="o">}</span>
    <span class="k">return</span> <span class="k">new</span> <span class="nf">ListIterator</span><span class="o">();</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><h3 id="2단계---stackiterator-구현체를-iterator-메서드-안에-정의한다">2단계 - <code class="language-plaintext highlighter-rouge">StackIterator</code> 구현체를 iterator() 메서드 안에 정의한다.</h3><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Stack</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;</span> <span class="kd">extends</span> <span class="nc">LinkedList</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;</span> <span class="o">{</span>
  <span class="c1">//..</span>
  <span class="nd">@SuppressWarning</span><span class="o">(</span><span class="s">"unchecked"</span><span class="o">)</span>
  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="nc">Stack</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;</span> <span class="nf">clone</span><span class="o">()</span> <span class="kd">throws</span> <span class="nc">CloneNotSupportedException</span> <span class="o">{</span>
    <span class="nc">Stack</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;</span> <span class="n">newSTack</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Stack</span><span class="o">&lt;&gt;();</span>
    <span class="nc">Object</span><span class="o">[]</span> <span class="n">values</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="na">toArray</span><span class="o">();</span>
    <span class="k">for</span> <span class="o">(</span><span class="nc">Object</span> <span class="n">value</span> <span class="o">:</span> <span class="n">values</span><span class="o">)</span> <span class="o">{</span>
      <span class="n">newStack</span><span class="o">.</span><span class="na">push</span><span class="o">((</span><span class="no">E</span><span class="o">)</span> <span class="n">value</span><span class="o">);</span>
    <span class="o">}</span>
    <span class="k">return</span> <span class="n">newStack</span><span class="o">;</span>
  <span class="o">}</span>
  
  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="nc">Iterator</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;</span> <span class="nf">iterator</span><span class="o">()</span> <span class="o">{</span>
    <span class="kd">class</span> <span class="nc">StackIterator</span> <span class="kd">implements</span> <span class="nc">Iterator</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;</span> <span class="o">{</span>
      <span class="nc">Stack</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;</span> <span class="n">stack</span><span class="o">;</span>
      
      <span class="kd">public</span> <span class="nf">StackIterator</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">try</span> <span class="o">{</span>
          <span class="k">this</span><span class="o">.</span><span class="na">stack</span> <span class="o">=</span> <span class="nc">Stack</span><span class="o">.</span><span class="na">this</span><span class="o">.</span><span class="na">clone</span><span class="o">();</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
          <span class="k">throw</span> <span class="k">new</span> <span class="nf">RuntimeException</span><span class="o">(</span><span class="s">"큐를 복제하는 중에 오류 발생!"</span><span class="o">);</span>
        <span class="o">}</span>
      <span class="o">}</span>
      
      <span class="nd">@Override</span>
      <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">hasNext</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="o">!</span><span class="n">stack</span><span class="o">.</span><span class="na">empty</span><span class="o">();</span>
      <span class="o">}</span>
      
      <span class="nd">@Override</span>
      <span class="kd">public</span> <span class="no">E</span> <span class="nf">next</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">stack</span><span class="o">.</span><span class="na">empty</span><span class="o">())</span>
          <span class="k">throw</span> <span class="k">new</span> <span class="nf">NoSuchElementException</span><span class="o">();</span>
      <span class="o">}</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><h3 id="3단계---queueiterator-구현체를-iterator-메서드-안에-정의한다">3단계 - <code class="language-plaintext highlighter-rouge">QueueIterator</code> 구현체를 iterator() 메서드 안에 정의한다.</h3><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Queue</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;</span> <span class="kd">extends</span> <span class="nc">LinkedList</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;</span> <span class="o">{</span>
	<span class="c1">//...</span>
  <span class="nd">@SuppressWarnings</span><span class="o">(</span><span class="s">"unchecked"</span><span class="o">)</span>
  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="nc">Queue</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;</span> <span class="nf">clone</span><span class="o">()</span> <span class="kd">throws</span> <span class="nc">CloneNotSupportedException</span> <span class="o">{</span>
    <span class="nc">Queue</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;</span> <span class="n">newQueue</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Queue</span><span class="o">&lt;&gt;();</span>
    <span class="nc">Object</span><span class="o">[]</span> <span class="n">values</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="na">toArray</span><span class="o">();</span>
    <span class="k">for</span> <span class="o">(</span><span class="nc">Object</span> <span class="n">value</span> <span class="o">:</span> <span class="n">values</span><span class="o">)</span> <span class="o">{</span>
      <span class="n">newQueue</span><span class="o">.</span><span class="na">offer</span><span class="o">((</span><span class="no">E</span><span class="o">)</span> <span class="n">value</span><span class="o">);</span>
    <span class="o">}</span>
    <span class="k">return</span> <span class="n">newQueue</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="nc">Iterator</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;</span> <span class="nf">iterator</span><span class="o">()</span> <span class="o">{</span>
    <span class="kd">class</span> <span class="nc">QueueIterator</span> <span class="kd">implements</span> <span class="nc">Iterator</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;</span> <span class="o">{</span>
      <span class="nc">Queue</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;</span> <span class="n">queue</span><span class="o">;</span>
      <span class="kd">public</span> <span class="nf">QueueIterator</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">try</span> <span class="o">{</span>
          <span class="k">this</span><span class="o">.</span><span class="na">queue</span> <span class="o">=</span> <span class="nc">Queue</span><span class="o">.</span><span class="na">this</span><span class="o">.</span><span class="na">clone</span><span class="o">();</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
          <span class="k">throw</span> <span class="k">new</span> <span class="nf">RuntimeException</span><span class="o">(</span><span class="s">"큐를 복제하는 중에 오류 발생!"</span><span class="o">);</span>
        <span class="o">}</span>
      <span class="o">}</span>

      <span class="nd">@Override</span>
      <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">hasNext</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">queue</span><span class="o">.</span><span class="na">size</span><span class="o">()</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="o">;</span>
      <span class="o">}</span>

      <span class="nd">@Override</span>
      <span class="kd">public</span> <span class="no">E</span> <span class="nf">next</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">queue</span><span class="o">.</span><span class="na">size</span><span class="o">()</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span>
          <span class="k">throw</span> <span class="k">new</span> <span class="nf">NoSuchElementException</span><span class="o">();</span>
        <span class="k">return</span> <span class="n">queue</span><span class="o">.</span><span class="na">poll</span><span class="o">();</span>
      <span class="o">}</span>
    <span class="o">}</span>

    <span class="k">return</span> <span class="k">new</span> <span class="nf">QueueIterator</span><span class="o">();</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><blockquote><p>객체를 사용한다는 것은, 메서드를 호출한다는 것이다. 객체를 생성하는 것도 객체를 사용하는 것이다. 왜냐하면 클래스의 메서드의 일종인 생성자를 호출하고 있기 때문이다.</p><p>예를 들어, BoardHandler 클래스에 <code class="language-plaintext highlighter-rouge">Iterator&lt;Board&gt; iterator = boardList.iterator();</code>라는 코드가 있다고 하면, 여기서 BoardHandler는 boardList, 즉 List의 iterator() 메서드를 사용하고 있다. 따라서 BoardHandler는 List 객체를 사용하고 있는 것이다. 레퍼런스는 상관이 없다.</p></blockquote></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/bitcamp/'>bitcamp</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/bitcamp/" class="post-tag no-text-decoration" >bitcamp</a> <a href="/tags/java/" class="post-tag no-text-decoration" >java</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=학원 #35일차: 중첩 클래스: static nested class, inner class, local class - 하연&url=https://hayeon17kim.github.io//posts/200908-35/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=학원 #35일차: 중첩 클래스: static nested class, inner class, local class - 하연&u=https://hayeon17kim.github.io//posts/200908-35/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=학원 #35일차: 중첩 클래스: static nested class, inner class, local class - 하연&url=https://hayeon17kim.github.io//posts/200908-35/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/system-deisign-capacity-estimation/">System Design: Capacity Estimate</a><li><a href="/posts/today-i-learned-2021-04-27/">주니어 성장일기: 2021.04.27</a><li><a href="/posts/today-i-learned-2021-04-26/">주니어 성장일기: 2021.04.26</a><li><a href="/posts/fastcampus-01/">자료구조와 알고리즘이란</a><li><a href="/posts/today-i-learned-2021-04-25/">주니어 성장일기: 2021.04.25</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/java/">java</a> <a class="post-tag" href="/tags/javascript/">JavaScript</a> <a class="post-tag" href="/tags/bitcamp/">bitcamp</a> <a class="post-tag" href="/tags/modernjs/">modernJS</a> <a class="post-tag" href="/tags/project/">project</a> <a class="post-tag" href="/tags/algorithm/">algorithm</a> <a class="post-tag" href="/tags/trouble-shooting/">trouble-shooting</a> <a class="post-tag" href="/tags/devil/">devil</a> <a class="post-tag" href="/tags/corejs/">corejs</a> <a class="post-tag" href="/tags/network/">network</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/201123-85/"><div class="card-body"> <span class="timeago small" > Nov 23, 2020 <i class="unloaded">2020-11-23T00:00:00+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>학원 #85일차:서블릿 프로그래밍, WAS, JavaEE와 Servlet 컨테이너, Servlet 인터페이스의 Life-cycle 메서드</h3><div class="text-muted small"><p> 서블릿 프로그래밍 웹 애플리케이션 서버 아키텍쳐의 개념 JavaEE와 Servlet API의 관계 JavaEE 구현체와 서블릿 컨테이너의 관계 eomcs-web-project/src-00 예제 실습 Servlet 인터페이스와 Life-cycle 메서드 WAS(Web Application Server) 아키텍처 이전까지는 사...</p></div></div></a></div><div class="card"> <a href="/posts/201124-86/"><div class="card-body"> <span class="timeago small" > Nov 24, 2020 <i class="unloaded">2020-11-24T00:00:00+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>학원 #86일차:서블릿 프로그래밍, 프로젝트를 WAS 아키텍처로 전환</h3><div class="text-muted small"><p> 서블릿 컨테이너가 관리하는 컴포넌트는 서블릿, 필터, 리스너로 3가지이다. Servlet 만들기 1. javax.servlet.Servlet 인터페이스 구현 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38...</p></div></div></a></div><div class="card"> <a href="/posts/201125-87/"><div class="card-body"> <span class="timeago small" > Nov 25, 2020 <i class="unloaded">2020-11-25T00:00:00+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>학원 #87일차: HTML 태그 사용법</h3><div class="text-muted small"><p> HTML/CSS 학습법: 결과 화면 먼저 보고 소스코드를 확인하자 UI와 UX UX(User Experience; 사용자 경험): 사용자 편의성 ex: 링크에 hover했을 때 커서가 손모양으로 바뀌어야 한다. UI(User Interface): 기능을 하는 화면이 있는가 HTML ...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/200907-34/" class="btn btn-outline-primary" prompt="Older"><p>학원 #34일차: iterator 디자인 패턴, static nested class</p></a> <a href="/posts/200911-38/" class="btn btn-outline-primary" prompt="Newer"><p>학원 #38일차: 익명 클래스, 커맨드 디자인 패턴, 상수 다루기</p></a></div><div id="disqus" class="pt-2 pb-2"><p class="text-center text-muted small pb-5"> Loading comments from <a href="https://disqus.com/">Disqus</a> ...</p></div><script src="/assets/js/lib/jquery.disqusloader.min.js"></script> <script> const options = { scriptUrl: '//hayeon17kim-github-io.disqus.com/embed.js', disqusConfig: function() { this.page.title = '학원 #35일차: 중첩 클래스: static nested class, inner class, local class'; this.page.url = 'https://hayeon17kim.github.io//posts/200908-35/'; this.page.identifier = '/posts/200908-35/'; } }; $.disqusLoader('#disqus', options); </script></div></div></div><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script> <script type="text/javascript"> const imgs = document.querySelectorAll('.post-content img'); const observer = lozad(imgs); observer.observe(); </script><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2021 <a href="https://twitter.com/MONI56219559">hayeon_kim</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/java/">java</a> <a class="post-tag" href="/tags/javascript/">JavaScript</a> <a class="post-tag" href="/tags/bitcamp/">bitcamp</a> <a class="post-tag" href="/tags/modernjs/">modernJS</a> <a class="post-tag" href="/tags/project/">project</a> <a class="post-tag" href="/tags/algorithm/">algorithm</a> <a class="post-tag" href="/tags/trouble-shooting/">trouble shooting</a> <a class="post-tag" href="/tags/devil/">devil</a> <a class="post-tag" href="/tags/corejs/">corejs</a> <a class="post-tag" href="/tags/network/">network</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://hayeon17kim.github.io/{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script>
