<!DOCTYPE html><html lang="kr-KR" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="pv-cache-enabled" content="false"><meta name="generator" content="Jekyll v4.2.0" /><meta property="og:title" content="학원 #53일차: 계산기 Network App, 채팅 App, 스레드" /><meta name="author" content="hayeon_kim" /><meta property="og:locale" content="kr_KR" /><meta name="description" content="계산기 Network App" /><meta property="og:description" content="계산기 Network App" /><link rel="canonical" href="https://hayeon17kim.github.io//posts/201007-53/" /><meta property="og:url" content="https://hayeon17kim.github.io//posts/201007-53/" /><meta property="og:site_name" content="하연" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2020-10-07T00:00:00+08:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="학원 #53일차: 계산기 Network App, 채팅 App, 스레드" /><meta name="twitter:site" content="@MONI56219559" /><meta name="twitter:creator" content="@hayeon_kim" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"author":{"@type":"Person","name":"hayeon_kim"},"headline":"학원 #53일차: 계산기 Network App, 채팅 App, 스레드","dateModified":"2020-10-07T00:00:00+08:00","datePublished":"2020-10-07T00:00:00+08:00","description":"계산기 Network App","url":"https://hayeon17kim.github.io//posts/201007-53/","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://hayeon17kim.github.io//posts/201007-53/"},"@context":"https://schema.org"}</script><title>학원 #53일차: 계산기 Network App, 채팅 App, 스레드 | 하연</title><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon.png"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon-precomposed.png"><link rel="apple-touch-icon" sizes="57x57" href="/assets/img/favicons/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/assets/img/favicons/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicons/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/assets/img/favicons/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicons/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/assets/img/favicons/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicons/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/assets/img/favicons/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/assets/img/favicons/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/assets/img/favicons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/manifest.json"><meta name='msapplication-config' content='/assets/img/favicons/browserconfig.xml'><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/assets/img/favicons/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="cdn.jsdelivr.net"><link rel="dns-prefetch" href="cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=UA-173202420-1"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-173202420-1'); }); </script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/img/bio-photo.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">하연</a></div><div class="site-subtitle font-italic">어제보다 나은 코드를 위해</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/projects/" class="nav-link"> <i class="fa-fw fas fa-laptop-code ml-xl-3 mr-xl-3 unloaded"></i> <span>PROJECTS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/hayeon17kim" aria-label="github" class="order-3" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/MONI56219559" aria-label="twitter" class="order-4" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['hayeon17kim','gmail.com'].join('@')" aria-label="email" class="order-5" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" class="order-6" > <i class="fas fa-rss"></i> </a> <span class="icon-border order-2"></span> <span id="mode-toggle-wrapper" class="order-1"> <i class="mode-toggle fas fa-adjust"></i> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } var self = this; /* always follow the system prefers */ this.sysDarkPrefers.addListener(function() { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.updateMermaid(); }); } /* constructor() */ setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode == ModeToggle.DARK_MODE; } get isLightMode() { return this.mode == ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer) ) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } updateMermaid() { if (typeof mermaid !== "undefined") { let expectedTheme = (this.modeStatus === ModeToggle.DARK_MODE? "dark" : "default"); let config = { theme: expectedTheme }; /* re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function() { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.updateMermaid(); } /* flipMode() */ } /* ModeToggle */ let toggle = new ModeToggle(); $(".mode-toggle").click(function() { toggle.flipMode(); }); </script> </span></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Posts </a> </span> <span>학원 #53일차: 계산기 Network App, 채팅 App, 스레드</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>학원 #53일차: 계산기 Network App, 채팅 App, 스레드</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Wed, Oct 7, 2020, 12:00 AM +0800" > Oct 7, 2020 <i class="unloaded">2020-10-07T00:00:00+08:00</i> </span> by <span class="author"> hayeon_kim </span></div><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="5163 words">28 min</span></div></div><div class="post-content"><h1 id="계산기-network-app">계산기 Network App</h1><h2 id="13단계-http-프로토콜-기반-애플리케이션-실행">13단계: HTTP 프로토콜 기반 애플리케이션 실행</h2><ul><li>웹 브라우저로부터 요청을 받아 응답한다.<li>요청 및 응답 프로토콜은 웹 기반 프로토콜인 HTTP를 사용한다.<li>HTTP 요청에 대해 HTTP 응답을 수행한다.<li>서버에 요청하는 방법: 웹 브라우저에서 다음과 같이 URL을 입력<ul><li><code class="language-plaintext highlighter-rouge">http://localhost/plus?a=100&amp;b=200</code></ul></ul><h3 id="server">Server</h3><p><strong>CalculatorServer</strong></p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">CalculatorServer</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    
    <span class="k">try</span> <span class="o">(</span><span class="nc">ServerSocket</span> <span class="n">serverSocket</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ServerSocket</span><span class="o">(</span><span class="mi">80</span><span class="o">))</span> <span class="o">{</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"서버 실행 중..."</span><span class="o">);</span>
      
      <span class="k">while</span> <span class="o">(</span><span class="kc">true</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">RequestProcessor</span> <span class="n">thread</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">RequestProcessor</span><span class="o">(</span><span class="n">serverSocket</span><span class="o">.</span><span class="na">accept</span><span class="o">());</span>
        <span class="n">thread</span><span class="o">.</span><span class="na">start</span><span class="o">();</span>
      <span class="o">}</span>
    <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
      <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><p><strong>RequestProcessor</strong></p><ul><li>url: <code class="language-plaintext highlighter-rouge">[프로토콜]://서버주소:포트번호/자원의경로?파리미터명=값&amp;파라미터명=값</code><li>HTTP 요청에 대해 HTTP 응답을 수행한다.</ul><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre><span class="c1">// HTTP 요청 프로토콜</span>
<span class="c1">// ---------------------------------</span>
<span class="c1">// GET [자원주소] HTTP/1.1 (CRLF)</span>
<span class="c1">// Host: [서버주소] (CRLF)</span>
<span class="c1">// (CRLF)</span>
<span class="c1">// ---------------------------------</span>
</pre></table></code></div></div><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">RequestProcessor</span> <span class="kd">extends</span> <span class="nc">Thread</span> <span class="o">{</span>
  <span class="nc">Socket</span> <span class="n">socket</span><span class="o">;</span>

  <span class="kd">public</span> <span class="nf">RequestProcessor</span><span class="o">(</span><span class="nc">Socket</span> <span class="n">socket</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">this</span><span class="o">.</span><span class="na">socket</span> <span class="o">=</span> <span class="n">socket</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">try</span> <span class="o">(</span><span class="nc">Socket</span> <span class="n">socket</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="na">socket</span><span class="o">;</span>
        <span class="nc">BufferedReader</span> <span class="n">in</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">BufferedReader</span><span class="o">(</span><span class="k">new</span> <span class="nc">InputStreamReader</span><span class="o">(</span><span class="n">socket</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">()));</span>
        <span class="nc">PrintStream</span> <span class="n">out</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">PrintStream</span><span class="o">(</span><span class="n">socket</span><span class="o">.</span><span class="na">getOutputStream</span><span class="o">());)</span> <span class="o">{</span>
      <span class="c1">// 웹 브라우저가 보낸 첫 줄에는 데이터가 포함되어 있기 때문에 따로 추출</span>
      <span class="nc">String</span> <span class="n">requestLine</span> <span class="o">=</span> <span class="n">in</span><span class="o">.</span><span class="na">readLine</span><span class="o">();</span>
      
      <span class="c1">// 나머지 요청과 관련된 헤더 정보(부가 정보)는 현재 사용할 일이 없기 때문에 버림</span>
      <span class="k">while</span> <span class="o">(</span><span class="kc">true</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">in</span><span class="o">.</span><span class="na">readLine</span><span class="o">().</span><span class="na">length</span><span class="o">()</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span>
          <span class="k">break</span><span class="o">;</span>
      <span class="o">}</span>
      
      <span class="n">sendHttpResponse</span><span class="o">(</span><span class="n">out</span><span class="o">,</span> <span class="n">compute</span><span class="o">(</span><span class="n">requestLine</span><span class="o">));</span> 
      
    <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">printf</span><span class="o">(</span><span class="s">"클라이언트 요청 처리 중 오류 발생! - %s\n"</span><span class="o">,</span> <span class="n">e</span><span class="o">.</span><span class="na">getMessage</span><span class="o">());</span>
    <span class="o">}</span>
  <span class="o">}</span>

  <span class="kd">private</span> <span class="nc">String</span> <span class="nf">compute</span><span class="o">(</span><span class="nc">String</span> <span class="n">request</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">try</span> <span class="o">{</span>
      <span class="c1">// 웹 브라우저가 보낸 request line에서 데이터를 추출한다.</span>
      <span class="c1">// 예) "GET /plus?a=100&amp;b=200 HTTP/1.1"</span>
      <span class="nc">String</span><span class="o">[]</span> <span class="n">values</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="na">split</span><span class="o">(</span><span class="s">" "</span><span class="o">)[</span><span class="mi">1</span><span class="o">].</span><span class="na">split</span><span class="o">(</span><span class="s">"\\?"</span><span class="o">);</span> <span class="c1">//["/plus", "a=100&amp;b=200", "HTTP/1.1"]</span>
      
      <span class="nc">String</span> <span class="n">op</span> <span class="o">=</span> <span class="n">getOperator</span><span class="o">(</span><span class="n">values</span><span class="o">[</span><span class="mi">0</span><span class="o">]);</span> <span class="c1">// "/plus", "/multiple" 등</span>
      
      <span class="nc">String</span><span class="o">[]</span> <span class="n">parameters</span> <span class="o">=</span> <span class="n">values</span><span class="o">[</span><span class="mi">1</span><span class="o">].</span><span class="na">split</span><span class="o">(</span><span class="s">"&amp;"</span><span class="o">);</span> <span class="c1">//"a=100&amp;b=200" =&gt; ["a=100", "b=200"]</span>

      <span class="kt">int</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
      <span class="kt">int</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
      
      <span class="k">for</span> <span class="o">(</span><span class="nc">String</span> <span class="n">parameter</span> <span class="o">:</span> <span class="n">parameters</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">String</span><span class="o">[]</span> <span class="n">kv</span> <span class="o">=</span> <span class="n">parameter</span><span class="o">.</span><span class="na">split</span><span class="o">(</span><span class="s">"="</span><span class="o">);</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">kv</span><span class="o">[</span><span class="mi">0</span><span class="o">].</span><span class="na">equals</span><span class="o">(</span><span class="s">"a"</span><span class="o">))</span>
          <span class="n">a</span> <span class="o">=</span> <span class="nc">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">kv</span><span class="o">[</span><span class="mi">0</span><span class="o">]);</span>
        <span class="k">else</span> <span class="nf">if</span> <span class="o">(</span><span class="n">kv</span><span class="o">[</span><span class="mi">1</span><span class="o">].</span><span class="na">equals</span><span class="o">(</span><span class="s">"b"</span><span class="o">))</span>
          <span class="n">b</span> <span class="o">=</span> <span class="nc">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">kv</span><span class="o">[</span><span class="mi">1</span><span class="o">]);</span>
      <span class="o">}</span>
      
      <span class="kt">int</span> <span class="n">result</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>

      <span class="k">switch</span> <span class="o">(</span><span class="n">op</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">case</span> <span class="s">"+"</span><span class="o">:</span> <span class="n">result</span> <span class="o">=</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="o">;</span> <span class="k">break</span><span class="o">;</span>
        <span class="k">case</span> <span class="s">"-"</span><span class="o">:</span> <span class="n">result</span> <span class="o">=</span> <span class="n">a</span> <span class="o">-</span> <span class="n">b</span><span class="o">;</span> <span class="k">break</span><span class="o">;</span>
        <span class="k">case</span> <span class="s">"*"</span><span class="o">:</span> <span class="n">result</span> <span class="o">=</span> <span class="n">a</span> <span class="o">*</span> <span class="n">b</span><span class="o">;</span> <span class="k">break</span><span class="o">;</span>
        <span class="k">case</span> <span class="s">"/"</span><span class="o">:</span> <span class="n">result</span> <span class="o">=</span> <span class="n">a</span> <span class="o">/</span> <span class="n">b</span><span class="o">;</span> <span class="k">break</span><span class="o">;</span>
        <span class="k">default</span><span class="o">:</span>
          <span class="k">return</span> <span class="s">"해당 연산자를 지원하지 않습니다."</span><span class="o">;</span>
      <span class="o">}</span>
      <span class="k">return</span> <span class="nc">String</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="s">"결과는 %d %s %d = %d 입니다."</span><span class="o">,</span> <span class="n">a</span><span class="o">,</span> <span class="n">op</span><span class="o">,</span> <span class="n">b</span><span class="o">,</span> <span class="n">result</span><span class="o">);</span>

    <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
      <span class="k">return</span> <span class="nc">String</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="s">"계산 중 오류 발생! - %s"</span><span class="o">,</span> <span class="n">e</span><span class="o">.</span><span class="na">getMessage</span><span class="o">());</span>
    <span class="o">}</span>
  <span class="o">}</span>
                   
  <span class="kd">private</span> <span class="nc">String</span> <span class="nf">getOperator</span><span class="o">(</span><span class="nc">String</span> <span class="n">name</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">switch</span><span class="o">(</span><span class="n">name</span><span class="o">)</span> <span class="o">{</span>
      <span class="k">case</span> <span class="s">"/plus"</span><span class="o">:</span> <span class="k">return</span> <span class="s">"+"</span><span class="o">;</span> 
      <span class="k">case</span> <span class="s">"/minus"</span><span class="o">:</span> <span class="k">return</span> <span class="s">"-"</span><span class="o">;</span>
      <span class="k">case</span> <span class="s">"/multiple"</span><span class="o">:</span> <span class="k">return</span> <span class="s">"*"</span><span class="o">;</span>
      <span class="k">case</span> <span class="s">"/devide"</span><span class="o">:</span> <span class="k">return</span> <span class="s">"/"</span><span class="o">;</span>
      <span class="k">default</span><span class="o">:</span> <span class="k">return</span> <span class="s">"?"</span><span class="o">;</span>
    <span class="o">}</span>
  <span class="o">}</span>

  <span class="kd">private</span> <span class="kt">void</span> <span class="nf">sendHttpResponse</span><span class="o">(</span><span class="nc">PrintStream</span> <span class="n">out</span><span class="o">,</span> <span class="nc">String</span> <span class="n">message</span><span class="o">)</span> <span class="o">{</span>
    <span class="c1">// HTTP 응답 형식에 맞춰 출력한다.</span>
    <span class="n">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"HTTP/1.1 200 OK"</span><span class="o">);</span>
    <span class="n">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Content-Type: text/plain;charset=UTF-8"</span><span class="o">);</span>
    <span class="n">out</span><span class="o">.</span><span class="na">println</span><span class="o">();</span>
    <span class="n">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">message</span><span class="o">);</span>
    <span class="n">out</span><span class="o">.</span><span class="na">flush</span><span class="o">();</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><p>HTTP 프로토콜 형식에 맞춰 서버 프로그램을 만들었다. 따라서 이제 웹 브라우저에서 서버에 접속할 수 있다.</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/50407047/95356023-2d9fd980-0901-11eb-81e9-9a2f5bfeb269.png" alt="image" /></p><h2 id="정규표현식">정규표현식</h2><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="nc">String</span> <span class="n">requestLine</span> <span class="o">=</span> <span class="s">"GET /plus?a=100&amp;b=200 HTTP/1.1"</span><span class="o">;</span>
<span class="nc">String</span><span class="o">[]</span> <span class="n">values</span> <span class="o">=</span> <span class="n">requestLine</span><span class="o">.</span><span class="na">split</span><span class="o">(</span><span class="s">" "</span><span class="o">)[</span><span class="mi">1</span><span class="o">].</span><span class="na">split</span><span class="o">(</span><span class="s">"\\?"</span><span class="o">)[</span><span class="mi">1</span><span class="o">].</span><span class="na">split</span><span class="o">(</span><span class="s">"&amp;"</span><span class="o">);</span>

<span class="k">for</span> <span class="o">(</span><span class="nc">String</span> <span class="n">value</span> <span class="o">:</span> <span class="n">values</span><span class="o">)</span>
  <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">value</span><span class="o">);</span>
</pre></table></code></div></div><ul><li><code class="language-plaintext highlighter-rouge">split()</code> 파라미터 안에 들어가는 문자열은 정규표현식이다.<li><code class="language-plaintext highlighter-rouge">?</code>는 정규표현식에서 하나의 문자를 의미하는 명령이다. 따라서 물음표에 대해 <code class="language-plaintext highlighter-rouge">\</code>를 삽입해 명령이 아님을 명시해야 한다. 그러나 자바에서 <code class="language-plaintext highlighter-rouge">\</code>는 특수 명령을 의미한다. 따라서 <code class="language-plaintext highlighter-rouge">\</code>문자를 하나 더해 (이스케이프 문자) 특수 명령이 아니라는 것을 명시한다.<li>왜 정규 표현식을 사용할까? 많은 텍스트에서 원하는 규칙(패턴)을 가진 문자를 추출하는 프로그램을 만드는 것은 굉장히 어렵다. 그러나 어떤 프로그래밍 언어를 사용한다 하더라도 문자열을 다루는 것은 기본 중의 기본이다. 따라서 개발자들이 많은 텍스트에서 원하는 값을 찾아내는 프로그램을 미리 만들어 놓았다. 이것이 바로 정규표현식(Regular Expression; regexp)이다. 특정한 규칙을 가진 문자열의 집합을 표현하는 데 사용하는 명령이다.</ul><h1 id="채팅-프로그램">채팅 프로그램</h1><h2 id="client">Client</h2><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">ChatClient</span> <span class="kd">extends</span> <span class="nc">Frame</span> <span class="kd">implements</span> <span class="nc">ActionListener</span> <span class="o">{</span>
  <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">long</span> <span class="n">serialVersion</span> <span class="o">=</span> <span class="mi">1L</span><span class="o">;</span>
  
  <span class="nc">TextField</span> <span class="n">addressTF</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">TextField</span><span class="o">(</span><span class="mi">20</span><span class="o">);</span>
  <span class="nc">TextField</span> <span class="n">portTF</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">TextField</span><span class="o">(</span><span class="mi">4</span><span class="o">);</span>
  <span class="nc">Button</span> <span class="n">connectBtn</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Button</span><span class="o">(</span><span class="s">"연결"</span><span class="o">);</span>
  <span class="nc">TextArea</span> <span class="n">chattingPane</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">TextArea</span><span class="o">();</span>
  <span class="nc">Button</span> <span class="n">sendBtn</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Button</span><span class="o">(</span><span class="s">"보내기"</span><span class="o">);</span>
  
  <span class="nc">Socket</span> <span class="n">socket</span><span class="o">;</span>
  <span class="nc">BufferedReader</span> <span class="n">in</span><span class="o">;</span>
  <span class="nc">PrintStream</span> <span class="n">out</span><span class="o">;</span>
  
  <span class="kd">public</span> <span class="nf">ChatClient</span><span class="o">(</span><span class="nc">String</span> <span class="n">title</span><span class="o">)</span> <span class="o">{</span>
    <span class="kd">super</span><span class="o">(</span><span class="n">title</span><span class="o">);</span>
    <span class="k">this</span><span class="o">.</span><span class="na">setSize</span><span class="o">(</span><span class="mi">600</span><span class="o">,</span> <span class="mi">480</span><span class="o">);</span>
    
      <span class="c1">// 윈도우 관련 이벤트를 처리할 담당자를 설정한다.</span>
    <span class="c1">// =&gt; 옵저버 패턴</span>
    <span class="c1">// =&gt; 윈도우 이벤트가 발생했을 때 보고를 받을 객체를 등록한다.</span>
    <span class="k">this</span><span class="o">.</span><span class="na">addWindowsListener</span><span class="o">(</span><span class="k">new</span> <span class="nc">WindowAdapter</span><span class="o">()</span> <span class="o">{</span>
      <span class="nd">@Override</span>
      <span class="kd">public</span> <span class="kt">void</span> <span class="nf">windowClosing</span><span class="o">(</span><span class="nc">WindowEvent</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">try</span> <span class="o">{</span>
          <span class="n">in</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">ex</span><span class="o">)</span> <span class="o">{</span>

        <span class="o">}</span>
        <span class="k">try</span> <span class="o">{</span>
          <span class="n">out</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">ex</span><span class="o">)</span> <span class="o">{</span>

        <span class="o">}</span>
        <span class="k">try</span> <span class="o">{</span>
          <span class="n">socket</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">ex</span><span class="o">)</span> <span class="o">{</span>

        <span class="o">}</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">exit</span><span class="o">(</span><span class="mi">0</span><span class="o">);</span>
      <span class="o">}</span>
    <span class="o">});</span>

    <span class="nc">Panel</span> <span class="n">topPane</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Panel</span><span class="o">();</span>
    <span class="n">topPane</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">addressTF</span><span class="o">);</span>
    <span class="n">topPane</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">portTF</span><span class="o">);</span>
    <span class="n">topPane</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">connectBtn</span><span class="o">);</span>
    <span class="k">this</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">topPane</span><span class="o">,</span> <span class="nc">BorderLayout</span><span class="o">.</span><span class="na">NORTH</span><span class="o">);</span>

    <span class="k">this</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">chattingPane</span><span class="o">,</span> <span class="nc">BorderLayout</span><span class="o">.</span><span class="na">CENTER</span><span class="o">);</span>

    <span class="nc">Panel</span> <span class="n">bottomPane</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Panel</span><span class="o">();</span>
    <span class="n">bottomPane</span><span class="o">.</span><span class="na">setLayout</span><span class="o">(</span><span class="k">new</span> <span class="nc">BorderLayout</span><span class="o">());</span>
    <span class="n">bottomPane</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">messageTF</span><span class="o">,</span> <span class="nc">BorderLayout</span><span class="o">.</span><span class="na">CENTER</span><span class="o">);</span>
    <span class="n">bottomPane</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">sendBtn</span><span class="o">,</span> <span class="nc">BorderLayout</span><span class="o">.</span><span class="na">EAST</span><span class="o">);</span>

    <span class="k">this</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">bottomPane</span><span class="o">,</span> <span class="nc">BorderLayout</span><span class="o">.</span><span class="na">SOUTH</span><span class="o">);</span>

    <span class="c1">// 연결 버튼에 대해 옵저버(리스너) 등록하기</span>
    <span class="n">connectBtn</span><span class="o">.</span><span class="na">addActionListener</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>

    <span class="c1">// 보내기 버튼에 대해 옵저버(리스너) 등록하기</span>
    <span class="n">sendBtn</span><span class="o">.</span><span class="na">addActionListener</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
  <span class="o">}</span>
  
  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">actionPerformed</span><span class="o">(</span><span class="nc">ActionEvent</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">e</span><span class="o">.</span><span class="na">getSource</span><span class="o">()</span> <span class="o">==</span> <span class="n">sendBtn</span><span class="o">)</span> <span class="o">{</span>
      <span class="c1">// 서버에 전송</span>
      <span class="n">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">messageTF</span><span class="o">.</span><span class="na">getText</span><span class="o">());</span>
      
      <span class="c1">// 기존에 입력한 메시지는 지운다.</span>
      <span class="n">messageTF</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="s">""</span><span class="o">);</span>
    <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">(</span><span class="n">e</span><span class="o">.</span><span class="na">getSource</span><span class="o">()</span> <span class="o">==</span> <span class="n">connectBtn</span><span class="o">)</span> <span class="o">{</span>
      <span class="n">connectChatServer</span><span class="o">();</span>
    <span class="o">}</span>
  <span class="o">}</span>
  
  <span class="kd">private</span> <span class="kt">void</span> <span class="nf">connectChatServer</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">try</span> <span class="o">{</span>
      <span class="n">socket</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Socket</span><span class="o">(</span><span class="n">addressTF</span><span class="o">.</span><span class="na">getText</span><span class="o">(),</span> <span class="nc">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">portTF</span><span class="o">.</span><span class="na">getText</span><span class="o">()));</span>
      <span class="n">out</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">PrintStream</span><span class="o">(</span><span class="n">socket</span><span class="o">.</span><span class="na">getOutputStream</span><span class="o">());</span>
      <span class="n">in</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">BufferedReader</span><span class="o">(</span><span class="k">new</span> <span class="nc">InputStreamReader</span><span class="o">(</span><span class="n">socket</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">()));</span>
      
      <span class="n">chattingPane</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="s">"서버와 연결됨!\n"</span><span class="o">);</span>
      
      <span class="c1">// 서버와 연결되면 메시지 수신을 별도의 담당자에게 맡긴다.</span>
      <span class="k">new</span> <span class="nf">Thread</span><span class="o">(</span><span class="k">new</span> <span class="nc">MessageReceiver</span><span class="o">()).</span><span class="na">start</span><span class="o">();</span>
      
      <span class="c1">// 메시지 전송은 버튼을 누를 때마다 main 스레드가 처리할 것이다.</span>
    <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
      <span class="n">chattingPane</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="s">"서버 연결 오류!\n"</span><span class="o">);</span>
    <span class="o">}</span>
  <span class="o">}</span>
  
  <span class="kd">class</span> <span class="nc">MessageReceiver</span> <span class="kd">implements</span> <span class="nc">Runnable</span> <span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">()</span> <span class="o">{</span>
      <span class="k">try</span> <span class="o">{</span>
        <span class="k">while</span> <span class="o">(</span><span class="kc">true</span><span class="o">)</span> <span class="o">{</span>
          <span class="nc">String</span> <span class="n">message</span> <span class="o">=</span> <span class="n">in</span><span class="o">.</span><span class="na">readLine</span><span class="o">();</span>
          <span class="n">chattingPane</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="n">message</span> <span class="o">+</span> <span class="s">"\n"</span><span class="o">);</span>
        <span class="o">}</span>
      <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">chattingPane</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="s">"메시지 수신 중 오류 발생!\n"</span><span class="o">);</span>
      <span class="o">}</span>
    <span class="o">}</span>
  <span class="o">}</span>
  
  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">ChatClient</span> <span class="n">app</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ChatClient</span><span class="o">(</span><span class="s">"비트 채팅!"</span><span class="o">);</span>
    <span class="n">app</span><span class="o">.</span><span class="na">setVisible</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><h2 id="server-1">Server</h2><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">ChatServer</span> <span class="o">{</span>
  
  <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">PrintStream</span><span class="o">&gt;</span> <span class="n">outputStreams</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;();</span>
  
  <span class="kt">int</span> <span class="n">port</span><span class="o">;</span>
  
  <span class="kd">public</span> <span class="nf">ChatServer</span><span class="o">(</span><span class="kt">int</span> <span class="n">port</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">this</span><span class="o">.</span><span class="na">port</span> <span class="o">=</span> <span class="n">port</span><span class="o">;</span>
  <span class="o">}</span>
  
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">service</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">try</span> <span class="o">(</span><span class="nc">ServerSocket</span> <span class="n">serverSocket</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ServerSocket</span><span class="o">(</span><span class="n">port</span><span class="o">))</span> <span class="o">{</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"채팅 서버 시작!"</span><span class="o">);</span>
      
      <span class="k">while</span> <span class="o">(</span><span class="kc">true</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">new</span> <span class="nf">Thread</span><span class="o">(</span><span class="k">new</span> <span class="nc">ChatAgent</span><span class="o">(</span><span class="n">serverSocket</span><span class="o">.</span><span class="na">accept</span><span class="o">())).</span><span class="na">start</span><span class="o">();</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"채팅 클라이언트가 연결되었음!"</span><span class="o">);</span>
      <span class="o">}</span>
    <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
      <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
    <span class="o">}</span>
  <span class="o">}</span>
  
  <span class="kd">synchronized</span> <span class="kd">private</span> <span class="kt">void</span> <span class="nf">send</span><span class="o">(</span><span class="nc">String</span> <span class="n">message</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">for</span> <span class="o">(</span><span class="nc">PrintStream</span> <span class="n">out</span> <span class="o">:</span> <span class="n">outputStreams</span><span class="o">)</span> <span class="o">{</span>
      <span class="k">try</span> <span class="o">{</span>
        <span class="n">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">message</span><span class="o">);</span>
      <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// 출력이 안 되는 스트림은 다음에 사용하지 않기 위해 목록에서 제거한다.</span>
        <span class="n">outputStreams</span><span class="o">.</span><span class="na">remove</span><span class="o">(</span><span class="n">out</span><span class="o">);</span>
      <span class="o">}</span>
    <span class="o">}</span>
  <span class="o">}</span>
  
  <span class="kd">class</span> <span class="nc">ChatAgent</span> <span class="kd">implements</span> <span class="nc">Runnable</span> <span class="o">{</span>
    
    <span class="nc">Socket</span> <span class="n">socket</span><span class="o">;</span>
    
    <span class="kd">public</span> <span class="nf">ChatAgent</span><span class="o">(</span><span class="nc">Socket</span> <span class="n">socket</span><span class="o">)</span> <span class="o">{</span>
      <span class="k">this</span><span class="o">.</span><span class="na">socket</span> <span class="o">=</span> <span class="n">socket</span><span class="o">;</span>
    <span class="o">}</span>
    
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">()</span> <span class="o">{</span>
      <span class="k">try</span> <span class="o">(</span><span class="nc">Socket</span> <span class="n">socket</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="na">socket</span><span class="o">;</span>
          <span class="nc">BufferedReader</span> <span class="n">in</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">BufferedReader</span><span class="o">(</span><span class="k">new</span> <span class="nc">InputStreamReader</span><span class="o">(</span><span class="n">socket</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">()));</span>
          <span class="nc">PrintStream</span> <span class="n">out</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">PrintStream</span><span class="o">(</span><span class="n">socket</span><span class="o">.</span><span class="na">getOutputStream</span><span class="o">()))</span> <span class="o">{</span>
        
        <span class="c1">// 출력 스트림을 ChatServer에 보관한다.</span>
        <span class="n">outputStreams</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">out</span><span class="o">);</span>
        
        <span class="k">while</span> <span class="o">(</span><span class="kc">true</span><span class="o">)</span> <span class="o">{</span>
          <span class="nc">String</span> <span class="n">message</span> <span class="o">=</span> <span class="n">in</span><span class="o">.</span><span class="na">readLine</span><span class="o">();</span>
          <span class="k">if</span> <span class="o">(</span><span class="n">message</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="s">"quit"</span><span class="o">))</span>
            <span class="k">break</span><span class="o">;</span>
          
          <span class="c1">// 채팅 방에 참여한 모든 사람들에게 메시지를 전달한다.</span>
          <span class="c1">// =&gt; 메시지를 전문적으로 보내는 일을 하는 객체에 맡긴다.</span>
          <span class="k">new</span> <span class="nf">Thread</span><span class="o">(</span><span class="k">new</span> <span class="nc">MessageSender</span><span class="o">(</span><span class="n">message</span><span class="o">)).</span><span class="na">start</span><span class="o">();</span>
        <span class="o">}</span>
        
        <span class="c1">// 채팅 방에 참여한 모든 사람들에게 퇴장 메시지를 전달한다.</span>
      <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
      <span class="o">}</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"채팅 클라이언트가 종료되었음!"</span><span class="o">);</span>
    <span class="o">}</span>
  <span class="o">}</span>
  
  <span class="kd">class</span> <span class="nc">MessageSender</span> <span class="kd">implements</span> <span class="nc">Runnable</span> <span class="o">{</span>
    <span class="nc">String</span> <span class="n">message</span><span class="o">;</span>
    
    <span class="kd">public</span> <span class="nf">MessageSender</span><span class="o">(</span><span class="nc">String</span> <span class="n">message</span><span class="o">)</span> <span class="o">{</span>
      <span class="k">this</span><span class="o">.</span><span class="na">message</span> <span class="o">=</span> <span class="n">message</span><span class="o">;</span>
    <span class="o">}</span>
    
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">()</span> <span class="o">{</span>
      <span class="n">send</span><span class="o">(</span><span class="n">message</span><span class="o">);</span>
    <span class="o">}</span>
  <span class="o">}</span>
  
  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">ChatServer</span> <span class="n">chatServer</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ChatServer</span><span class="o">(</span><span class="mi">8888</span><span class="o">);</span>
    <span class="n">chatServer</span><span class="o">.</span><span class="na">service</span><span class="o">();</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><h1 id="스레드">스레드</h1><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/50407047/95364440-c6d3ed80-090b-11eb-89c5-c58f29d93e4a.png" alt="image" /></p><h2 id="concurrency병행성-vs-pararellism병렬성">Concurrency(병행성) VS Pararellism(병렬성)</h2><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="C:\Users\Monica Kim\AppData\Roaming\Typora\typora-user-images\image-20201008021638098.png" alt="image-20201008021638098" /></p><ul><li><p>Concurrency(병행성): 프로그램의 성질</p><ul><li>Concurrency는 CPU가 APP을 돌아가면서 명령어를 실행하는 방식이다.</ul><li><p>Parallel(병렬성): 기계의 성질</p><ul><li>병렬 프로그래밍은 자바에서 할 수 없다. 따라서 Parallels Programming은 우리의 학습 대상이 아니다.</ul></ul><h2 id="멀티-태스킹">멀티 태스킹</h2><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/50407047/95366198-15828700-090e-11eb-8498-b7c4a41bdc5c.png" alt="image" /></p><ul><li>한 개의 CPU가 여러 코드를 동시(?)에 실행하는 것<li>실제는 일정한 시간을 쪼개 이 코드와 저 코드를 왔다갔다 하면서 실행한다.<li>그럼에도 불구하고 외부에서 봤을 때는 명령어가 동시에 실행되는 것처럼 보인다.<ul><li>CPU의 속도가 워낙 빠르기 때문이다.</ul><li>멀티태스킹을 구현하는 방법은 멀티 프로세싱과 멀티 스레딩으로 나뉜다.</ul><h2 id="cpu-scheduling">CPU Scheduling</h2><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="C:\Users\Monica Kim\AppData\Roaming\Typora\typora-user-images\image-20201008021912954.png" alt="image-20201008021912954" /></p><ul><li>CPU의 실행 시간을 쪼개서 배분하는 정책<li>CPU의 실행 시간을 쪼개 코드를 실행하는 방법<li>CPU Scheduling 또는 프로세스 스케줄링이라고 부른다.</ul><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/50407047/95365465-1ff05100-090d-11eb-90bc-5b6c1d3823a3.png" alt="image" /></p><h3 id="round-robin-방식">Round-Robin 방식</h3><ul><li>Windows OS에서 사용하는 방식<li>CPU 실행 시간을 일정하게 쪼개서 각 코드에 분배하는 방식</ul><h3 id="priority-방식">Priority 방식</h3><ul><li>Unix, Linux에서 사용하는 방식<li>우선순위가 높은 코드에 더 많은 실행 시간을 배정하는 방식<li>문제점<ul><li>우선순위가 낮은 프로그램인 경우 CPU 시간을 배정 받지 못하는 문제가 발생한다.<li>그리서 몇 년이 지나도록 실행되지 않는 경우가 있다.</ul><li>해결책<ul><li>CPU 시간을 배정 받지 못할 때마다 <strong>우선순위를 높여서</strong> 언젠가는 실행되게 만들었다.<li>이런 방식을 <strong>에이징(aging)</strong> 기법이라 부른다.</ul></ul><h2 id="멀티-태스킹을-구현하는-방법">멀티 태스킹을 구현하는 방법</h2><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/50407047/95364530-e703ac80-090b-11eb-8bcc-05c088f79f7f.png" alt="image" /></p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/50407047/95365797-92613100-090d-11eb-94e2-2071865c0765.png" alt="image" /></p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/50407047/95366228-1f0bef00-090e-11eb-946c-5e3e97ba1de2.png" alt="image" /></p><h3 id="멀티-프로세싱">멀티 프로세싱</h3><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/50407047/95366271-2c28de00-090e-11eb-9d20-183ac9933583.png" alt="image" /></p><ul><li>프로세스(실행 중인 프로그램)를 복제하여 분기한다.<li>분기된 프로세스를 실행시켜서 작업을 동시에 진행하게 한다.<li>장점<ul><li>분기하기 쉽다(<code class="language-plaintext highlighter-rouge">fort()</code> 호출). 즉 구현(프로그래밍)하기가 쉽다.</ul><li>단점<ul><li>프로세스를 그대로 복제하기 때문에 프로세스가 사용하는 메모리도 그대로 복제된다.<li>메모리 낭비가 심하다.<li>복제된 프로세스는 독립적이기 때문에 실행 종료할 때도 일일이 종료해야 한다.</ul></ul><div class="language-c highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre><td class="rouge-code"><pre><span class="cp">#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;unistd.h&gt;
</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="n">pid_t</span> <span class="n">processId</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  
  <span class="n">processId</span> <span class="o">=</span> <span class="n">fork</span><span class="p">();</span>
  
  <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">10000</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">"[%d] ==&gt; %d</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">processId</span><span class="p">,</span> <span class="n">i</span><span class="p">);</span>
    <span class="kt">int</span> <span class="n">temp</span> <span class="o">=</span> <span class="n">rand</span><span class="p">()</span> <span class="o">*</span> <span class="n">rand</span><span class="p">();</span>
  <span class="p">}</span>
  
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></table></code></div></div><h3 id="멀티-스레딩">멀티 스레딩</h3><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/50407047/95366553-8cb81b00-090e-11eb-84ea-b94e522493e4.png" alt="image" /></p><ul><li>특정 코드만 분리하여 실행한다.<li>따라서 프로세스가 사용하는 메모리를 공유한다.<li>장점<ul><li>프로세스의 힙 메모리를 공유하기 때문에 메모리 낭비가 적다.<li>모든 스레드는 프로세스에 종속되기 때문에 프로세스를 종료하면 스레드도 자동 종료된다.</ul><li>단점<ul><li>프로세스 복제 방식에 비해 코드 구현이 복잡하다.</ul></ul><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Exam0120</span> <span class="o">{</span>
  <span class="kd">static</span> <span class="kd">class</span> <span class="nc">MyThread</span> <span class="kd">extends</span> <span class="nc">Thread</span> <span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">()</span> <span class="o">{</span>
      <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">1000</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"==&gt; "</span> <span class="o">+</span> <span class="n">i</span><span class="o">);</span>
      <span class="o">}</span>
    <span class="o">}</span>
  <span class="o">}</span>
  
  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">new</span> <span class="nf">MyThread</span><span class="o">().</span><span class="na">start</span><span class="o">();</span>
    <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">1000</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"&gt;&gt;&gt;"</span> <span class="o">+</span> <span class="n">i</span><span class="o">);</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><h2 id="컨텍스트-스위칭-context-switching">컨텍스트 스위칭 (context switching)</h2><p>CPU를 실행 시간을 쪼개 이 코드 저 코드를 실행할 때마다 <strong>실행 위치 및 정보(context)를 저장하고 로딩</strong>하는 과정이 필요하다. 이 과정을 컨텍스트 스위칭이라고 부른다.</p><h2 id="스레드-thread">스레드 (thread)</h2><ul><li>‘실’이라는 뜻이다.<li>한 실행 흐름을 가리킨다.<li>하나의 실은 끊기지 않은 하나의 실행 흐름을 의미한다.</ul><h3 id="스레드-생성">스레드 생성</h3><ul><li>새 실을 만든다는 것이다.<li>즉 새 실행 흐름을 시작하겠다는 의미다.<li><strong>CPU는 스레드를 프로세스와 마찬가지로 동일한 자격을 부여하여 스케줄링에 참여시킨다.</strong><li>즉 프로세스에 종속된 스레드라고 취급하며 한 프로세스에 부여된 실행 시간을 다시 쪼개 스레드에 나눠주는 방식이 아니다.<li>그냥 <strong>단독적인 프로세스처럼 동일한 실행 시간을 부여</strong>한다.</ul><h2 id="실습">실습</h2><h3 id="멀티태스킹-전과-후">멀티태스킹 전과 후</h3><h4 id="멀티스레드-적용-전">멀티스레드 적용 전</h4><p>일반적으로 코드는 위에서 아래로 순서대로 실행한다. 작업이 완료할 때까지 다음 줄로 가지 않는다. 자바는 <code class="language-plaintext highlighter-rouge">main()</code> 메서드를 실행하는 한 개의 <strong>실행 흐름</strong>이 있다. 실행 흐름에 따라 순서대로 코드가 실행된다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre><td class="rouge-code"><pre><span class="c1">// 멀티 스레드 적용 전</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Exam0110</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">1000</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"==&gt;"</span> <span class="o">+</span> <span class="n">i</span><span class="o">);</span>
    
    <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">1000</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"&gt;&gt;&gt;"</span> <span class="o">+</span> <span class="n">i</span><span class="o">);</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><h4 id="멀티스레드-적용-후">멀티스레드 적용 후</h4><p><strong>CPU의 시간을 쪼개서 왔다갔다 하면서 동시에 실행</strong>하고 싶은 코드가 있다면 다음과 같이 <code class="language-plaintext highlighter-rouge">Thread</code>를 상속받아 <code class="language-plaintext highlighter-rouge">run()</code> 메서드에 그 코드를 둔다. 즉 <strong>기존 실행 흐름과 분리하여 따로 실행</strong>시킬 코드를 <code class="language-plaintext highlighter-rouge">run()</code> 메서드에 둔다.</p><p><code class="language-plaintext highlighter-rouge">main()</code> 메서드 안에서는 동시에 실행할 코드를 담고 있는 <code class="language-plaintext highlighter-rouge">Thread</code> 객체를 생성한다. (<code class="language-plaintext highlighter-rouge">new MyThread()</code>) 그리고 현재 실행과 분리하여 작업을 시작시킨다. (<code class="language-plaintext highlighter-rouge">start()</code>) JVM은 이 스레드에 들어 있는 코드와 다음에 진행하는 코드를 왔다갔다 하면서 처리할 것이다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Exam0120</span> <span class="o">{</span>
  <span class="kd">static</span> <span class="kd">class</span> <span class="nc">MyThread</span> <span class="kd">extends</span> <span class="nc">Thread</span> <span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">()</span> <span class="o">{</span>
      <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span><span class="o">&lt;</span> <span class="mi">1000</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"==&gt; "</span> <span class="o">+</span> <span class="n">i</span><span class="o">);</span>
    <span class="o">}</span>
  <span class="o">}</span>
  
  <span class="kd">public</span> <span class="kd">static</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">new</span> <span class="nf">MyThread</span><span class="o">().</span><span class="na">start</span><span class="o">();</span>
    
    <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">1000</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"==&gt; "</span> <span class="o">+</span> <span class="n">i</span><span class="o">);</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><p>즉, <code class="language-plaintext highlighter-rouge">main()</code> 메서드를 실행하는 기본 실행 흐름에서 새로운 실행 흐름으로 분기하고 싶다면, Thread 클래스에서 분기해서 실행할 코드를 담으면 된다. 그러면 두 개의 실행 흐름이 서로 왔다갔다 하면서 실행된다.</p><h2 id="jvm의-스레드-계층도">JVM의 스레드 계층도</h2><ul><li>스레드 그룹은 디렉토리이고 스레드는 파일이라고 생각하자.<li>스레드 그룹은 다른 스레드 그룹을 포함할 수 있다.</ul><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
  <span class="nc">Thread</span> <span class="n">mainThread</span> <span class="o">=</span> <span class="nc">Thread</span><span class="o">.</span><span class="na">currentThread</span><span class="o">();</span>
  <span class="nc">ThreadGroup</span> <span class="n">mainGroup</span> <span class="o">=</span> <span class="n">mainThread</span><span class="o">.</span><span class="na">getThreadGroup</span><span class="o">();</span>
  <span class="nc">ThreadGroup</span> <span class="n">systemGroup</span> <span class="o">=</span> <span class="n">mainGroup</span><span class="o">.</span><span class="na">getParent</span><span class="o">();</span>
  
  <span class="n">printThreads</span><span class="o">(</span><span class="n">systemGroup</span><span class="o">,</span> <span class="s">""</span><span class="o">);</span>
<span class="o">}</span>

<span class="kd">static</span> <span class="kt">void</span> <span class="nf">printThreads</span><span class="o">(</span><span class="nc">ThreadGroup</span> <span class="n">tg</span><span class="o">,</span> <span class="nc">String</span> <span class="n">indent</span><span class="o">)</span> <span class="o">{</span>
  <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">indent</span> <span class="o">+</span> <span class="n">tg</span><span class="o">.</span><span class="na">getName</span><span class="o">()</span> <span class="o">+</span> <span class="s">"(TG)"</span><span class="o">);</span>
  
  <span class="c1">// 현재 스레드 그룹에 소속된 클래스를 출력하기</span>
  <span class="nc">Thread</span><span class="o">[]</span> <span class="n">threads</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Thread</span><span class="o">[</span><span class="mi">10</span><span class="o">];</span>
  <span class="c1">// 불린 값은 recursive 여부, 즉 하위 스레드 그룹까지 찾아들어갈 것인지</span>
  <span class="kt">int</span> <span class="n">size</span> <span class="o">=</span> <span class="n">tg</span><span class="o">.</span><span class="na">enumerate</span><span class="o">(</span><span class="n">threads</span><span class="o">,</span> <span class="kc">false</span><span class="o">);</span>
  <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">size</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span>
    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">indent</span> <span class="o">+</span> <span class="s">"  ==&gt; "</span> <span class="o">+</span> <span class="n">threads</span><span class="o">[</span><span class="n">i</span><span class="o">].</span><span class="na">getName</span><span class="o">()</span> <span class="o">+</span> <span class="s">"(T)"</span><span class="o">);</span>
  
  <span class="nc">ThreadGroup</span><span class="o">[]</span> <span class="n">groups</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ThreadGroup</span><span class="o">[</span><span class="mi">10</span><span class="o">];</span>
  <span class="kt">int</span> <span class="n">size</span> <span class="o">=</span> <span class="n">tg</span><span class="o">.</span><span class="na">enumerate</span><span class="o">(</span><span class="n">groups</span><span class="o">,</span> <span class="kc">false</span><span class="o">);</span> 
  <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">size</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span>
    <span class="n">printThreads</span><span class="o">(</span><span class="n">groups</span><span class="o">[</span><span class="n">i</span><span class="o">],</span> <span class="n">indent</span> <span class="o">+</span> <span class="s">"  "</span><span class="o">);</span>
  
<span class="o">}</span>

<span class="cm">/*
실행 결과
JVM의 스레드 계층도: (openjdk 8 기준)

system(TG)
  ==&gt; Reference Handler(T)
  ==&gt; Finalizer(T)
  ==&gt; Signal Dispatcher(T)
  ==&gt; Attach Listener(T)
  main(TG)
    ==&gt; main(T)
*/</span>
</pre></table></code></div></div><h2 id="스레드-만들기">스레드 만들기</h2><h3 id="thread를-상속-받기">Thread를 상속 받기</h3><ul><li>구현하기 편하다.<li>다중 상속이 불가능하기 때문에 다른 클래스를 상속받을 수 없다.<li>즉 MyThread가 다른 클래스를 상속 받으면서 스레드가 될 순 없다.</ul><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Exam0110</span> <span class="o">{</span>
  <span class="kd">class</span> <span class="nc">MyThread</span> <span class="kd">extends</span> <span class="nc">Thread</span> <span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">()</span> <span class="o">{</span>
      <span class="c1">// 별도로 분리해서 병행으로 실행할 코드를 두는 것</span>
      <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">1000</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"===&gt; "</span> <span class="o">+</span> <span class="n">i</span><span class="o">);</span>
    <span class="o">}</span>
  <span class="o">}</span>
  
  <span class="c1">// 스레드 실행</span>
  <span class="c1">// =&gt; Thread의 서브 클래스는 그냥 인스턴스를 만들어 start()을 호출한다.</span>
  <span class="nc">MyThread</span> <span class="n">t</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">MyThread</span><span class="o">();</span>
  <span class="n">t</span><span class="o">.</span><span class="na">start</span><span class="o">();</span> <span class="c1">// 실행 흐름을 분리한 후 즉시 리턴한다. 비동기로 동작한다.</span>
<span class="o">}</span>
</pre></table></code></div></div><ul><li>CPU 사용을 스레드에게 배분할 때, 스레드를 생성한 순서대로 배분하지는 않는다. OS의 CPU 스케줄링 정책에 따라 스레드가 실행된다. 즉 JVM에서 스레드를 실행하는 것이 아니라 OS가 실행한다.<li>즉, 똑같은 자바의 스레드 코드가 OS에 따라 실행 순서가 달라질 수 있다.<li>우선순위를 조정할 수 있을까?<ul><li>Windows OS의 경우 우선 순위(priority) 값이 실행 순서나 실행 회수에 큰 영향을 끼치지 않는다. 따라서 우선순위의 값을 조정하여 스레드의 실행 횟수를 조정하려 해서는 안 된다.<li>OS에 따라 실행 정책이 다르기 때문이다.<li>그냥 특정 코드를 동시에 실행하고 싶을 때 스레드를 사용한다고 생각하자!</ul></ul><p>위 코드에서 MyThread 클래스는 한 번만 인스턴스를 생성하여 사용한다. 따라서 익명 클래스로 구현할 수 있다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Exam0120</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">new</span> <span class="nf">Thread</span><span class="o">()</span> <span class="o">{</span>
      <span class="nd">@Override</span>
      <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">1000</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span>
          <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"===&gt; "</span> <span class="o">+</span> <span class="n">i</span><span class="o">);</span>
      <span class="o">}</span>
    <span class="o">}.</span><span class="na">start</span><span class="o">();</span>
    
    <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">1000</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"&gt;&gt;&gt; "</span> <span class="o">+</span> <span class="n">i</span><span class="o">);</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><h2 id="runnable-인터페이스-구현--thread">Runnable 인터페이스 구현 + Thread</h2><ul><li>실무에서 스레드를 만들 때 많이 사용한다.<li>인터페이스를 구현하는 것이기 때문에 <strong>다른 클래스를 상속받을 수 있다</strong>.<li><strong>직접적으로 스레드가 아니기 때문에 실행할 때는 Thread의 도움을 받아야 한다.</strong></ul><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Exoam0210</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="kd">class</span> <span class="nc">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="kd">class</span> <span class="nc">MyRunnable</span> <span class="kd">implements</span> <span class="nc">Runnable</span> <span class="o">{</span>
      <span class="nd">@Override</span>
      <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">1000</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span>
          <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"===&gt;"</span> <span class="o">+</span> <span class="n">i</span><span class="o">);</span>
      <span class="o">}</span>
    <span class="o">}</span>
    
    <span class="c1">// 스레드 실행하기</span>
    <span class="c1">// =&gt; Runnable 구현체를 Thread 객체에 실어서 실행한다.</span>
    <span class="c1">// =&gt; start()을 호출하여 기존 스레드에서 분리하여 스레드를 실행시킨다.</span>
    <span class="nc">Thread</span> <span class="n">t</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Thread</span><span class="o">(</span><span class="k">new</span> <span class="nc">MyRunnable</span><span class="o">());</span>
    <span class="n">t</span><span class="o">.</span><span class="na">start</span><span class="o">();</span> <span class="c1">// 실행 흐름을 분리한 후 즉시 리턴</span>
    
    <span class="c1">// "main"스레드는 Thread와 상관 없이 병행하여 실행한다.</span>
    <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">1000</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"&gt;&gt;&gt; "</span> <span class="o">+</span> <span class="n">i</span><span class="o">);</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><p>Runnable 구현체도 한 번만 생성하기 때문에 익명 클래스로 정의할 수 있다. 또한 Runnable 인터페이스는 메서드가 하나밖에 없기 때문에 람다로도 구현할 수 있다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Exam0230</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">new</span> <span class="nf">Thread</span><span class="o">(()</span> <span class="o">-&gt;</span> <span class="o">{</span>
      <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">1000</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"===&gt;"</span> <span class="o">+</span> <span class="n">i</span><span class="o">);</span>
    <span class="o">}).</span><span class="na">start</span><span class="o">();</span>
    
    <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">1000</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"&gt;&gt;&gt; "</span> <span class="o">+</span> <span class="n">i</span><span class="o">);</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><h2 id="스레드와-프로그램-종료">스레드와 프로그램 종료</h2><ul><li>어떤 스레드에서 만든 스레드를 그 스레드의 자식 스레드라고 부른다.<li>따라서 아래 코드의 t 스레드는 main스레드의 자식 스레드다.<li>자식 스레드는 부모 스레드와 같은 우선순위를 갖는다.<li>즉 다음 코드에서 메인메서드 호출이 끝나더라도 JVM은 종료하지 않고 기다린다.</ul><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Exam0310</span> <span class="o">{</span>
  
  <span class="kd">static</span> <span class="kd">class</span> <span class="nc">MyThread</span> <span class="kd">extends</span> <span class="nc">Thread</span> <span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">()</span> <span class="o">{</span>
      <span class="nc">Scanner</span> <span class="n">keyboard</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Scanner</span><span class="o">(</span><span class="nc">System</span><span class="o">.</span><span class="na">in</span><span class="o">);</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"입력하시오&gt; "</span><span class="o">);</span>
      <span class="nc">String</span> <span class="n">input</span> <span class="o">=</span> <span class="n">keyboard</span><span class="o">.</span><span class="na">nextLine</span><span class="o">();</span>
      <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"입력한 문자열 =&gt; "</span> <span class="o">+</span> <span class="n">input</span><span class="o">);</span>
      <span class="n">keyboard</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
    <span class="o">}</span>
  <span class="o">}</span>
 
  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="c1">// main 스레드에서 새 스레드 객체 생성하기</span>
    <span class="nc">MyThread</span> <span class="n">t</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">MyThread</span><span class="o">();</span>
    <span class="n">t</span><span class="o">.</span><span class="na">start</span><span class="o">();</span>
    
    <span class="c1">// 모든 스레드가 종료될 때까지 JVM은 종료되지 않는다.</span>
    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"프로그램 종료?"</span><span class="o">);</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/bitcamp/'>bitcamp</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/bitcamp/" class="post-tag no-text-decoration" >bitcamp</a> <a href="/tags/java/" class="post-tag no-text-decoration" >java</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=학원 #53일차: 계산기 Network App, 채팅 App, 스레드 - 하연&url=https://hayeon17kim.github.io//posts/201007-53/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=학원 #53일차: 계산기 Network App, 채팅 App, 스레드 - 하연&u=https://hayeon17kim.github.io//posts/201007-53/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=학원 #53일차: 계산기 Network App, 채팅 App, 스레드 - 하연&url=https://hayeon17kim.github.io//posts/201007-53/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/system-deisign-capacity-estimation/">System Design: Capacity Estimate</a><li><a href="/posts/today-i-learned-2021-04-27/">주니어 성장일기: 2021.04.27</a><li><a href="/posts/today-i-learned-2021-04-26/">주니어 성장일기: 2021.04.26</a><li><a href="/posts/fastcampus-01/">자료구조와 알고리즘이란</a><li><a href="/posts/today-i-learned-2021-04-25/">주니어 성장일기: 2021.04.25</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/java/">java</a> <a class="post-tag" href="/tags/javascript/">JavaScript</a> <a class="post-tag" href="/tags/bitcamp/">bitcamp</a> <a class="post-tag" href="/tags/modernjs/">modernJS</a> <a class="post-tag" href="/tags/project/">project</a> <a class="post-tag" href="/tags/algorithm/">algorithm</a> <a class="post-tag" href="/tags/trouble-shooting/">trouble-shooting</a> <a class="post-tag" href="/tags/devil/">devil</a> <a class="post-tag" href="/tags/corejs/">corejs</a> <a class="post-tag" href="/tags/network/">network</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/201123-85/"><div class="card-body"> <span class="timeago small" > Nov 23, 2020 <i class="unloaded">2020-11-23T00:00:00+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>학원 #85일차:서블릿 프로그래밍, WAS, JavaEE와 Servlet 컨테이너, Servlet 인터페이스의 Life-cycle 메서드</h3><div class="text-muted small"><p> 서블릿 프로그래밍 웹 애플리케이션 서버 아키텍쳐의 개념 JavaEE와 Servlet API의 관계 JavaEE 구현체와 서블릿 컨테이너의 관계 eomcs-web-project/src-00 예제 실습 Servlet 인터페이스와 Life-cycle 메서드 WAS(Web Application Server) 아키텍처 이전까지는 사...</p></div></div></a></div><div class="card"> <a href="/posts/201124-86/"><div class="card-body"> <span class="timeago small" > Nov 24, 2020 <i class="unloaded">2020-11-24T00:00:00+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>학원 #86일차:서블릿 프로그래밍, 프로젝트를 WAS 아키텍처로 전환</h3><div class="text-muted small"><p> 서블릿 컨테이너가 관리하는 컴포넌트는 서블릿, 필터, 리스너로 3가지이다. Servlet 만들기 1. javax.servlet.Servlet 인터페이스 구현 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38...</p></div></div></a></div><div class="card"> <a href="/posts/201125-87/"><div class="card-body"> <span class="timeago small" > Nov 25, 2020 <i class="unloaded">2020-11-25T00:00:00+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>학원 #87일차: HTML 태그 사용법</h3><div class="text-muted small"><p> HTML/CSS 학습법: 결과 화면 먼저 보고 소스코드를 확인하자 UI와 UX UX(User Experience; 사용자 경험): 사용자 편의성 ex: 링크에 hover했을 때 커서가 손모양으로 바뀌어야 한다. UI(User Interface): 기능을 하는 화면이 있는가 HTML ...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/201006-52/" class="btn btn-outline-primary" prompt="Older"><p>학원 #52일차: 계산기 Network App 만들기, 스레드</p></a> <a href="/posts/network09/" class="btn btn-outline-primary" prompt="Newer"><p>💻 HTTP #9: HTTP 컨텐츠 협상</p></a></div><div id="disqus" class="pt-2 pb-2"><p class="text-center text-muted small pb-5"> Loading comments from <a href="https://disqus.com/">Disqus</a> ...</p></div><script src="/assets/js/lib/jquery.disqusloader.min.js"></script> <script> const options = { scriptUrl: '//hayeon17kim-github-io.disqus.com/embed.js', disqusConfig: function() { this.page.title = '학원 #53일차: 계산기 Network App, 채팅 App, 스레드'; this.page.url = 'https://hayeon17kim.github.io//posts/201007-53/'; this.page.identifier = '/posts/201007-53/'; } }; $.disqusLoader('#disqus', options); </script></div></div></div><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script> <script type="text/javascript"> const imgs = document.querySelectorAll('.post-content img'); const observer = lozad(imgs); observer.observe(); </script><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2021 <a href="https://twitter.com/MONI56219559">hayeon_kim</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/java/">java</a> <a class="post-tag" href="/tags/javascript/">JavaScript</a> <a class="post-tag" href="/tags/bitcamp/">bitcamp</a> <a class="post-tag" href="/tags/modernjs/">modernJS</a> <a class="post-tag" href="/tags/project/">project</a> <a class="post-tag" href="/tags/algorithm/">algorithm</a> <a class="post-tag" href="/tags/trouble-shooting/">trouble shooting</a> <a class="post-tag" href="/tags/devil/">devil</a> <a class="post-tag" href="/tags/corejs/">corejs</a> <a class="post-tag" href="/tags/network/">network</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://hayeon17kim.github.io/{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script>
