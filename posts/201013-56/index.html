<!DOCTYPE html><html lang="kr-KR" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="pv-cache-enabled" content="false"><meta name="generator" content="Jekyll v4.2.0" /><meta property="og:title" content="학원 #56일차: PMS 프로젝트: Observer 패턴의 활용" /><meta name="author" content="hayeon_kim" /><meta property="og:locale" content="kr_KR" /><meta name="description" content="복습" /><meta property="og:description" content="복습" /><link rel="canonical" href="https://hayeon17kim.github.io//posts/201013-56/" /><meta property="og:url" content="https://hayeon17kim.github.io//posts/201013-56/" /><meta property="og:site_name" content="하연" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2020-10-13T00:00:00+08:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="학원 #56일차: PMS 프로젝트: Observer 패턴의 활용" /><meta name="twitter:site" content="@MONI56219559" /><meta name="twitter:creator" content="@hayeon_kim" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"author":{"@type":"Person","name":"hayeon_kim"},"headline":"학원 #56일차: PMS 프로젝트: Observer 패턴의 활용","dateModified":"2020-10-13T00:00:00+08:00","datePublished":"2020-10-13T00:00:00+08:00","description":"복습","url":"https://hayeon17kim.github.io//posts/201013-56/","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://hayeon17kim.github.io//posts/201013-56/"},"@context":"https://schema.org"}</script><title>학원 #56일차: PMS 프로젝트: Observer 패턴의 활용 | 하연</title><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon.png"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon-precomposed.png"><link rel="apple-touch-icon" sizes="57x57" href="/assets/img/favicons/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/assets/img/favicons/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicons/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/assets/img/favicons/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicons/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/assets/img/favicons/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicons/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/assets/img/favicons/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/assets/img/favicons/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/assets/img/favicons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/manifest.json"><meta name='msapplication-config' content='/assets/img/favicons/browserconfig.xml'><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/assets/img/favicons/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="cdn.jsdelivr.net"><link rel="dns-prefetch" href="cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=UA-173202420-1"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-173202420-1'); }); </script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/img/bio-photo.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">하연</a></div><div class="site-subtitle font-italic">어제보다 나은 코드를 위해</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/projects/" class="nav-link"> <i class="fa-fw fas fa-laptop-code ml-xl-3 mr-xl-3 unloaded"></i> <span>PROJECTS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/hayeon17kim" aria-label="github" class="order-3" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/MONI56219559" aria-label="twitter" class="order-4" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['hayeon17kim','gmail.com'].join('@')" aria-label="email" class="order-5" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" class="order-6" > <i class="fas fa-rss"></i> </a> <span class="icon-border order-2"></span> <span id="mode-toggle-wrapper" class="order-1"> <i class="mode-toggle fas fa-adjust"></i> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } var self = this; /* always follow the system prefers */ this.sysDarkPrefers.addListener(function() { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.updateMermaid(); }); } /* constructor() */ setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode == ModeToggle.DARK_MODE; } get isLightMode() { return this.mode == ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer) ) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } updateMermaid() { if (typeof mermaid !== "undefined") { let expectedTheme = (this.modeStatus === ModeToggle.DARK_MODE? "dark" : "default"); let config = { theme: expectedTheme }; /* re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function() { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.updateMermaid(); } /* flipMode() */ } /* ModeToggle */ let toggle = new ModeToggle(); $(".mode-toggle").click(function() { toggle.flipMode(); }); </script> </span></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Posts </a> </span> <span>학원 #56일차: PMS 프로젝트: Observer 패턴의 활용</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>학원 #56일차: PMS 프로젝트: Observer 패턴의 활용</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Tue, Oct 13, 2020, 12:00 AM +0800" > Oct 13, 2020 <i class="unloaded">2020-10-13T00:00:00+08:00</i> </span> by <span class="author"> hayeon_kim </span></div><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="3777 words">20 min</span></div></div><div class="post-content"><h2 id="복습">복습</h2><p><code class="language-plaintext highlighter-rouge">ApplicationContextListener</code>는 다른 패키지에서도 공통으로 사용해야 하기 때문에 (특정 프로그램에 종속되지 않기 때문에) 회사 도메인 바로 아래에 둔다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre><td class="rouge-code"><pre><span class="kn">package</span> <span class="nn">com.eomcs.pms.listener</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">com.eomcs.context.ApplicationContextListener</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">AppInitListener</span> <span class="kd">implements</span> <span class="nc">ApplicationContextListener</span> <span class="o">{</span>
  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">contextInitialized</span><span class="o">()</span> <span class="o">{</span>
    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"프로젝트 관리 시스템(PMS)에 오신 걸 환영합니다!"</span><span class="o">);</span>
  <span class="o">}</span>
  
  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">contextDestroyed</span><span class="o">()</span> <span class="o">{</span>
    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"프로젝트 관리 시스템(PMS)을 종료합니다!"</span><span class="o">);</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><ul><li>기존에 만들어진 클래스에서 이 클래스의 메서드들을 호출할 것이다.<li>디자인 패턴을 적용할 때는 복잡하더라도 차후 기능을 변경하고 삭제하는 것이 편해진다.</ul><p>만약 프로젝트에 옵저버 패턴을 적용하지 않는다면, 다음과 같이 직접 service 메서드를 수정할 것이다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kt">void</span> <span class="nf">service</span> <span class="o">()</span> <span class="o">{</span>
    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"프로젝트 관리 시스템(PMS)에 오신 걸 환영합니다!"</span><span class="o">);</span>
    <span class="c1">//...</span>
    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"프로젝트 관리 시스템(PMS)을 종료합니다!"</span><span class="o">);</span>
<span class="o">}</span>
</pre></table></code></div></div><p>옵저버를 만들었으면 메인 메서드에서 옵저버를 등록해야 한다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">App</span> <span class="o">{</span>

  <span class="c1">// 옵저버를 보관할 컬렉션 객체</span>
  <span class="nc">List</span><span class="o">&lt;</span><span class="nc">ApplicationContextListener</span><span class="o">&gt;</span> <span class="n">listeners</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;();</span>

  <span class="c1">// 옵저버를 등록하는 메서드</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">addApplicationContextListener</span><span class="o">(</span><span class="nc">ApplicationContextListener</span> <span class="n">listener</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">listeners</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">listener</span><span class="o">);</span>
  <span class="o">}</span>

  <span class="c1">// 옵저버를 제거하는 메서드</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">removeApplicationContextListener</span><span class="o">(</span><span class="nc">ApplicationContextListener</span> <span class="n">listener</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">listeners</span><span class="o">.</span><span class="na">remove</span><span class="o">(</span><span class="n">listener</span><span class="o">);</span>
  <span class="o">}</span>

  <span class="c1">// service() 실행 전에 옵저버에게 통지한다.</span>
  <span class="kd">private</span> <span class="kt">void</span> <span class="nf">notifyApplicationContextListenerOnServiceStarted</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">for</span> <span class="o">(</span><span class="nc">ApplicationContextListener</span> <span class="n">listener</span> <span class="o">:</span> <span class="n">listeners</span><span class="o">)</span> <span class="o">{</span>
      <span class="c1">// 곧 서비스를 시작할테니 준비하라고,</span>
      <span class="c1">// 서비스 시작에 관심있는 각 옵저버에게 통지한다.</span>
      <span class="n">listener</span><span class="o">.</span><span class="na">contextInitialized</span><span class="o">();</span>
    <span class="o">}</span>
  <span class="o">}</span>

  <span class="c1">// service() 실행 후에 옵저버에게 통지한다.</span>
  <span class="kd">private</span> <span class="kt">void</span> <span class="nf">notifyApplicationContextListenerOnServiceStopped</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">for</span> <span class="o">(</span><span class="nc">ApplicationContextListener</span> <span class="n">listener</span> <span class="o">:</span> <span class="n">listeners</span><span class="o">)</span> <span class="o">{</span>
      <span class="c1">// 서비스가 종료되었으니 마무리 작업하라고, </span>
      <span class="c1">// 마무리 작업에 관심있는 각 옵저버에게 통지한다.</span>
      <span class="n">listener</span><span class="o">.</span><span class="na">contextDestroyed</span><span class="o">();</span>
    <span class="o">}</span>
  <span class="o">}</span>


  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">Exception</span> <span class="o">{</span>
    <span class="nc">App</span> <span class="n">app</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">App</span><span class="o">();</span>

    <span class="c1">// **옵저버 등록**</span>
    <span class="n">app</span><span class="o">.</span><span class="na">addApplicationContextListener</span><span class="o">(</span><span class="k">new</span> <span class="nc">AppInitListener</span><span class="o">());</span>

    <span class="n">app</span><span class="o">.</span><span class="na">service</span><span class="o">();</span>
  <span class="o">}</span>

  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">service</span><span class="o">()</span> <span class="kd">throws</span> <span class="nc">Exception</span> <span class="o">{</span>

    <span class="n">notifyApplicationContextListenerOnServiceStarted</span><span class="o">();</span>
    <span class="c1">//..생략</span>
      
    <span class="n">notifyApplicationContextListenerOnServiceStopped</span><span class="o">();</span>
      
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><p>옵저버 패턴은 새 기능을 추가할 때, 특히 특정 상태에 특정 작업을 하고 싶을때 사용한다. 그러나 <strong>실제로 우리가 옵저버 패턴을 적용할 일은 없다.</strong> <strong>이미 리스트에 들어 있는 객체의 메서드를 호출하도록 프로그램</strong> 되어 있다. 따라서 실제로 우리는 <strong>규칙에 따라 클래스만 작성</strong>하고 메인 메서드에 등록하면 끝난다.</p><p>서블릿 프로그램을 만들 때 구조는 옵저버 패턴과 매우 유사(동일)하다. 단 웹 서버를 만들 때는 직접 등록하지 않고 클래스 선언 위에 <code class="language-plaintext highlighter-rouge">@Webservlet(주소)</code>을 쓴다. 그러면 웹 서버에 등록한다. 그럼 브라우저에서 주소를 입력하면 프로그램이 자동으로 service() 메서드를 호출한다.</p><h1 id="33-b-데이터-로딩과-저장을-observer-객체로-옮기기">33-b: 데이터 로딩과 저장을 <code class="language-plaintext highlighter-rouge">Observer</code> 객체로 옮기기</h1><ul><li>Observer 디자인 패턴 구조에서 <strong>기능을 추가</strong>하는 방법을 연습한다.<li>publisher와 subscriber 간의 객체를 공유함으로써 <strong>데이터 공유</strong>하는 방법을 연습한다.<li><strong>App클래스가 하던 파일 입출력 기능을 옵저버로 옮긴다.</strong></ul><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/50407047/95810323-a3fe6a80-0d4b-11eb-8b13-9c1bf66ec513.png" alt="image" /></p><ul><li>옵저버의 메서드를 호출할 때 <strong>파라미터</strong>로 옵저버와 발행자 간의 <strong>공유할 객체를 넘긴다</strong>.</ul><p>객체 간에 데이터를 주고받기 위해서는 어떻게 해야 할까? 이때까지 배운 방법으로는 호출자가 호출하는 메서드의 파라미터로 데이터를 넘기고, 호출당한 타 클래스 메서드의 작업 결과는 리턴값으로 받아 사용하게 하면 될 것 같다.</p><p>그러나 작업한 결과가 많을 때는 어떻게 해야 할까? 리턴값은 하나밖에 없지 않은가! 리턴값을 Map 객체로 받을 수도 있겠지만, publisher가 공급할 작업재료도 많다면? 작업자가 필요한 작업하는 데 필요한 데이터와 작업자가 작업한 결과를 어떻게 주고받을까? Map객체를 공유함으로서 이를 이룰 수 있다. 호출하는 쪽이 메서드의 파라미터로 Map객체를 넘기고, callee가 작업한 결과도 Map 객체에 저장하도록 한다. 즉 Map 객체를 함게 공유하는 것이다.</p><p>이게 가능한 이유는 자바에서 객체는 call by reference이기 때문이다. 파라미터로 받은 값이 원시형이면 그 자체가 복사되어 메서드 안에서 변경하더라도 호출한 쪽에 반영되지 않는다. 그러나 파라미터로 받은 값이 객체면 객체의 주소가 복사된다. 따라서 메서드 안에서 객체를 수정하면 결국 호출한 쪽에서도 수정된 객체 주소를 가지고 접근하게 되는 것이다.</p><blockquote><p>명령을 내릴 때 말로 표현한다. 프로그램에서는 메서드 호출을 하는 것이 명령을 내리는 것이. 그렇기 때문에 메서드 이름을 항상 동사(명령어)로 하는 것이다.</p></blockquote><h2 id="1단계-발행자와-옵저버-간의-데이터를-공유할-수-있도록-규칙에-파라미터-추가">1단계: 발행자와 옵저버 간의 데이터를 공유할 수 있도록 규칙에 파라미터 추가</h2><p><code class="language-plaintext highlighter-rouge">ApplicationContextListener</code> 인터페이스의<code class="language-plaintext highlighter-rouge">contextInitialized()</code>. <code class="language-plaintext highlighter-rouge">contextDestroyed()</code> 메서드가 Map 파라미터를 받도록 선언한다.</p><blockquote><p>javax.servlet: ServletContextListener 인터페이스의 메서드명도 동일하다 (<code class="language-plaintext highlighter-rouge">contextDestroyed)</code>, <code class="language-plaintext highlighter-rouge">contextDestroyed</code>): 상태변경이 발생했을 때 호출되는 규칙을 정의</p></blockquote><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">interface</span> <span class="nc">ApplicationContextListener</span> <span class="o">{</span>
  <span class="c1">// 발행자(애플리케이션)가 애플리케이션 시작을 알리기 위해 호출하는 메서드</span>
  <span class="kt">void</span> <span class="nf">contextInitialized</span><span class="o">(</span><span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">Object</span><span class="o">&gt;</span> <span class="n">context</span><span class="o">);</span>

  <span class="c1">// 발행자(애플리케이션)가 애플리케이션 종료를 알리기 위해 호출하는 메서드</span>
  <span class="kt">void</span> <span class="nf">contextDestroyed</span><span class="o">(</span><span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">Object</span><span class="o">&gt;</span> <span class="n">context</span><span class="o">);</span>
<span class="o">}</span>
</pre></table></code></div></div><p>따라서 이를 구현한 AppInitListener의 메서드도 인터페이스의 메서드와 선언부를 같게 만들어준다.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">AppInitListener</span> <span class="kd">implements</span> <span class="nc">ApplicationContextListener</span> <span class="o">{</span>
  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">contextInitialized</span><span class="o">(</span><span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">Object</span><span class="o">&gt;</span> <span class="n">context</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"프로젝트 관리 시스템(PMS)에 오신 걸 환영합니다!"</span><span class="o">);</span>
  <span class="o">}</span>

  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">contextDestroyed</span><span class="o">(</span><span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">Object</span><span class="o">&gt;</span> <span class="n">context</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"프로젝트 관리 시스템(PMS)을 종료합니다!"</span><span class="o">);</span>
  <span class="o">}</span>
<span class="o">}</span>

</pre></table></code></div></div><p>App클래스(발행자)에서 발행자와 옵저버 간에 데이터를 공유하기 위해 Map 필드를 생성한다. 그리고 옵저버를 호출할 때 맵 객체를 넘겨주도록 한다. 호출한 쪽에서 객체를 만들어 넘긴다는 것이 중요하다! 맵 파라미터 추가한다. 주방장이 주방보조에게 음식을 만들 재료와 음식을 담을 그릇을 넘겨준다고 생각하면 된다!</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">App</span> <span class="o">{</span>
  <span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">Object</span><span class="o">&gt;</span> <span class="n">context</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashMap</span><span class="o">&lt;&gt;();</span>
  <span class="c1">//...</span>
    <span class="c1">// service() 실행 전에 옵저버에게 통지한다.</span>
  <span class="kd">private</span> <span class="kt">void</span> <span class="nf">notifyApplicationContextListenerOnServiceStarted</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">for</span> <span class="o">(</span><span class="nc">ApplicationContextListener</span> <span class="n">listener</span> <span class="o">:</span> <span class="n">listeners</span><span class="o">)</span> <span class="o">{</span>
      <span class="c1">// 서비스가 종료되었으니 마무리 작업하라고, </span>
      <span class="c1">// 마무리 작업에 관심있는 각 옵저버에게 통지한다.</span>
      <span class="c1">// =&gt; 옵저버에게 맵 객체를 넘겨준다.</span>
      <span class="c1">// =&gt; 옵저버는 작업 결과를 파라미터로 넘겨준 Map객체에 담아줄 것이다.</span>
      <span class="c1">// 빈 그릇 줄 테니까, 작업 결과 담아줘!!</span>
      <span class="n">listener</span><span class="o">.</span><span class="na">contextInitialized</span><span class="o">(</span><span class="n">context</span><span class="o">);</span>
    <span class="o">}</span>
  <span class="o">}</span>

  <span class="c1">// service() 실행 후에 옵저버에게 통지한다.</span>
  <span class="kd">private</span> <span class="kt">void</span> <span class="nf">notifyApplicationContextListenerOnServiceStopped</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">for</span> <span class="o">(</span><span class="nc">ApplicationContextListener</span> <span class="n">listener</span> <span class="o">:</span> <span class="n">listeners</span><span class="o">)</span> <span class="o">{</span>
      <span class="c1">// 서비스가 종료되었으니 마무리 작업하라고, </span>
      <span class="c1">// 마무리 작업에 관심있는 각 옵저버에게 통지한다.</span>
      <span class="c1">// =&gt; 옵저버에게 맵 객체를 넘겨준다.</span>
      <span class="c1">// =&gt; 옵저버는 작업 결과를 파라미터로 넘겨준 Map객체에 담아줄 것이다.</span>
      <span class="n">listener</span><span class="o">.</span><span class="na">contextDestroyed</span><span class="o">(</span><span class="n">context</span><span class="o">);</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="c1">//..</span>
<span class="o">}</span>
</pre></table></code></div></div><p><strong>HashMap과 HashTable의 차이점</strong></p><ul><li><p>HashMap은 key나 value에 null을 허용한다. hashTable은 key나 value에 null을 허용하지 않는다.</p><li><p>HashMap은 멀티 스레드 환경에서 사용되는 것을 보장하지 않는다. 즉 여러 스레드가 동시에 해시맵에 접근하는 것을 막지 않는다. <strong>멀티 스레딩 환경에서 HashMap은 스레드세이프하지 않다</strong>. 동시에 여러 스레드가 들어올 때 적절하게 lock을 걸어놓는 조치를 취하지 않기 때문에 여러 스레드가 동시에 들어올 때 처리하지 못한다. (synchronized 하지 않는다) HashTable은 여러 스레드가 put을 하면 다른 스레드는 put을 못하고 기다리도록 <strong>lock을 건다</strong>. 따라서 멀티 스레드 환경에서는 HashMap보다 HashTable을 쓰는 게 좋다.</p></ul><h2 id="2단계-파일에서-데이터를-로딩하고-저장하는-기능의-옵저버를-추가한다">2단계: 파일에서 데이터를 로딩하고 저장하는 기능의 옵저버를 추가한다.</h2><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/50407047/95811232-c85b4680-0d4d-11eb-8674-49bec06584b0.png" alt="image" /></p><ul><li><code class="language-plaintext highlighter-rouge">com.eomcs.pms.listener.DataHandlerListener</code> 클래스 생성<ul><li>옵저버의 규칙인 ApplicationContextListener를 구현한다.<li><code class="language-plaintext highlighter-rouge">contextInitialized()</code> 데이터를 파일에서 로딩한다.<li><code class="language-plaintext highlighter-rouge">contextDestroyed()</code>에서 그 데이터를 파일에 Json형식으로 저장한다.<li>App 클래스에서 파일 데이터를 로딩하고 저장하는 코드를 이 클래스로 옮긴다.<ul><li>왜? 파일을 읽고 쓰는 것은 프로그램을 시작하고 종료할 때, 즉 특정 상황에서 호출하는 기능이다. 따라서 옵저버 패턴을 적용하기 딱 좋다.</ul></ul><li><code class="language-plaintext highlighter-rouge">App</code>에 DataHandlerListener 옵저버를 등록한다.</ul><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
</pre><td class="rouge-code"><pre><span class="kn">package</span> <span class="nn">com.eomcs.pms.listener</span><span class="o">;</span>


<span class="c1">// 게시물, 회원, 프로젝트, 작업 데이터를 파일에서 로딩하고 파일로 저장하는 일을 한다.</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">DataHandlerListener</span> <span class="kd">implements</span> <span class="nc">ApplicationContextListener</span> <span class="o">{</span>
  
  <span class="c1">//(1) List, File을 인스턴스 필드로 선언한다.</span>
  <span class="c1">// 여기서 List 객체는 App에서 모른다. 따라서 App에서 사용하기 위해</span>
  <span class="c1">// 파라미터로 받은 Map 객체에 넣어줘야 한다.</span>
  <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Board</span><span class="o">&gt;</span> <span class="n">boardList</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;();</span>
  <span class="nc">File</span> <span class="n">boardFile</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">File</span><span class="o">(</span><span class="s">"./board.json"</span><span class="o">);</span> <span class="c1">// 게시글을 저장할 파일 정보</span>

  <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Member</span><span class="o">&gt;</span> <span class="n">memberList</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">LinkedList</span><span class="o">&lt;&gt;();</span>
  <span class="nc">File</span> <span class="n">memberFile</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">File</span><span class="o">(</span><span class="s">"./member.json"</span><span class="o">);</span> <span class="c1">// 회원을 저장할 파일 정보</span>

  <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Project</span><span class="o">&gt;</span> <span class="n">projectList</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">LinkedList</span><span class="o">&lt;&gt;();</span>
  <span class="nc">File</span> <span class="n">projectFile</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">File</span><span class="o">(</span><span class="s">"./project.json"</span><span class="o">);</span> <span class="c1">// 프로젝트를 저장할 파일 정보</span>

  <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Task</span><span class="o">&gt;</span> <span class="n">taskList</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;();</span>
  <span class="nc">File</span> <span class="n">taskFile</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">File</span><span class="o">(</span><span class="s">"./task.json"</span><span class="o">);</span> <span class="c1">// 작업을 저장할 파일 정보</span>

  
  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">contextInitialized</span><span class="o">(</span><span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">Object</span><span class="o">&gt;</span> <span class="n">context</span><span class="o">)</span> <span class="o">{</span>
    <span class="c1">// 애플리케이션의 서비스가 시작되면 먼저 파일에서 데이터를 로딩한다.</span>
    <span class="c1">// 파일에서 데이터 로딩</span>
    <span class="n">loadData</span><span class="o">(</span><span class="n">boardList</span><span class="o">,</span> <span class="n">boardFile</span><span class="o">,</span> <span class="nc">Board</span><span class="o">[].</span><span class="na">class</span><span class="o">);</span>
    <span class="n">loadData</span><span class="o">(</span><span class="n">memberList</span><span class="o">,</span> <span class="n">memberFile</span><span class="o">,</span> <span class="nc">Member</span><span class="o">[].</span><span class="na">class</span><span class="o">);</span>
    <span class="n">loadData</span><span class="o">(</span><span class="n">projectList</span><span class="o">,</span> <span class="n">projectFile</span><span class="o">,</span> <span class="nc">Project</span><span class="o">[].</span><span class="na">class</span><span class="o">);</span>
    <span class="n">loadData</span><span class="o">(</span><span class="n">taskList</span><span class="o">,</span> <span class="n">taskFile</span><span class="o">,</span> <span class="nc">Task</span><span class="o">[].</span><span class="na">class</span><span class="o">);</span>
    
    <span class="c1">// 옵저버가 파일에서 데이터(게시물, 회원, 프로젝트, 작업 데이터)를 읽어 </span>
    <span class="c1">// List 컬렉션에 저장한 다음 </span>
    <span class="c1">// 발행자(App 객체)가 를 사용할 수 있도록  객체에 담아서 공유한다.</span>
    <span class="n">context</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"boardList"</span><span class="o">,</span> <span class="n">boardList</span><span class="o">);</span>
    <span class="n">context</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"memberList"</span><span class="o">,</span> <span class="n">memberList</span><span class="o">);</span>
    <span class="n">context</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"projectList"</span><span class="o">,</span> <span class="n">projectList</span><span class="o">);</span>
    <span class="n">context</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"taskList"</span><span class="o">,</span> <span class="n">taskList</span><span class="o">);</span>
  <span class="o">}</span>

  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">contextDestroyed</span><span class="o">(</span><span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">Object</span><span class="o">&gt;</span> <span class="n">context</span><span class="o">)</span> <span class="o">{</span>
    <span class="c1">// 애플리케이션 서비스가 종료되면 컬렉션 객체에 보관 데이터를 저장한다.</span>
    <span class="c1">// 데이터를 파일에 저장</span>
    <span class="n">saveData</span><span class="o">(</span><span class="n">boardList</span><span class="o">,</span> <span class="n">boardFile</span><span class="o">);</span>
    <span class="n">saveData</span><span class="o">(</span><span class="n">memberList</span><span class="o">,</span> <span class="n">memberFile</span><span class="o">);</span>
    <span class="n">saveData</span><span class="o">(</span><span class="n">projectList</span><span class="o">,</span> <span class="n">projectFile</span><span class="o">);</span>
    <span class="n">saveData</span><span class="o">(</span><span class="n">taskList</span><span class="o">,</span> <span class="n">taskFile</span><span class="o">);</span>
  <span class="o">}</span>
  

  <span class="c1">// 파일에서 JSON 문자열을 읽어 지정한 타입의 객체를 생성한 후 컬렉션에 저장한다.</span>
  <span class="kd">private</span> <span class="o">&lt;</span><span class="no">T</span><span class="o">&gt;</span> <span class="kt">void</span> <span class="nf">loadData</span><span class="o">(</span>
      <span class="nc">Collection</span><span class="o">&lt;</span><span class="no">T</span><span class="o">&gt;</span> <span class="n">list</span><span class="o">,</span> <span class="c1">// 객체를 담을 컬렉션</span>
      <span class="nc">File</span> <span class="n">file</span><span class="o">,</span> <span class="c1">// JSON 문자열이 저장된 파일</span>
      <span class="nc">Class</span><span class="o">&lt;</span><span class="no">T</span><span class="o">[]&gt;</span> <span class="n">clazz</span> <span class="c1">// JSON 문자열을 어떤 타입의 배열로 만들 것인지 알려주는 클래스 정보</span>
      <span class="o">)</span> <span class="o">{</span>
      <span class="c1">//.....생략</span>
  <span class="o">}</span>
  
  <span class="kd">private</span> <span class="kt">void</span> <span class="nf">saveData</span><span class="o">(</span><span class="nc">Collection</span><span class="o">&lt;?&gt;</span> <span class="n">list</span><span class="o">,</span> <span class="nc">File</span> <span class="n">file</span><span class="o">)</span> <span class="o">{</span>
    <span class="c1">//.....생략</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><blockquote><p>publisher-subscriber는 비동기 메시지 처리(java <strong>async message</strong> queue)할 때 사용한다.</p></blockquote><p>옵저버는 서비스가 시작할 때까지 기다리다가 메서드가 호출되면 작업을 수행한다. 지정된 파일(제이슨 문자열이 들어 있는 파일)에서 데이터를 읽어서 list에 저장한다. 이때 App이라는 객체는 list필드를 모른다. 그럼 어떻게 해야 할까? list를 파라미터로 받은 Map 객체에 담아주면 된다. 즉 작업 데이터를 return하는 것이 아니라 파라미터로 받은 객체의 주소로 객체에 접근해서 추가하면 publisher도 수정된 객체를 사용할 수 있다. 파라미터로 실제로 객체를 넘겨 받은 것이 아니라 객체의 주소를 받은 것이기 때문에 App과 DataHandlerListener는 Map객체(의 주소)를 공유하고 있다고 할 수 있다. out 전용 파라미터가 없는 자바에서는 이런 방식으로 <strong>in-out 파라미터</strong>를 구현할 수 있다. 호출자로부터 받은 객체의 값을 꺼낼 수도 있고 담아서 호출자에게 줄 수도 있는 기능을 하는 이런 기능의 파라미터를 <strong>in-out 파라미터</strong>라고 한다.</p><blockquote><p>out 전용 파라미터? C#의 경우 out 전용 파라미터가 있다. (<code class="language-plaintext highlighter-rouge">OutArgExample(out int number)</code>). 호출자가 이 값을 꺼내 쓸 수 있다. 자바의 경우 out전용 파라미터는 없고 return값만 있다. 단, 자바의 파라미터(변수)는 객체 그 자체가 아니라 객체 주소를 담기 때문에 Map 객체를 파라미터로 넘겨줌으로써 in-out 파라미터를 구현할 수 있다.</p></blockquote><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">App</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">Exception</span> <span class="o">{</span>
    <span class="nc">App</span> <span class="n">app</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">App</span><span class="o">();</span>

    <span class="c1">// 옵저버 등록</span>
    <span class="n">app</span><span class="o">.</span><span class="na">addApplicationContextListener</span><span class="o">(</span><span class="k">new</span> <span class="nc">AppInitListener</span><span class="o">());</span>
    <span class="n">app</span><span class="o">.</span><span class="na">addApplicationContextListener</span><span class="o">(</span><span class="k">new</span> <span class="nc">DataHandlerListener</span><span class="o">());</span>
    
	<span class="n">app</span><span class="o">.</span><span class="na">service</span><span class="o">();</span>
  <span class="o">}</span>
  <span class="nd">@SuppressWarnings</span><span class="o">(</span><span class="s">"unchecked"</span><span class="o">)</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">service</span><span class="o">()</span> <span class="o">{</span>

    <span class="n">notifyApplicationContextListenerOnServiceStarted</span><span class="o">();</span>
    <span class="c1">// 옵저버 실행이 끝난 다음에 결과가 Map에 담겨 있다고 가정하고 get하면 된다.</span>
    <span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span><span class="nc">Command</span><span class="o">&gt;</span> <span class="n">commandMap</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashMap</span><span class="o">&lt;&gt;();</span>

    <span class="c1">// 옵저버가 작업한 결과를 맵에서 꺼낸다.</span>
    <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Board</span><span class="o">&gt;</span> <span class="n">boardList</span> <span class="o">=</span> <span class="o">(</span><span class="nc">List</span><span class="o">&lt;</span><span class="nc">Board</span><span class="o">&gt;)</span> <span class="n">context</span><span class="o">.</span><span class="na">get</span><span class="o">((</span><span class="nc">List</span><span class="o">&lt;</span><span class="nc">Board</span><span class="o">&gt;)</span> <span class="n">context</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"boardList"</span><span class="o">));</span>
    <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Board</span><span class="o">&gt;</span> <span class="n">memberList</span> <span class="o">=</span> <span class="o">(</span><span class="nc">List</span><span class="o">&lt;</span><span class="nc">Board</span><span class="o">&gt;)</span> <span class="n">context</span><span class="o">.</span><span class="na">get</span><span class="o">((</span><span class="nc">List</span><span class="o">&lt;</span><span class="nc">Board</span><span class="o">&gt;)</span> <span class="n">context</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"memberList"</span><span class="o">));</span>
    <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Board</span><span class="o">&gt;</span> <span class="n">projectList</span> <span class="o">=</span> <span class="o">(</span><span class="nc">List</span><span class="o">&lt;</span><span class="nc">Board</span><span class="o">&gt;)</span> <span class="n">context</span><span class="o">.</span><span class="na">get</span><span class="o">((</span><span class="nc">List</span><span class="o">&lt;</span><span class="nc">Board</span><span class="o">&gt;)</span> <span class="n">context</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"projectList"</span><span class="o">));</span>
    <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Board</span><span class="o">&gt;</span> <span class="n">taskList</span> <span class="o">=</span> <span class="o">(</span><span class="nc">List</span><span class="o">&lt;</span><span class="nc">Board</span><span class="o">&gt;)</span> <span class="n">context</span><span class="o">.</span><span class="na">get</span><span class="o">((</span><span class="nc">List</span><span class="o">&lt;</span><span class="nc">Board</span><span class="o">&gt;)</span> <span class="n">context</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"taskList"</span><span class="o">));</span>
    <span class="c1">//...</span>
    <span class="n">notifyApplicationContextListenerOnServiceStopped</span><span class="o">();</span>
  <span class="o">}</span>
  <span class="c1">//....</span>
<span class="o">}</span>
</pre></table></code></div></div></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/bitcamp/'>bitcamp</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/bitcamp/" class="post-tag no-text-decoration" >bitcamp</a> <a href="/tags/java/" class="post-tag no-text-decoration" >java</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=학원 #56일차: PMS 프로젝트: Observer 패턴의 활용 - 하연&url=https://hayeon17kim.github.io//posts/201013-56/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=학원 #56일차: PMS 프로젝트: Observer 패턴의 활용 - 하연&u=https://hayeon17kim.github.io//posts/201013-56/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=학원 #56일차: PMS 프로젝트: Observer 패턴의 활용 - 하연&url=https://hayeon17kim.github.io//posts/201013-56/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/system-deisign-capacity-estimation/">System Design: Capacity Estimate</a><li><a href="/posts/today-i-learned-2021-04-27/">주니어 성장일기: 2021.04.27</a><li><a href="/posts/today-i-learned-2021-04-26/">주니어 성장일기: 2021.04.26</a><li><a href="/posts/fastcampus-01/">자료구조와 알고리즘이란</a><li><a href="/posts/today-i-learned-2021-04-25/">주니어 성장일기: 2021.04.25</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/java/">java</a> <a class="post-tag" href="/tags/javascript/">JavaScript</a> <a class="post-tag" href="/tags/bitcamp/">bitcamp</a> <a class="post-tag" href="/tags/modernjs/">modernJS</a> <a class="post-tag" href="/tags/project/">project</a> <a class="post-tag" href="/tags/algorithm/">algorithm</a> <a class="post-tag" href="/tags/trouble-shooting/">trouble-shooting</a> <a class="post-tag" href="/tags/devil/">devil</a> <a class="post-tag" href="/tags/corejs/">corejs</a> <a class="post-tag" href="/tags/network/">network</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/201123-85/"><div class="card-body"> <span class="timeago small" > Nov 23, 2020 <i class="unloaded">2020-11-23T00:00:00+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>학원 #85일차:서블릿 프로그래밍, WAS, JavaEE와 Servlet 컨테이너, Servlet 인터페이스의 Life-cycle 메서드</h3><div class="text-muted small"><p> 서블릿 프로그래밍 웹 애플리케이션 서버 아키텍쳐의 개념 JavaEE와 Servlet API의 관계 JavaEE 구현체와 서블릿 컨테이너의 관계 eomcs-web-project/src-00 예제 실습 Servlet 인터페이스와 Life-cycle 메서드 WAS(Web Application Server) 아키텍처 이전까지는 사...</p></div></div></a></div><div class="card"> <a href="/posts/201124-86/"><div class="card-body"> <span class="timeago small" > Nov 24, 2020 <i class="unloaded">2020-11-24T00:00:00+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>학원 #86일차:서블릿 프로그래밍, 프로젝트를 WAS 아키텍처로 전환</h3><div class="text-muted small"><p> 서블릿 컨테이너가 관리하는 컴포넌트는 서블릿, 필터, 리스너로 3가지이다. Servlet 만들기 1. javax.servlet.Servlet 인터페이스 구현 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38...</p></div></div></a></div><div class="card"> <a href="/posts/201125-87/"><div class="card-body"> <span class="timeago small" > Nov 25, 2020 <i class="unloaded">2020-11-25T00:00:00+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>학원 #87일차: HTML 태그 사용법</h3><div class="text-muted small"><p> HTML/CSS 학습법: 결과 화면 먼저 보고 소스코드를 확인하자 UI와 UX UX(User Experience; 사용자 경험): 사용자 편의성 ex: 링크에 hover했을 때 커서가 손모양으로 바뀌어야 한다. UI(User Interface): 기능을 하는 화면이 있는가 HTML ...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/201012-55/" class="btn btn-outline-primary" prompt="Older"><p>학원 #55일차: Observer 패턴</p></a> <a href="/posts/201014-57/" class="btn btn-outline-primary" prompt="Newer"><p>학원 #57일차: 네트워크 API를 활용한 C/S 아키텍처</p></a></div><div id="disqus" class="pt-2 pb-2"><p class="text-center text-muted small pb-5"> Loading comments from <a href="https://disqus.com/">Disqus</a> ...</p></div><script src="/assets/js/lib/jquery.disqusloader.min.js"></script> <script> const options = { scriptUrl: '//hayeon17kim-github-io.disqus.com/embed.js', disqusConfig: function() { this.page.title = '학원 #56일차: PMS 프로젝트: Observer 패턴의 활용'; this.page.url = 'https://hayeon17kim.github.io//posts/201013-56/'; this.page.identifier = '/posts/201013-56/'; } }; $.disqusLoader('#disqus', options); </script></div></div></div><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script> <script type="text/javascript"> const imgs = document.querySelectorAll('.post-content img'); const observer = lozad(imgs); observer.observe(); </script><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2021 <a href="https://twitter.com/MONI56219559">hayeon_kim</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/java/">java</a> <a class="post-tag" href="/tags/javascript/">JavaScript</a> <a class="post-tag" href="/tags/bitcamp/">bitcamp</a> <a class="post-tag" href="/tags/modernjs/">modernJS</a> <a class="post-tag" href="/tags/project/">project</a> <a class="post-tag" href="/tags/algorithm/">algorithm</a> <a class="post-tag" href="/tags/trouble-shooting/">trouble shooting</a> <a class="post-tag" href="/tags/devil/">devil</a> <a class="post-tag" href="/tags/corejs/">corejs</a> <a class="post-tag" href="/tags/network/">network</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://hayeon17kim.github.io/{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script>
