<!DOCTYPE html><html lang="kr-KR" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="pv-cache-enabled" content="false"><meta name="generator" content="Jekyll v4.2.0" /><meta property="og:title" content="DEVIL: 개인 피드 구현: 게시글 중복 문제" /><meta name="author" content="hayeon_kim" /><meta property="og:locale" content="kr_KR" /><meta name="description" content="문제" /><meta property="og:description" content="문제" /><link rel="canonical" href="https://hayeon17kim.github.io//posts/devil-58/" /><meta property="og:url" content="https://hayeon17kim.github.io//posts/devil-58/" /><meta property="og:site_name" content="하연" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2020-12-17T00:00:00+08:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="DEVIL: 개인 피드 구현: 게시글 중복 문제" /><meta name="twitter:site" content="@MONI56219559" /><meta name="twitter:creator" content="@hayeon_kim" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"author":{"@type":"Person","name":"hayeon_kim"},"headline":"DEVIL: 개인 피드 구현: 게시글 중복 문제","dateModified":"2020-12-17T00:00:00+08:00","datePublished":"2020-12-17T00:00:00+08:00","description":"문제","url":"https://hayeon17kim.github.io//posts/devil-58/","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://hayeon17kim.github.io//posts/devil-58/"},"@context":"https://schema.org"}</script><title>DEVIL: 개인 피드 구현: 게시글 중복 문제 | 하연</title><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon.png"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon-precomposed.png"><link rel="apple-touch-icon" sizes="57x57" href="/assets/img/favicons/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/assets/img/favicons/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicons/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/assets/img/favicons/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicons/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/assets/img/favicons/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicons/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/assets/img/favicons/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/assets/img/favicons/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/assets/img/favicons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/manifest.json"><meta name='msapplication-config' content='/assets/img/favicons/browserconfig.xml'><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/assets/img/favicons/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="cdn.jsdelivr.net"><link rel="dns-prefetch" href="cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=UA-173202420-1"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-173202420-1'); }); </script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/img/bio-photo.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">하연</a></div><div class="site-subtitle font-italic">어제보다 나은 코드를 위해</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/projects/" class="nav-link"> <i class="fa-fw fas fa-laptop-code ml-xl-3 mr-xl-3 unloaded"></i> <span>PROJECTS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/hayeon17kim" aria-label="github" class="order-3" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/MONI56219559" aria-label="twitter" class="order-4" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['hayeon17kim','gmail.com'].join('@')" aria-label="email" class="order-5" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" class="order-6" > <i class="fas fa-rss"></i> </a> <span class="icon-border order-2"></span> <span id="mode-toggle-wrapper" class="order-1"> <i class="mode-toggle fas fa-adjust"></i> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } var self = this; /* always follow the system prefers */ this.sysDarkPrefers.addListener(function() { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.updateMermaid(); }); } /* constructor() */ setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode == ModeToggle.DARK_MODE; } get isLightMode() { return this.mode == ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer) ) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } updateMermaid() { if (typeof mermaid !== "undefined") { let expectedTheme = (this.modeStatus === ModeToggle.DARK_MODE? "dark" : "default"); let config = { theme: expectedTheme }; /* re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function() { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.updateMermaid(); } /* flipMode() */ } /* ModeToggle */ let toggle = new ModeToggle(); $(".mode-toggle").click(function() { toggle.flipMode(); }); </script> </span></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Posts </a> </span> <span>DEVIL: 개인 피드 구현: 게시글 중복 문제</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>DEVIL: 개인 피드 구현: 게시글 중복 문제</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Thu, Dec 17, 2020, 12:00 AM +0800" > Dec 17, 2020 <i class="unloaded">2020-12-17T00:00:00+08:00</i> </span> by <span class="author"> hayeon_kim </span></div><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="872 words">4 min</span></div></div><div class="post-content"><h2 id="문제">문제</h2><p>마이페이지 피드에서 게시글 목록을 출력한다. 유저가 팔로우하는 태그를 사용한 게시글이거나, 팔로우하는 유저가 작성한 게시글이여야 한다. 게시글은 최신순으로 출력하고, <strong>중복되어서는 안 된다.</strong></p><h2 id="해결방법">해결방법</h2><h3 id="sql에서-피드-목록을-출력할-때의-조건">SQL에서 피드 목록을 출력할 때의 조건</h3><p>피드를 출력하기 위해서는 유저가 팔로우하는 태그를 사용하는 게시글 목록을 우선 select 하고, 유저가 팔로우하는 유저가 작성한 게시글 목록을 select해야 한다. 이때 함께 select하되 게시글은 중복되어서는 안 된다.</p><h3 id="시도했지만-실패한-방법">시도했지만 실패한 방법</h3><ol><li><p>User가 팔로우하는 유저 목록과 태그 목록을 파라미터로 넘겨 이를 forEach로 반복해 where 조건을 걸려고 하였다. 이 경우 <code class="language-plaintext highlighter-rouge">ArticleController</code>에서 <code class="language-plaintext highlighter-rouge">FollowService</code>를 사용하여 유저 목록과 태그 목록을 가져오고, 이를 <code class="language-plaintext highlighter-rouge">ArticleService.listFeed()</code>의 파라미터로 넘겨주기 때문에 비효율적이다. 뿐만 아니라 DB에는 user의 일련번호 컬럼이 관계테이블인 <code class="language-plaintext highlighter-rouge">usr_tag</code>, <code class="language-plaintext highlighter-rouge">follow</code>뿐만 아니라 <code class="language-plaintext highlighter-rouge">article</code> 테이블에도 들어 있기 때문에 이 일련번호만 있으면 쿼리를 할 수 있다.</p><li><p>또한 한 쿼리문으로 usr_tag, follow 테이블을 조인하고, where 조건을 or를 줘서 게시글 목록을 select하려고 하였다. 이 경우 같은 게시글이 중복되어 select되는 문제가 있었다. SQL문을 두 개로 분리하고, 이를 합칠 필요를 느꼈다.</p></ol><h3 id="union">Union</h3><p>이때 사용하는 sql 문법이 <strong>Union</strong>이다. Union은 <strong>여러 개의 SQL문을 합쳐 하나의 SQL문으로 만들어주는</strong> 방법이다. 두 개의 쿼리의 합집합을 만들어준다고 생각하면 쉽다.</p><p><strong>Union</strong>과 <strong>UnionAll</strong>은 두 쿼리문을 하나로 합쳐준다는 것에 공통점이 있다. 그러나 Union은 두 쿼리 결과의 <strong>중복값을 제거</strong>해서 보여주고, UnionAll은 <strong>중복된 값도 전부 다 보여준다</strong>는 차이점이 있다. Union은 중복값 제거를 위해 연산을 한 번 더 해야 하기 때문에 UnionAll이 Union보다 빠르다.</p><p>Union을 사용할 때는 컬럼명과 컬럼별 데이터타입이 같아야 한다. 컬럼명이 같지 않을 경우 <code class="language-plaintext highlighter-rouge">as</code>를 사용해 컬럼명을 같게 만들어줘야 한다.</p><h3 id="완성된-sql문">완성된 SQL문</h3><div class="language-sql highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
</pre><td class="rouge-code"><pre><span class="k">select</span> 
  <span class="n">feed</span><span class="p">.</span><span class="n">arno</span><span class="p">,</span>
  <span class="n">feed</span><span class="p">.</span><span class="n">title</span><span class="p">,</span>
  <span class="n">feed</span><span class="p">.</span><span class="n">content</span><span class="p">,</span>
  <span class="n">feed</span><span class="p">.</span><span class="n">cdt</span><span class="p">,</span>
  <span class="n">feed</span><span class="p">.</span><span class="n">cano</span><span class="p">,</span>
  <span class="n">feed</span><span class="p">.</span><span class="n">vw_cnt</span><span class="p">,</span>
  <span class="n">feed</span><span class="p">.</span><span class="n">uno</span><span class="p">,</span>
  <span class="n">feed</span><span class="p">.</span><span class="n">article_nick</span><span class="p">,</span>
  <span class="n">feed</span><span class="p">.</span><span class="n">article_photo</span><span class="p">,</span>
  <span class="n">feed</span><span class="p">.</span><span class="n">tno</span><span class="p">,</span>
  <span class="n">feed</span><span class="p">.</span><span class="n">tag_name</span><span class="p">,</span>
  <span class="n">feed</span><span class="p">.</span><span class="n">tag_color</span><span class="p">,</span>
  <span class="n">feed</span><span class="p">.</span><span class="n">font_color</span>
<span class="k">from</span> <span class="p">(</span>
  <span class="k">select</span>
    <span class="n">a</span><span class="p">.</span><span class="n">arno</span><span class="p">,</span> 
    <span class="n">a</span><span class="p">.</span><span class="n">title</span><span class="p">,</span>
    <span class="n">a</span><span class="p">.</span><span class="n">content</span><span class="p">,</span>
    <span class="n">a</span><span class="p">.</span><span class="n">cdt</span><span class="p">,</span>  
    <span class="n">a</span><span class="p">.</span><span class="n">cano</span><span class="p">,</span>  
    <span class="n">a</span><span class="p">.</span><span class="n">vw_cnt</span><span class="p">,</span> 
    <span class="n">a</span><span class="p">.</span><span class="k">state</span><span class="p">,</span>
    <span class="n">u</span><span class="p">.</span><span class="n">uno</span><span class="p">,</span>
    <span class="n">u</span><span class="p">.</span><span class="n">nick</span> <span class="n">article_nick</span><span class="p">,</span>
    <span class="n">u</span><span class="p">.</span><span class="n">photo</span> <span class="n">article_photo</span><span class="p">,</span>
    <span class="n">t</span><span class="p">.</span><span class="n">tno</span><span class="p">,</span>
    <span class="n">t</span><span class="p">.</span><span class="n">name</span> <span class="n">tag_name</span><span class="p">,</span>
    <span class="n">t</span><span class="p">.</span><span class="n">tag_color</span><span class="p">,</span>
    <span class="n">t</span><span class="p">.</span><span class="n">font_color</span>
  <span class="k">from</span>
    <span class="n">article</span> <span class="n">a</span> 
    <span class="k">inner</span> <span class="k">join</span> <span class="n">follow</span> <span class="n">f</span> <span class="k">on</span> <span class="n">a</span><span class="p">.</span><span class="n">writer</span> <span class="o">=</span> <span class="n">f</span><span class="p">.</span><span class="n">fwing_no</span>
    <span class="k">inner</span> <span class="k">join</span> <span class="n">arc_tag</span> <span class="k">at</span> <span class="k">on</span> <span class="k">at</span><span class="p">.</span><span class="n">arno</span> <span class="o">=</span> <span class="n">a</span><span class="p">.</span><span class="n">arno</span>
    <span class="k">inner</span> <span class="k">join</span> <span class="n">tag</span> <span class="n">t</span> <span class="k">on</span> <span class="k">at</span><span class="p">.</span><span class="n">tno</span> <span class="o">=</span> <span class="n">t</span><span class="p">.</span><span class="n">tno</span>
    <span class="k">inner</span> <span class="k">join</span> <span class="k">user</span> <span class="n">u</span> <span class="k">on</span> <span class="n">a</span><span class="p">.</span><span class="n">writer</span> <span class="o">=</span> <span class="n">u</span><span class="p">.</span><span class="n">uno</span>
  <span class="k">where</span> 
    <span class="n">fwer_no</span> <span class="o">=</span> <span class="o">#</span><span class="err">{</span><span class="k">no</span><span class="err">}</span>
    
  <span class="k">union</span>
  
  <span class="k">select</span>
    <span class="n">a</span><span class="p">.</span><span class="n">arno</span><span class="p">,</span> 
    <span class="n">a</span><span class="p">.</span><span class="n">title</span><span class="p">,</span>
    <span class="n">a</span><span class="p">.</span><span class="n">content</span><span class="p">,</span>
    <span class="n">a</span><span class="p">.</span><span class="n">cdt</span><span class="p">,</span>  
    <span class="n">a</span><span class="p">.</span><span class="n">cano</span><span class="p">,</span>  
    <span class="n">a</span><span class="p">.</span><span class="n">vw_cnt</span><span class="p">,</span> 
    <span class="n">a</span><span class="p">.</span><span class="k">state</span><span class="p">,</span>
    <span class="n">u</span><span class="p">.</span><span class="n">uno</span><span class="p">,</span>
    <span class="n">u</span><span class="p">.</span><span class="n">nick</span> <span class="n">article_nick</span><span class="p">,</span>
    <span class="n">u</span><span class="p">.</span><span class="n">photo</span> <span class="n">article_photo</span><span class="p">,</span>
    <span class="n">t</span><span class="p">.</span><span class="n">tno</span><span class="p">,</span>
    <span class="n">t</span><span class="p">.</span><span class="n">name</span> <span class="n">tag_name</span><span class="p">,</span>
    <span class="n">t</span><span class="p">.</span><span class="n">tag_color</span><span class="p">,</span>
    <span class="n">t</span><span class="p">.</span><span class="n">font_color</span>
  <span class="k">from</span> 
    <span class="n">arc_tag</span> <span class="k">at</span>
    <span class="k">inner</span> <span class="k">join</span> <span class="n">usr_tag</span> <span class="n">ut</span> <span class="k">on</span> <span class="k">at</span><span class="p">.</span><span class="n">tno</span> <span class="o">=</span> <span class="n">ut</span><span class="p">.</span><span class="n">tno</span>
    <span class="k">inner</span> <span class="k">join</span> <span class="n">tag</span> <span class="n">t</span> <span class="k">on</span> <span class="k">at</span><span class="p">.</span><span class="n">tno</span> <span class="o">=</span> <span class="n">t</span><span class="p">.</span><span class="n">tno</span>
    <span class="k">inner</span> <span class="k">join</span> <span class="n">article</span> <span class="n">a</span> <span class="k">on</span> <span class="k">at</span><span class="p">.</span><span class="n">arno</span> <span class="o">=</span> <span class="n">a</span><span class="p">.</span><span class="n">arno</span>
    <span class="k">inner</span> <span class="k">join</span> <span class="k">user</span> <span class="n">u</span> <span class="k">on</span> <span class="n">a</span><span class="p">.</span><span class="n">writer</span> <span class="o">=</span> <span class="n">u</span><span class="p">.</span><span class="n">uno</span>
  <span class="k">where</span> 
    <span class="n">ut</span><span class="p">.</span><span class="n">uno</span> <span class="o">=</span> <span class="o">#</span><span class="err">{</span><span class="k">no</span><span class="err">}</span>
<span class="p">)</span> <span class="n">feed</span>
<span class="k">order</span> <span class="k">by</span> <span class="n">feed</span><span class="p">.</span><span class="n">arno</span> <span class="k">desc</span>
</pre></table></code></div></div></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/devil/'>devil</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/project/" class="post-tag no-text-decoration" >project</a> <a href="/tags/trouble-shooting/" class="post-tag no-text-decoration" >trouble-shooting</a> <a href="/tags/devil/" class="post-tag no-text-decoration" >devil</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=DEVIL: 개인 피드 구현: 게시글 중복 문제 - 하연&url=https://hayeon17kim.github.io//posts/devil-58/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=DEVIL: 개인 피드 구현: 게시글 중복 문제 - 하연&u=https://hayeon17kim.github.io//posts/devil-58/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=DEVIL: 개인 피드 구현: 게시글 중복 문제 - 하연&url=https://hayeon17kim.github.io//posts/devil-58/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/system-deisign-capacity-estimation/">System Design: Capacity Estimate</a><li><a href="/posts/today-i-learned-2021-04-27/">주니어 성장일기: 2021.04.27</a><li><a href="/posts/today-i-learned-2021-04-26/">주니어 성장일기: 2021.04.26</a><li><a href="/posts/fastcampus-01/">자료구조와 알고리즘이란</a><li><a href="/posts/today-i-learned-2021-04-25/">주니어 성장일기: 2021.04.25</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/java/">java</a> <a class="post-tag" href="/tags/javascript/">JavaScript</a> <a class="post-tag" href="/tags/bitcamp/">bitcamp</a> <a class="post-tag" href="/tags/modernjs/">modernJS</a> <a class="post-tag" href="/tags/project/">project</a> <a class="post-tag" href="/tags/algorithm/">algorithm</a> <a class="post-tag" href="/tags/trouble-shooting/">trouble-shooting</a> <a class="post-tag" href="/tags/devil/">devil</a> <a class="post-tag" href="/tags/corejs/">corejs</a> <a class="post-tag" href="/tags/network/">network</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/devil-02/"><div class="card-body"> <span class="timeago small" > Nov 19, 2020 <i class="unloaded">2020-11-19T00:00:00+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>DEVIL: 프로그래머스 채용공고 크롤링</h3><div class="text-muted small"><p> 변경사항 사람인의 채용공고의 경우 채용공고 게시글의 내용이 이미지 파일인 경우가 많아, 텍스트로 가져오기가 힘들었다. 채용공고 내용이 텍스트로 되어 있고, 채용공고가 개발자 직군에 한정된 프로그래머스 사이트의 채용공고를 크롤링하기로 결정하였다. 채용공고 내용을 가져오기 위해 크롤링 사이트를 바꾼 만큼, 목록 페이지가 아니라 상세보기 페이...</p></div></div></a></div><div class="card"> <a href="/posts/devil-03/"><div class="card-body"> <span class="timeago small" > Nov 23, 2020 <i class="unloaded">2020-11-23T00:00:00+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>DEVIL: mysql의 datatime 타입과 java.util.Date 클래스</h3><div class="text-muted small"><p> 문제 Article의 cdt 컬럼(datetime)에 해당하는 도메인 객체의 필드는 어떤 타입으로 지정해야 할까? 다시 말해, 컬럼의 타입이 datetime일 때는 해당 도메인 객체의 타입을 어떻게 지정하는 것이 좋을까? java.sql.Date 의 경우 시간 정보가 저장되지 않는다. Java.sql.Time의 경우 날짜 정보가 저장되지 않는다. j...</p></div></div></a></div><div class="card"> <a href="/posts/devil-28/"><div class="card-body"> <span class="timeago small" > Dec 4, 2020 <i class="unloaded">2020-12-04T00:00:00+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>DEVIL: 태그 언팔로우 시 /tag/list로 redirect하는 문제</h3><div class="text-muted small"><p> 문제 /auth/loginUser/페이지에서 태그를 언팔로우했을 때, UserUnfollowTagServlet에서 /tag/list로 리다이렉트하고 있다. /user/unfollow를 호출한 페이지로 리다이렉트되도록 만들어야 한다. 해결방법 이전에는 UserUnfollowTagServlet에서 다음과 같이 고정된 URL 값을 주었다. 따라서 어떤...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/devil-57/" class="btn btn-outline-primary" prompt="Older"><p>DEVIL: DispatcherServlet을 admin과 app으로 분리</p></a> <a href="/posts/devil-61/" class="btn btn-outline-primary" prompt="Newer"><p>DEVIL: DispatcherServlet에 따른 비활성 상태의 데이터 추출 여부 변경</p></a></div><div id="disqus" class="pt-2 pb-2"><p class="text-center text-muted small pb-5"> Loading comments from <a href="https://disqus.com/">Disqus</a> ...</p></div><script src="/assets/js/lib/jquery.disqusloader.min.js"></script> <script> const options = { scriptUrl: '//hayeon17kim-github-io.disqus.com/embed.js', disqusConfig: function() { this.page.title = 'DEVIL: 개인 피드 구현: 게시글 중복 문제'; this.page.url = 'https://hayeon17kim.github.io//posts/devil-58/'; this.page.identifier = '/posts/devil-58/'; } }; $.disqusLoader('#disqus', options); </script></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2021 <a href="https://twitter.com/MONI56219559">hayeon_kim</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/java/">java</a> <a class="post-tag" href="/tags/javascript/">JavaScript</a> <a class="post-tag" href="/tags/bitcamp/">bitcamp</a> <a class="post-tag" href="/tags/modernjs/">modernJS</a> <a class="post-tag" href="/tags/project/">project</a> <a class="post-tag" href="/tags/algorithm/">algorithm</a> <a class="post-tag" href="/tags/trouble-shooting/">trouble shooting</a> <a class="post-tag" href="/tags/devil/">devil</a> <a class="post-tag" href="/tags/corejs/">corejs</a> <a class="post-tag" href="/tags/network/">network</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://hayeon17kim.github.io/{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script>
